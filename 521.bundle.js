/*! For license information please see 521.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcollaborative_note_taking_app=self.webpackChunkcollaborative_note_taking_app||[]).push([[521],{9998:(t,e,n)=>{n.d(e,{A:()=>E});var r,i,o=n(1635),a=n(1625),s=n(1134),u=n(2477),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.FA("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Vy("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.A4)(t),this.container=new s.h1(e.name),this._addComponent(new s.uA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.gR)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.uA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.He,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Ey)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!(0,a.gR)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.zw)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];e[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(m);return e.INTERNAL=(0,o.Cl)((0,o.Cl)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.zw)(e,t)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.Bd)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.Ll)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new s.uA("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(w);const E=w},1134:(t,e,n)=>{n.d(e,{h1:()=>u,uA:()=>o});var r=n(1635),i=n(1625),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.cY;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}try{for(var i=(0,r.Ju)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.zs)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.sH)(this,void 0,void 0,(function(){var t;return(0,r.YH)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.fX)((0,r.fX)([],(0,r.zs)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.zs)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=a),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.Ju)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.zs)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,r.Ju)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2477:(t,e,n)=>{function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{$b:()=>o,Ey:()=>d,He:()=>f,Vy:()=>h});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},1625:(t,e,n)=>{n.d(e,{A4:()=>s,Bd:()=>p,FA:()=>I,Fy:()=>l,Ku:()=>C,Ll:()=>d,ZQ:()=>h,b8:()=>g,cY:()=>c,gR:()=>A,jZ:()=>f,lT:()=>y,lV:()=>v,n4:()=>b,nr:()=>w,sr:()=>m,tD:()=>S,zw:()=>u});var r=n(1635),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function s(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.Cl)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return h().indexOf("Electron/")>=0}function y(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return(0,r.C6)(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(T,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new E(i,s,r)},t}(),T=/\{\$([^}]+)}/g;function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new _(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var _=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function C(t){return t&&t._delegate?t._delegate:t}},6746:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(45),i=n(8168),o=n(6540),a=n(53),s=n(5192),u=n(9773),c=n(7688),l=n(7515),h=o.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,h=t.color,f=void 0===h?"default":h,d=t.component,p=void 0===d?"button":d,m=t.disabled,v=void 0!==m&&m,g=t.disableElevation,y=void 0!==g&&g,b=t.disableFocusRipple,w=void 0!==b&&b,E=t.endIcon,I=t.focusVisibleClassName,T=t.fullWidth,A=void 0!==T&&T,S=t.size,_=void 0===S?"medium":S,k=t.startIcon,C=t.type,N=void 0===C?"button":C,x=t.variant,D=void 0===x?"text":x,R=(0,r.A)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),O=k&&o.createElement("span",{className:(0,a.A)(s.startIcon,s["iconSize".concat((0,l.A)(_))])},k),P=E&&o.createElement("span",{className:(0,a.A)(s.endIcon,s["iconSize".concat((0,l.A)(_))])},E);return o.createElement(c.A,(0,i.A)({className:(0,a.A)(s.root,s[D],u,"inherit"===f?s.colorInherit:"default"!==f&&s["".concat(D).concat((0,l.A)(f))],"medium"!==_&&[s["".concat(D,"Size").concat((0,l.A)(_))],s["size".concat((0,l.A)(_))]],y&&s.disableElevation,v&&s.disabled,A&&s.fullWidth),component:p,disabled:v,focusRipple:!w,focusVisibleClassName:(0,a.A)(s.focusVisible,I),ref:e,type:N},R),o.createElement("span",{className:s.label},O,n,P))}));const f=(0,s.A)((function(t){return{root:(0,i.A)({},t.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow","border"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,u.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:(0,u.X4)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:(0,u.X4)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(t.palette.action.disabledBackground)}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat((0,u.X4)(t.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.primary.main),backgroundColor:(0,u.X4)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat((0,u.X4)(t.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.secondary.main),backgroundColor:(0,u.X4)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(t.palette.action.disabled)}},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&:hover":{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(h)},7688:(t,e,n)=>{n.d(e,{A:()=>C});var r=n(8168),i=n(45),o=n(6540),a=n(961),s=n(53),u=n(4801),c=n(2319),l=n(5192),h=n(364),f=n(5458),d=n(8587),p=n(9417),m=n(5540),v=n(7241);function g(t,e){var n=Object.create(null);return t&&o.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,o.isValidElement)(t)?e(t):t}(t)})),n}function y(t,e,n){return null!=n[e]?n[e]:t.props[e]}function b(t,e,n){var r=g(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(e,r);return Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var u=a in e,c=a in r,l=e[a],h=(0,o.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&(0,o.isValidElement)(l)&&(i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:y(s,"exit",t),enter:y(s,"enter",t)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:y(s,"exit",t),enter:y(s,"enter",t)})}})),i}var w=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},E=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,p.A)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,m.A)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,r=a,g(n.children,(function(t){return(0,o.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:y(t,"appear",n),enter:y(t,"enter",n),exit:y(t,"exit",n)})}))):b(t,i,a),firstRender:!1}},n.handleExited=function(t,e){var n=g(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,r.A)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=(0,d.A)(t,["component","childFactory"]),i=this.state.contextValue,a=w(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o.createElement(v.A.Provider,{value:i},a):o.createElement(v.A.Provider,{value:i},o.createElement(e,r,a))},e}(o.Component);E.propTypes={},E.defaultProps={component:"div",childFactory:function(t){return t}};const I=E;var T="undefined"==typeof window?o.useEffect:o.useLayoutEffect;const A=function(t){var e=t.classes,n=t.pulsate,r=void 0!==n&&n,i=t.rippleX,a=t.rippleY,u=t.rippleSize,l=t.in,h=t.onExited,f=void 0===h?function(){}:h,d=t.timeout,p=o.useState(!1),m=p[0],v=p[1],g=(0,s.A)(e.ripple,e.rippleVisible,r&&e.ripplePulsate),y={width:u,height:u,top:-u/2+a,left:-u/2+i},b=(0,s.A)(e.child,m&&e.childLeaving,r&&e.childPulsate),w=(0,c.A)(f);return T((function(){if(!l){v(!0);var t=setTimeout(w,d);return function(){clearTimeout(t)}}}),[w,l,d]),o.createElement("span",{className:g,style:y},o.createElement("span",{className:b}))};var S=o.forwardRef((function(t,e){var n=t.center,a=void 0!==n&&n,u=t.classes,c=t.className,l=(0,i.A)(t,["center","classes","className"]),h=o.useState([]),d=h[0],p=h[1],m=o.useRef(0),v=o.useRef(null);o.useEffect((function(){v.current&&(v.current(),v.current=null)}),[d]);var g=o.useRef(!1),y=o.useRef(null),b=o.useRef(null),w=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var E=o.useCallback((function(t){var e=t.pulsate,n=t.rippleX,r=t.rippleY,i=t.rippleSize,a=t.cb;p((function(t){return[].concat((0,f.A)(t),[o.createElement(A,{key:m.current,classes:u,timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:i})])})),m.current+=1,v.current=a}),[u]),T=o.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.pulsate,i=void 0!==r&&r,o=e.center,s=void 0===o?a||e.pulsate:o,u=e.fakeElement,c=void 0!==u&&u;if("mousedown"===t.type&&g.current)g.current=!1;else{"touchstart"===t.type&&(g.current=!0);var l,h,f,d=c?null:w.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)l=Math.round(p.width/2),h=Math.round(p.height/2);else{var m=t.touches?t.touches[0]:t,v=m.clientX,I=m.clientY;l=Math.round(v-p.left),h=Math.round(I-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2==0&&(f+=1);else{var T=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,A=2*Math.max(Math.abs((d?d.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(T,2)+Math.pow(A,2))}t.touches?null===b.current&&(b.current=function(){E({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):E({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})}}),[a,E]),S=o.useCallback((function(){T({},{pulsate:!0})}),[T]),_=o.useCallback((function(t,e){if(clearTimeout(y.current),"touchend"===t.type&&b.current)return t.persist(),b.current(),b.current=null,void(y.current=setTimeout((function(){_(t,e)})));b.current=null,p((function(t){return t.length>0?t.slice(1):t})),v.current=e}),[]);return o.useImperativeHandle(e,(function(){return{pulsate:S,start:T,stop:_}}),[S,T,_]),o.createElement("span",(0,r.A)({className:(0,s.A)(u.root,c),ref:w},l),o.createElement(I,{component:null,exit:!0},d))}));const _=(0,l.A)((function(t){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(S));var k=o.forwardRef((function(t,e){var n=t.action,l=t.buttonRef,f=t.centerRipple,d=void 0!==f&&f,p=t.children,m=t.classes,v=t.className,g=t.component,y=void 0===g?"button":g,b=t.disabled,w=void 0!==b&&b,E=t.disableRipple,I=void 0!==E&&E,T=t.disableTouchRipple,A=void 0!==T&&T,S=t.focusRipple,k=void 0!==S&&S,C=t.focusVisibleClassName,N=t.onBlur,x=t.onClick,D=t.onFocus,R=t.onFocusVisible,O=t.onKeyDown,P=t.onKeyUp,L=t.onMouseDown,M=t.onMouseLeave,F=t.onMouseUp,V=t.onTouchEnd,U=t.onTouchMove,j=t.onTouchStart,H=t.onDragLeave,q=t.tabIndex,B=void 0===q?0:q,K=t.TouchRippleProps,z=t.type,W=void 0===z?"button":z,G=(0,i.A)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=o.useRef(null),X=o.useRef(null),$=o.useState(!1),Q=$[0],J=$[1];w&&Q&&J(!1);var Z=(0,h.A)(),tt=Z.isFocusVisible,et=Z.onBlurVisible,nt=Z.ref;function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;return(0,c.A)((function(r){return e&&e(r),!n&&X.current&&X.current[t](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){J(!0),Y.current.focus()}}}),[]),o.useEffect((function(){Q&&k&&!I&&X.current.pulsate()}),[I,k,Q]);var it=rt("start",L),ot=rt("stop",H),at=rt("stop",F),st=rt("stop",(function(t){Q&&t.preventDefault(),M&&M(t)})),ut=rt("start",j),ct=rt("stop",V),lt=rt("stop",U),ht=rt("stop",(function(t){Q&&(et(t),J(!1)),N&&N(t)}),!1),ft=(0,c.A)((function(t){Y.current||(Y.current=t.currentTarget),tt(t)&&(J(!0),R&&R(t)),D&&D(t)})),dt=function(){var t=a.findDOMNode(Y.current);return y&&"button"!==y&&!("A"===t.tagName&&t.href)},pt=o.useRef(!1),mt=(0,c.A)((function(t){k&&!pt.current&&Q&&X.current&&" "===t.key&&(pt.current=!0,t.persist(),X.current.stop(t,(function(){X.current.start(t)}))),t.target===t.currentTarget&&dt()&&" "===t.key&&t.preventDefault(),O&&O(t),t.target===t.currentTarget&&dt()&&"Enter"===t.key&&!w&&(t.preventDefault(),x&&x(t))})),vt=(0,c.A)((function(t){k&&" "===t.key&&X.current&&Q&&!t.defaultPrevented&&(pt.current=!1,t.persist(),X.current.stop(t,(function(){X.current.pulsate(t)}))),P&&P(t),x&&t.target===t.currentTarget&&dt()&&" "===t.key&&!t.defaultPrevented&&x(t)})),gt=y;"button"===gt&&G.href&&(gt="a");var yt={};"button"===gt?(yt.type=W,yt.disabled=w):("a"===gt&&G.href||(yt.role="button"),yt["aria-disabled"]=w);var bt=(0,u.A)(l,e),wt=(0,u.A)(nt,Y),Et=(0,u.A)(bt,wt),It=o.useState(!1),Tt=It[0],At=It[1];o.useEffect((function(){At(!0)}),[]);var St=Tt&&!I&&!w;return o.createElement(gt,(0,r.A)({className:(0,s.A)(m.root,v,Q&&[m.focusVisible,C],w&&m.disabled),onBlur:ht,onClick:x,onFocus:ft,onKeyDown:mt,onKeyUp:vt,onMouseDown:it,onMouseLeave:st,onMouseUp:at,onDragLeave:ot,onTouchEnd:ct,onTouchMove:lt,onTouchStart:ut,ref:Et,tabIndex:w?-1:B},yt,G),p,St?o.createElement(_,(0,r.A)({ref:X,center:d},K)):null)}));const C=(0,l.A)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(k)},3615:(t,e,n)=>{n.d(e,{A:()=>m});var r=n(8168),i=n(45),o=n(6540),a=n(53);const s=(0,n(4507).A)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");var u=n(5192),c=n(9773),l=n(4801),h=n(7515),f=n(7688);function d(t){return"Backspace"===t.key||"Delete"===t.key}var p=o.forwardRef((function(t,e){var n=t.avatar,u=t.classes,c=t.className,p=t.clickable,m=t.color,v=void 0===m?"default":m,g=t.component,y=t.deleteIcon,b=t.disabled,w=void 0!==b&&b,E=t.icon,I=t.label,T=t.onClick,A=t.onDelete,S=t.onKeyDown,_=t.onKeyUp,k=t.size,C=void 0===k?"medium":k,N=t.variant,x=void 0===N?"default":N,D=(0,i.A)(t,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),R=o.useRef(null),O=(0,l.A)(R,e),P=function(t){t.stopPropagation(),A&&A(t)},L=!(!1===p||!T)||p,M="small"===C,F=g||(L?f.A:"div"),V=F===f.A?{component:"div"}:{},U=null;if(A){var j=(0,a.A)("default"!==v&&("default"===x?u["deleteIconColor".concat((0,h.A)(v))]:u["deleteIconOutlinedColor".concat((0,h.A)(v))]),M&&u.deleteIconSmall);U=y&&o.isValidElement(y)?o.cloneElement(y,{className:(0,a.A)(y.props.className,u.deleteIcon,j),onClick:P}):o.createElement(s,{className:(0,a.A)(u.deleteIcon,j),onClick:P})}var H=null;n&&o.isValidElement(n)&&(H=o.cloneElement(n,{className:(0,a.A)(u.avatar,n.props.className,M&&u.avatarSmall,"default"!==v&&u["avatarColor".concat((0,h.A)(v))])}));var q=null;return E&&o.isValidElement(E)&&(q=o.cloneElement(E,{className:(0,a.A)(u.icon,E.props.className,M&&u.iconSmall,"default"!==v&&u["iconColor".concat((0,h.A)(v))])})),o.createElement(F,(0,r.A)({role:L||A?"button":void 0,className:(0,a.A)(u.root,c,"default"!==v&&[u["color".concat((0,h.A)(v))],L&&u["clickableColor".concat((0,h.A)(v))],A&&u["deletableColor".concat((0,h.A)(v))]],"default"!==x&&[u.outlined,{primary:u.outlinedPrimary,secondary:u.outlinedSecondary}[v]],w&&u.disabled,M&&u.sizeSmall,L&&u.clickable,A&&u.deletable),"aria-disabled":!!w||void 0,tabIndex:L||A?0:void 0,onClick:T,onKeyDown:function(t){t.currentTarget===t.target&&d(t)&&t.preventDefault(),S&&S(t)},onKeyUp:function(t){t.currentTarget===t.target&&(A&&d(t)?A(t):"Escape"===t.key&&R.current&&R.current.blur()),_&&_(t)},ref:O},V,D),H||q,o.createElement("span",{className:(0,a.A)(u.label,M&&u.labelSmall)},I),U)}));const m=(0,u.A)((function(t){var e="light"===t.palette.type?t.palette.grey[300]:t.palette.grey[700],n=(0,c.X4)(t.palette.text.primary,.26);return{root:{fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:t.palette.getContrastText(e),backgroundColor:e,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===t.palette.type?t.palette.grey[700]:t.palette.grey[300],fontSize:t.typography.pxToRem(12)},"& $avatarColorPrimary":{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.dark},"& $avatarColorSecondary":{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,c.tL)(e,.08)},"&:active":{boxShadow:t.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:(0,c.tL)(t.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:(0,c.tL)(t.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:(0,c.tL)(e,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:(0,c.tL)(t.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:(0,c.tL)(t.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,c.X4)(t.palette.text.primary,t.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,c.X4)(t.palette.primary.main,t.palette.action.hoverOpacity)}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat(t.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,c.X4)(t.palette.secondary.main,t.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===t.palette.type?t.palette.grey[700]:t.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,c.X4)(n,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:(0,c.X4)(t.palette.primary.contrastText,.7),"&:hover, &:active":{color:t.palette.primary.contrastText}},deleteIconColorSecondary:{color:(0,c.X4)(t.palette.secondary.contrastText,.7),"&:hover, &:active":{color:t.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:(0,c.X4)(t.palette.primary.main,.7),"&:hover, &:active":{color:t.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:(0,c.X4)(t.palette.secondary.main,.7),"&:hover, &:active":{color:t.palette.secondary.main}}}}),{name:"MuiChip"})(p)},5834:(t,e,n)=>{n.d(e,{A:()=>p});var r=n(8168),i=n(296),o=n(45),a=n(6540),s=n(7353),u=n(3870),c=n(6232),l=n(3173),h=n(4801),f={entering:{opacity:1},entered:{opacity:1}},d={enter:u.p0.enteringScreen,exit:u.p0.leavingScreen};const p=a.forwardRef((function(t,e){var n=t.children,u=t.disableStrictModeCompat,p=void 0!==u&&u,m=t.in,v=t.onEnter,g=t.onEntered,y=t.onEntering,b=t.onExit,w=t.onExited,E=t.onExiting,I=t.style,T=t.TransitionComponent,A=void 0===T?s.Ay:T,S=t.timeout,_=void 0===S?d:S,k=(0,o.A)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),C=(0,c.A)(),N=C.unstable_strictMode&&!p,x=a.useRef(null),D=(0,h.A)(n.ref,e),R=(0,h.A)(N?x:void 0,D),O=function(t){return function(e,n){if(t){var r=N?[x.current,e]:[e,n],o=(0,i.A)(r,2),a=o[0],s=o[1];void 0===s?t(a):t(a,s)}}},P=O(y),L=O((function(t,e){(0,l.q)(t);var n=(0,l.c)({style:I,timeout:_},{mode:"enter"});t.style.webkitTransition=C.transitions.create("opacity",n),t.style.transition=C.transitions.create("opacity",n),v&&v(t,e)})),M=O(g),F=O(E),V=O((function(t){var e=(0,l.c)({style:I,timeout:_},{mode:"exit"});t.style.webkitTransition=C.transitions.create("opacity",e),t.style.transition=C.transitions.create("opacity",e),b&&b(t)})),U=O(w);return a.createElement(A,(0,r.A)({appear:!0,in:m,nodeRef:N?x:void 0,onEnter:L,onEntered:M,onEntering:P,onExit:V,onExited:U,onExiting:F,timeout:_},k),(function(t,e){return a.cloneElement(n,(0,r.A)({style:(0,r.A)({opacity:0,visibility:"exited"!==t||m?void 0:"hidden"},f[t],I,n.props.style),ref:R},e))}))}))},7606:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(45),i=n(8168),o=n(6540),a=n(53),s=n(5192),u=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(t);return"".concat(n/e).concat(String(t).replace(String(n),"")||"px")}var h=o.forwardRef((function(t,e){var n=t.alignContent,s=void 0===n?"stretch":n,u=t.alignItems,c=void 0===u?"stretch":u,l=t.classes,h=t.className,f=t.component,d=void 0===f?"div":f,p=t.container,m=void 0!==p&&p,v=t.direction,g=void 0===v?"row":v,y=t.item,b=void 0!==y&&y,w=t.justify,E=t.justifyContent,I=void 0===E?"flex-start":E,T=t.lg,A=void 0!==T&&T,S=t.md,_=void 0!==S&&S,k=t.sm,C=void 0!==k&&k,N=t.spacing,x=void 0===N?0:N,D=t.wrap,R=void 0===D?"wrap":D,O=t.xl,P=void 0!==O&&O,L=t.xs,M=void 0!==L&&L,F=t.zeroMinWidth,V=void 0!==F&&F,U=(0,r.A)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),j=(0,a.A)(l.root,h,m&&[l.container,0!==x&&l["spacing-xs-".concat(String(x))]],b&&l.item,V&&l.zeroMinWidth,"row"!==g&&l["direction-xs-".concat(String(g))],"wrap"!==R&&l["wrap-xs-".concat(String(R))],"stretch"!==c&&l["align-items-xs-".concat(String(c))],"stretch"!==s&&l["align-content-xs-".concat(String(s))],"flex-start"!==(w||I)&&l["justify-content-xs-".concat(String(w||I))],!1!==M&&l["grid-xs-".concat(String(M))],!1!==C&&l["grid-sm-".concat(String(C))],!1!==_&&l["grid-md-".concat(String(_))],!1!==A&&l["grid-lg-".concat(String(A))],!1!==P&&l["grid-xl-".concat(String(P))]);return o.createElement(d,(0,i.A)({className:j,ref:e},U))}));const f=(0,s.A)((function(t){return(0,i.A)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(t,e){var n={};return u.forEach((function(e){var r=t.spacing(e);0!==r&&(n["spacing-".concat("xs","-").concat(e)]={margin:"-".concat(l(r,2)),width:"calc(100% + ".concat(l(r),")"),"& > $item":{padding:l(r,2)}})})),n}(t),t.breakpoints.keys.reduce((function(e,n){return function(t,e,n){var r={};c.forEach((function(t){var e="grid-".concat(n,"-").concat(t);if(!0!==t)if("auto"!==t){var i="".concat(Math.round(t/12*1e8)/1e6,"%");r[e]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[e]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[e]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,i.A)(t,r):t[e.breakpoints.up(n)]=r}(e,t,n),e}),{}))}),{name:"MuiGrid"})(h)},8896:(t,e,n)=>{n.d(e,{A:()=>p});var r=n(8168),i=n(296),o=n(45),a=n(6540),s=n(7353),u=n(6232),c=n(3173),l=n(4801);function h(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var f={entering:{opacity:1,transform:h(1)},entered:{opacity:1,transform:"none"}},d=a.forwardRef((function(t,e){var n=t.children,d=t.disableStrictModeCompat,p=void 0!==d&&d,m=t.in,v=t.onEnter,g=t.onEntered,y=t.onEntering,b=t.onExit,w=t.onExited,E=t.onExiting,I=t.style,T=t.timeout,A=void 0===T?"auto":T,S=t.TransitionComponent,_=void 0===S?s.Ay:S,k=(0,o.A)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=a.useRef(),N=a.useRef(),x=(0,u.A)(),D=x.unstable_strictMode&&!p,R=a.useRef(null),O=(0,l.A)(n.ref,e),P=(0,l.A)(D?R:void 0,O),L=function(t){return function(e,n){if(t){var r=D?[R.current,e]:[e,n],o=(0,i.A)(r,2),a=o[0],s=o[1];void 0===s?t(a):t(a,s)}}},M=L(y),F=L((function(t,e){(0,c.q)(t);var n,r=(0,c.c)({style:I,timeout:A},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===A?(n=x.transitions.getAutoHeightDuration(t.clientHeight),N.current=n):n=i,t.style.transition=[x.transitions.create("opacity",{duration:n,delay:o}),x.transitions.create("transform",{duration:.666*n,delay:o})].join(","),v&&v(t,e)})),V=L(g),U=L(E),j=L((function(t){var e,n=(0,c.c)({style:I,timeout:A},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===A?(e=x.transitions.getAutoHeightDuration(t.clientHeight),N.current=e):e=r,t.style.transition=[x.transitions.create("opacity",{duration:e,delay:i}),x.transitions.create("transform",{duration:.666*e,delay:i||.333*e})].join(","),t.style.opacity="0",t.style.transform=h(.75),b&&b(t)})),H=L(w);return a.useEffect((function(){return function(){clearTimeout(C.current)}}),[]),a.createElement(_,(0,r.A)({appear:!0,in:m,nodeRef:D?R:void 0,onEnter:F,onEntered:V,onEntering:M,onExit:j,onExited:H,onExiting:U,addEndListener:function(t,e){var n=D?t:e;"auto"===A&&(C.current=setTimeout(n,N.current||0))},timeout:"auto"===A?null:A},k),(function(t,e){return a.cloneElement(n,(0,r.A)({style:(0,r.A)({opacity:0,transform:h(.75),visibility:"exited"!==t||m?void 0:"hidden"},f[t],I,n.props.style),ref:P},e))}))}));d.muiSupportAuto=!0;const p=d},2460:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(8168),i=n(45),o=n(6540),a=n(53),s=n(5192),u=n(9773),c=n(7688),l=n(7515),h=o.forwardRef((function(t,e){var n=t.edge,s=void 0!==n&&n,u=t.children,h=t.classes,f=t.className,d=t.color,p=void 0===d?"default":d,m=t.disabled,v=void 0!==m&&m,g=t.disableFocusRipple,y=void 0!==g&&g,b=t.size,w=void 0===b?"medium":b,E=(0,i.A)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(c.A,(0,r.A)({className:(0,a.A)(h.root,f,"default"!==p&&h["color".concat((0,l.A)(p))],v&&h.disabled,"small"===w&&h["size".concat((0,l.A)(w))],{start:h.edgeStart,end:h.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:v,ref:e},E),o.createElement("span",{className:h.label},u))}));const f=(0,s.A)((function(t){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,u.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:t.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:(0,u.X4)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:(0,u.X4)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:t.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(h)},1846:(t,e,n)=>{n.d(e,{A:()=>u});var r=n(6540),i=n(961),o=n(4960),a=n(4801),s="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;const u=r.forwardRef((function(t,e){var n=t.children,u=t.container,c=t.disablePortal,l=void 0!==c&&c,h=t.onRendered,f=r.useState(null),d=f[0],p=f[1],m=(0,a.A)(r.isValidElement(n)?n.ref:null,e);return s((function(){l||p(function(t){return t="function"==typeof t?t():t,i.findDOMNode(t)}(u)||document.body)}),[u,l]),s((function(){if(d&&!l)return(0,o.A)(e,d),function(){(0,o.A)(e,null)}}),[e,d,l]),s((function(){h&&(d||l)&&h()}),[h,d,l]),l?r.isValidElement(n)?r.cloneElement(n,{ref:m}):n:d?i.createPortal(n,d):d}))},3608:(t,e,n)=>{n.d(e,{A:()=>Jt});var r=n(8168),i=n(45),o=n(6540),a=n(53),s=n(7860);function u(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce((function(t,n){return t[n]=e[n],r&&void 0===e[n]&&(t[n]=r[n]),t}),{})}var c=o.createContext();const l=c;var h=n(5192),f=n(7515),d=n(4801);function p(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(e),e=setTimeout((function(){t.apply(a,i)}),n)}return r.clear=function(){clearTimeout(e)},r}function m(t,e){return parseInt(t[e],10)||0}var v="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,g={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const y=o.forwardRef((function(t,e){var n=t.onChange,a=t.rows,s=t.rowsMax,u=t.rowsMin,c=t.maxRows,l=t.minRows,h=void 0===l?1:l,f=t.style,y=t.value,b=(0,i.A)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),w=c||s,E=a||u||h,I=o.useRef(null!=y).current,T=o.useRef(null),A=(0,d.A)(e,T),S=o.useRef(null),_=o.useRef(0),k=o.useState({}),C=k[0],N=k[1],x=o.useCallback((function(){var e=T.current,n=window.getComputedStyle(e),r=S.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=m(n,"padding-bottom")+m(n,"padding-top"),a=m(n,"border-bottom-width")+m(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var u=r.scrollHeight-o,c=s;E&&(c=Math.max(Number(E)*u,c)),w&&(c=Math.min(Number(w)*u,c));var l=(c=Math.max(c,u))+("border-box"===i?o+a:0),h=Math.abs(c-s)<=1;N((function(t){return _.current<20&&(l>0&&Math.abs((t.outerHeightStyle||0)-l)>1||t.overflow!==h)?(_.current+=1,{overflow:h,outerHeightStyle:l}):t}))}),[w,E,t.placeholder]);return o.useEffect((function(){var t=p((function(){_.current=0,x()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}),[x]),v((function(){x()})),o.useEffect((function(){_.current=0}),[y]),o.createElement(o.Fragment,null,o.createElement("textarea",(0,r.A)({value:y,onChange:function(t){_.current=0,I||x(),n&&n(t)},ref:A,rows:E,style:(0,r.A)({height:C.outerHeightStyle,overflow:C.overflow?"hidden":null},f)},b)),o.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:S,tabIndex:-1,style:(0,r.A)({},g,f)}))}));function b(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function w(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(b(t.value)&&""!==t.value||e&&b(t.defaultValue)&&""!==t.defaultValue)}var E="undefined"==typeof window?o.useEffect:o.useLayoutEffect,I=o.forwardRef((function(t,e){var n=t["aria-describedby"],h=t.autoComplete,p=t.autoFocus,m=t.classes,v=t.className,g=(t.color,t.defaultValue),b=t.disabled,I=t.endAdornment,T=(t.error,t.fullWidth),A=void 0!==T&&T,S=t.id,_=t.inputComponent,k=void 0===_?"input":_,C=t.inputProps,N=void 0===C?{}:C,x=t.inputRef,D=(t.margin,t.multiline),R=void 0!==D&&D,O=t.name,P=t.onBlur,L=t.onChange,M=t.onClick,F=t.onFocus,V=t.onKeyDown,U=t.onKeyUp,j=t.placeholder,H=t.readOnly,q=t.renderSuffix,B=t.rows,K=t.rowsMax,z=t.rowsMin,W=t.maxRows,G=t.minRows,Y=t.startAdornment,X=t.type,$=void 0===X?"text":X,Q=t.value,J=(0,i.A)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Z=null!=N.value?N.value:Q,tt=o.useRef(null!=Z).current,et=o.useRef(),nt=o.useCallback((function(t){}),[]),rt=(0,d.A)(N.ref,nt),it=(0,d.A)(x,rt),ot=(0,d.A)(et,it),at=o.useState(!1),st=at[0],ut=at[1],ct=o.useContext(c),lt=u({props:t,muiFormControl:ct,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});lt.focused=ct?ct.focused:st,o.useEffect((function(){!ct&&b&&st&&(ut(!1),P&&P())}),[ct,b,st,P]);var ht=ct&&ct.onFilled,ft=ct&&ct.onEmpty,dt=o.useCallback((function(t){w(t)?ht&&ht():ft&&ft()}),[ht,ft]);E((function(){tt&&dt({value:Z})}),[Z,dt,tt]),o.useEffect((function(){dt(et.current)}),[]);var pt=k,mt=(0,r.A)({},N,{ref:ot});return"string"!=typeof pt?mt=(0,r.A)({inputRef:ot,type:$},mt,{ref:null}):R?!B||W||G||K||z?(mt=(0,r.A)({minRows:B||G,rowsMax:K,maxRows:W},mt),pt=y):pt="textarea":mt=(0,r.A)({type:$},mt),o.useEffect((function(){ct&&ct.setAdornedStart(Boolean(Y))}),[ct,Y]),o.createElement("div",(0,r.A)({className:(0,a.A)(m.root,m["color".concat((0,f.A)(lt.color||"primary"))],v,lt.disabled&&m.disabled,lt.error&&m.error,A&&m.fullWidth,lt.focused&&m.focused,ct&&m.formControl,R&&m.multiline,Y&&m.adornedStart,I&&m.adornedEnd,"dense"===lt.margin&&m.marginDense),onClick:function(t){et.current&&t.currentTarget===t.target&&et.current.focus(),M&&M(t)},ref:e},J),Y,o.createElement(l.Provider,{value:null},o.createElement(pt,(0,r.A)({"aria-invalid":lt.error,"aria-describedby":n,autoComplete:h,autoFocus:p,defaultValue:g,disabled:lt.disabled,id:S,onAnimationStart:function(t){dt("mui-auto-fill-cancel"===t.animationName?et.current:{value:"x"})},name:O,placeholder:j,readOnly:H,required:lt.required,rows:B,value:Z,onKeyDown:V,onKeyUp:U},mt,{className:(0,a.A)(m.input,N.className,lt.disabled&&m.disabled,R&&m.inputMultiline,lt.hiddenLabel&&m.inputHiddenLabel,Y&&m.inputAdornedStart,I&&m.inputAdornedEnd,"search"===$&&m.inputTypeSearch,"dense"===lt.margin&&m.inputMarginDense),onBlur:function(t){P&&P(t),N.onBlur&&N.onBlur(t),ct&&ct.onBlur?ct.onBlur(t):ut(!1)},onChange:function(t){if(!tt){var e=t.target||et.current;if(null==e)throw new Error((0,s.A)(1));dt({value:e.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];N.onChange&&N.onChange.apply(N,[t].concat(r)),L&&L.apply(void 0,[t].concat(r))},onFocus:function(t){lt.disabled?t.stopPropagation():(F&&F(t),N.onFocus&&N.onFocus(t),ct&&ct.onFocus?ct.onFocus(t):ut(!0))}}))),I,q?q((0,r.A)({},lt,{startAdornment:Y})):null)}));const T=(0,h.A)((function(t){var e="light"===t.palette.type,n={color:"currentColor",opacity:e?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:e?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,r.A)({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:t.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(I);var A=o.forwardRef((function(t,e){var n=t.disableUnderline,s=t.classes,u=t.fullWidth,c=void 0!==u&&u,l=t.inputComponent,h=void 0===l?"input":l,f=t.multiline,d=void 0!==f&&f,p=t.type,m=void 0===p?"text":p,v=(0,i.A)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(T,(0,r.A)({classes:(0,r.A)({},s,{root:(0,a.A)(s.root,!n&&s.underline),underline:null}),fullWidth:c,inputComponent:h,multiline:d,ref:e,type:m},v))}));A.muiName="Input";const S=(0,h.A)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(e),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(t.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(e)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(A);var _=o.forwardRef((function(t,e){var n=t.disableUnderline,s=t.classes,u=t.fullWidth,c=void 0!==u&&u,l=t.inputComponent,h=void 0===l?"input":l,f=t.multiline,d=void 0!==f&&f,p=t.type,m=void 0===p?"text":p,v=(0,i.A)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(T,(0,r.A)({classes:(0,r.A)({},s,{root:(0,a.A)(s.root,!n&&s.underline),underline:null}),fullWidth:c,inputComponent:h,multiline:d,ref:e,type:m},v))}));_.muiName="Input";const k=(0,h.A)((function(t){var e="light"===t.palette.type,n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:e?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(_);var C=n(4467),N=n(6232),x=o.forwardRef((function(t,e){t.children;var n=t.classes,s=t.className,u=t.label,c=t.labelWidth,l=t.notched,h=t.style,d=(0,i.A)(t,["children","classes","className","label","labelWidth","notched","style"]),p="rtl"===(0,N.A)().direction?"right":"left";if(void 0!==u)return o.createElement("fieldset",(0,r.A)({"aria-hidden":!0,className:(0,a.A)(n.root,s),ref:e,style:h},d),o.createElement("legend",{className:(0,a.A)(n.legendLabelled,l&&n.legendNotched)},u?o.createElement("span",null,u):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var m=c>0?.75*c+8:.01;return o.createElement("fieldset",(0,r.A)({"aria-hidden":!0,style:(0,r.A)((0,C.A)({},"padding".concat((0,f.A)(p)),8),h),className:(0,a.A)(n.root,s),ref:e},d),o.createElement("legend",{className:n.legend,style:{width:l?m:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}));const D=(0,h.A)((function(t){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(x);var R=o.forwardRef((function(t,e){var n=t.classes,s=t.fullWidth,u=void 0!==s&&s,c=t.inputComponent,l=void 0===c?"input":c,h=t.label,f=t.labelWidth,d=void 0===f?0:f,p=t.multiline,m=void 0!==p&&p,v=t.notched,g=t.type,y=void 0===g?"text":g,b=(0,i.A)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(T,(0,r.A)({renderSuffix:function(t){return o.createElement(D,{className:n.notchedOutline,label:h,labelWidth:d,notched:void 0!==v?v:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,r.A)({},n,{root:(0,a.A)(n.root,n.underline),notchedOutline:null}),fullWidth:u,inputComponent:l,multiline:m,ref:e,type:y},b))}));R.muiName="Input";const O=(0,h.A)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:t.shape.borderRadius,"&:hover $notchedOutline":{borderColor:t.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:e}},"&$focused $notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:t.palette.error.main},"&$disabled $notchedOutline":{borderColor:t.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:t.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:e},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(R);function P(){return o.useContext(l)}var L=o.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,l=(t.color,t.component),h=void 0===l?"label":l,d=(t.disabled,t.error,t.filled,t.focused,t.required,(0,i.A)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),p=u({props:t,muiFormControl:P(),states:["color","required","focused","disabled","error","filled"]});return o.createElement(h,(0,r.A)({className:(0,a.A)(s.root,s["color".concat((0,f.A)(p.color||"primary"))],c,p.disabled&&s.disabled,p.error&&s.error,p.filled&&s.filled,p.focused&&s.focused,p.required&&s.required),ref:e},d),n,p.required&&o.createElement("span",{"aria-hidden":!0,className:(0,a.A)(s.asterisk,p.error&&s.error)},"","*"))}));const M=(0,h.A)((function(t){return{root:(0,r.A)({color:t.palette.text.secondary},t.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),colorSecondary:{"&$focused":{color:t.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:t.palette.error.main}}}}),{name:"MuiFormLabel"})(L);var F=o.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.disableAnimation,l=void 0!==c&&c,h=(t.margin,t.shrink),f=(t.variant,(0,i.A)(t,["classes","className","disableAnimation","margin","shrink","variant"])),d=P(),p=h;void 0===p&&d&&(p=d.filled||d.focused||d.adornedStart);var m=u({props:t,muiFormControl:d,states:["margin","variant"]});return o.createElement(M,(0,r.A)({"data-shrink":p,className:(0,a.A)(n.root,s,d&&n.formControl,!l&&n.animated,p&&n.shrink,"dense"===m.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[m.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:e},f))}));const V=(0,h.A)((function(t){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create(["color","transform"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(F);function U(t,e){return o.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)}var j=o.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,c=t.color,h=void 0===c?"primary":c,d=t.component,p=void 0===d?"div":d,m=t.disabled,v=void 0!==m&&m,g=t.error,y=void 0!==g&&g,b=t.fullWidth,E=void 0!==b&&b,I=t.focused,T=t.hiddenLabel,A=void 0!==T&&T,S=t.margin,_=void 0===S?"none":S,k=t.required,C=void 0!==k&&k,N=t.size,x=t.variant,D=void 0===x?"standard":x,R=(0,i.A)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),O=o.useState((function(){var t=!1;return n&&o.Children.forEach(n,(function(e){if(U(e,["Input","Select"])){var n=U(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),P=O[0],L=O[1],M=o.useState((function(){var t=!1;return n&&o.Children.forEach(n,(function(e){U(e,["Input","Select"])&&w(e.props,!0)&&(t=!0)})),t})),F=M[0],V=M[1],j=o.useState(!1),H=j[0],q=j[1],B=void 0!==I?I:H;v&&B&&q(!1);var K=o.useCallback((function(){V(!0)}),[]),z={adornedStart:P,setAdornedStart:L,color:h,disabled:v,error:y,filled:F,focused:B,fullWidth:E,hiddenLabel:A,margin:("small"===N?"dense":void 0)||_,onBlur:function(){q(!1)},onEmpty:o.useCallback((function(){V(!1)}),[]),onFilled:K,onFocus:function(){q(!0)},registerEffect:void 0,required:C,variant:D};return o.createElement(l.Provider,{value:z},o.createElement(p,(0,r.A)({className:(0,a.A)(s.root,u,"none"!==_&&s["margin".concat((0,f.A)(_))],E&&s.fullWidth),ref:e},R),n))}));const H=(0,h.A)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(j);var q=o.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,l=t.component,h=void 0===l?"p":l,f=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,i.A)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),d=u({props:t,muiFormControl:P(),states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(h,(0,r.A)({className:(0,a.A)(s.root,("filled"===d.variant||"outlined"===d.variant)&&s.contained,c,d.disabled&&s.disabled,d.error&&s.error,d.filled&&s.filled,d.focused&&s.focused,d.required&&s.required,"dense"===d.margin&&s.marginDense),ref:e},f)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));const B=(0,h.A)((function(t){return{root:(0,r.A)({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(q);var K=n(3043),z=n(296),W=n(2284);function G(t){return t&&t.ownerDocument||document}n(4363);var Y=n(961);function X(t){return G(t).defaultView||window}var $=n(8521),Q=n(2143),J=n(6081),Z=n(1846),tt=n(2319),et=n(9474),nt=n(2901),rt=n(5458);function it(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function ot(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function at(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function st(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[e,n].concat((0,rt.A)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,(function(t){1===t.nodeType&&-1===o.indexOf(t)&&-1===a.indexOf(t.tagName)&&ot(t,i)}))}function ut(t,e){var n=-1;return t.some((function(t,r){return!!e(t)&&(n=r,!0)})),n}var ct=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modals=[],this.containers=[]}return(0,nt.A)(t,[{key:"add",value:function(t,e){var n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&ot(t.modalRef,!1);var r=function(t){var e=[];return[].forEach.call(t.children,(function(t){t.getAttribute&&"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);st(e,t.mountNode,t.modalRef,r,!0);var i=ut(this.containers,(function(t){return t.container===e}));return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(t,e){var n=ut(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),r=this.containers[n];r.restore||(r.restore=function(t,e){var n,r=[],i=[],o=t.container;if(!e.disableScrollLock){if(function(t){var e=G(t);return e.body===t?X(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(o)){var a=it();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(at(o)+a,"px"),n=G(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(t){i.push(t.style.paddingRight),t.style.paddingRight="".concat(at(t)+a,"px")}))}var s=o.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(t,e){i[e]?t.style.paddingRight=i[e]:t.style.removeProperty("padding-right")})),r.forEach((function(t){var e=t.value,n=t.el,r=t.key;e?n.style.setProperty(r,e):n.style.removeProperty(r)}))}}(r,e))}},{key:"remove",value:function(t){var e=this.modals.indexOf(t);if(-1===e)return e;var n=ut(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.restore&&r.restore(),t.modalRef&&ot(t.modalRef,!0),st(r.container,t.mountNode,t.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&ot(i.modalRef,!1)}return e}},{key:"isTopModal",value:function(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}]),t}();const lt=function(t){var e=t.children,n=t.disableAutoFocus,r=void 0!==n&&n,i=t.disableEnforceFocus,a=void 0!==i&&i,s=t.disableRestoreFocus,u=void 0!==s&&s,c=t.getDoc,l=t.isEnabled,h=t.open,f=o.useRef(),p=o.useRef(null),m=o.useRef(null),v=o.useRef(),g=o.useRef(null),y=o.useCallback((function(t){g.current=Y.findDOMNode(t)}),[]),b=(0,d.A)(e.ref,y),w=o.useRef();return o.useEffect((function(){w.current=h}),[h]),!w.current&&h&&"undefined"!=typeof window&&(v.current=c().activeElement),o.useEffect((function(){if(h){var t=G(g.current);r||!g.current||g.current.contains(t.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var e=function(){null!==g.current&&(t.hasFocus()&&!a&&l()&&!f.current?g.current&&!g.current.contains(t.activeElement)&&g.current.focus():f.current=!1)},n=function(e){!a&&l()&&9===e.keyCode&&t.activeElement===g.current&&(f.current=!0,e.shiftKey?m.current.focus():p.current.focus())};t.addEventListener("focus",e,!0),t.addEventListener("keydown",n,!0);var i=setInterval((function(){e()}),50);return function(){clearInterval(i),t.removeEventListener("focus",e,!0),t.removeEventListener("keydown",n,!0),u||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[r,a,u,l,h]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),o.cloneElement(e,{ref:b}),o.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))};var ht={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}};const ft=o.forwardRef((function(t,e){var n=t.invisible,a=void 0!==n&&n,s=t.open,u=(0,i.A)(t,["invisible","open"]);return s?o.createElement("div",(0,r.A)({"aria-hidden":!0,ref:e},u,{style:(0,r.A)({},ht.root,a?ht.invisible:{},u.style)})):null}));var dt=new ct;const pt=o.forwardRef((function(t,e){var n=(0,Q.A)(),a=(0,J.A)({name:"MuiModal",props:(0,r.A)({},t),theme:n}),s=a.BackdropComponent,u=void 0===s?ft:s,c=a.BackdropProps,l=a.children,h=a.closeAfterTransition,f=void 0!==h&&h,p=a.container,m=a.disableAutoFocus,v=void 0!==m&&m,g=a.disableBackdropClick,y=void 0!==g&&g,b=a.disableEnforceFocus,w=void 0!==b&&b,E=a.disableEscapeKeyDown,I=void 0!==E&&E,T=a.disablePortal,A=void 0!==T&&T,S=a.disableRestoreFocus,_=void 0!==S&&S,k=a.disableScrollLock,C=void 0!==k&&k,N=a.hideBackdrop,x=void 0!==N&&N,D=a.keepMounted,R=void 0!==D&&D,O=a.manager,P=void 0===O?dt:O,L=a.onBackdropClick,M=a.onClose,F=a.onEscapeKeyDown,V=a.onRendered,U=a.open,j=(0,i.A)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),H=o.useState(!0),q=H[0],B=H[1],K=o.useRef({}),z=o.useRef(null),W=o.useRef(null),X=(0,d.A)(W,e),nt=function(t){return!!t.children&&t.children.props.hasOwnProperty("in")}(a),rt=function(){return G(z.current)},it=function(){return K.current.modalRef=W.current,K.current.mountNode=z.current,K.current},at=function(){P.mount(it(),{disableScrollLock:C}),W.current.scrollTop=0},st=(0,tt.A)((function(){var t=function(t){return t="function"==typeof t?t():t,Y.findDOMNode(t)}(p)||rt().body;P.add(it(),t),W.current&&at()})),ut=o.useCallback((function(){return P.isTopModal(it())}),[P]),ct=(0,tt.A)((function(t){z.current=t,t&&(V&&V(),U&&ut()?at():ot(W.current,!0))})),ht=o.useCallback((function(){P.remove(it())}),[P]);if(o.useEffect((function(){return function(){ht()}}),[ht]),o.useEffect((function(){U?st():nt&&f||ht()}),[U,ht,nt,f,st]),!R&&!U&&(!nt||q))return null;var pt=function(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:et.A}),mt={};return void 0===l.props.tabIndex&&(mt.tabIndex=l.props.tabIndex||"-1"),nt&&(mt.onEnter=(0,$.A)((function(){B(!1)}),l.props.onEnter),mt.onExited=(0,$.A)((function(){B(!0),f&&ht()}),l.props.onExited)),o.createElement(Z.A,{ref:ct,container:p,disablePortal:A},o.createElement("div",(0,r.A)({ref:X,onKeyDown:function(t){"Escape"===t.key&&ut()&&(F&&F(t),I||(t.stopPropagation(),M&&M(t,"escapeKeyDown")))},role:"presentation"},j,{style:(0,r.A)({},pt.root,!U&&q?pt.hidden:{},j.style)}),x?null:o.createElement(u,(0,r.A)({open:U,onClick:function(t){t.target===t.currentTarget&&(L&&L(t),!y&&M&&M(t,"backdropClick"))}},c)),o.createElement(lt,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:_,getDoc:rt,isEnabled:ut,open:U},o.cloneElement(l,mt))))}));var mt=n(8896),vt=n(3148);function gt(t,e){var n=0;return"number"==typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function yt(t,e){var n=0;return"number"==typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function bt(t){return[t.horizontal,t.vertical].map((function(t){return"number"==typeof t?"".concat(t,"px"):t})).join(" ")}function wt(t){return"function"==typeof t?t():t}var Et=o.forwardRef((function(t,e){var n=t.action,s=t.anchorEl,u=t.anchorOrigin,c=void 0===u?{vertical:"top",horizontal:"left"}:u,l=t.anchorPosition,h=t.anchorReference,f=void 0===h?"anchorEl":h,d=t.children,m=t.classes,v=t.className,g=t.container,y=t.elevation,b=void 0===y?8:y,w=t.getContentAnchorEl,E=t.marginThreshold,I=void 0===E?16:E,T=t.onEnter,A=t.onEntered,S=t.onEntering,_=t.onExit,k=t.onExited,C=t.onExiting,N=t.open,x=t.PaperProps,D=void 0===x?{}:x,R=t.transformOrigin,O=void 0===R?{vertical:"top",horizontal:"left"}:R,P=t.TransitionComponent,L=void 0===P?mt.A:P,M=t.transitionDuration,F=void 0===M?"auto":M,V=t.TransitionProps,U=void 0===V?{}:V,j=(0,i.A)(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),H=o.useRef(),q=o.useCallback((function(t){if("anchorPosition"===f)return l;var e=wt(s),n=(e&&1===e.nodeType?e:G(H.current).body).getBoundingClientRect(),r=0===t?c.vertical:"center";return{top:n.top+gt(n,r),left:n.left+yt(n,c.horizontal)}}),[s,c.horizontal,c.vertical,l,f]),B=o.useCallback((function(t){var e=0;if(w&&"anchorEl"===f){var n=w(t);if(n&&t.contains(n)){var r=function(t,e){for(var n=e,r=0;n&&n!==t;)r+=(n=n.parentElement).scrollTop;return r}(t,n);e=n.offsetTop+n.clientHeight/2-r||0}}return e}),[c.vertical,f,w]),K=o.useCallback((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:gt(t,O.vertical)+e,horizontal:yt(t,O.horizontal)}}),[O.horizontal,O.vertical]),z=o.useCallback((function(t){var e=B(t),n={width:t.offsetWidth,height:t.offsetHeight},r=K(n,e);if("none"===f)return{top:null,left:null,transformOrigin:bt(r)};var i=q(e),o=i.top-r.vertical,a=i.left-r.horizontal,u=o+n.height,c=a+n.width,l=X(wt(s)),h=l.innerHeight-I,d=l.innerWidth-I;if(o<I){var p=o-I;o-=p,r.vertical+=p}else if(u>h){var m=u-h;o-=m,r.vertical+=m}if(a<I){var v=a-I;a-=v,r.horizontal+=v}else if(c>d){var g=c-d;a-=g,r.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:bt(r)}}),[s,f,q,B,K,I]),W=o.useCallback((function(){var t=H.current;if(t){var e=z(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin}}),[z]),Q=o.useCallback((function(t){H.current=Y.findDOMNode(t)}),[]);o.useEffect((function(){N&&W()})),o.useImperativeHandle(n,(function(){return N?{updatePosition:function(){W()}}:null}),[N,W]),o.useEffect((function(){if(N){var t=p((function(){W()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}}),[N,W]);var J=F;"auto"!==F||L.muiSupportAuto||(J=void 0);var Z=g||(s?G(wt(s)).body:void 0);return o.createElement(pt,(0,r.A)({container:Z,open:N,ref:e,BackdropProps:{invisible:!0},className:(0,a.A)(m.root,v)},j),o.createElement(L,(0,r.A)({appear:!0,in:N,onEnter:T,onEntered:A,onExit:_,onExited:k,onExiting:C,timeout:J},U,{onEntering:(0,$.A)((function(t,e){S&&S(t,e),W()}),U.onEntering)}),o.createElement(vt.A,(0,r.A)({elevation:b,ref:Q},D,{className:(0,a.A)(m.paper,D.className)}),d)))}));const It=(0,h.A)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Et),Tt=o.createContext({});var At=o.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,c=t.component,l=void 0===c?"ul":c,h=t.dense,f=void 0!==h&&h,d=t.disablePadding,p=void 0!==d&&d,m=t.subheader,v=(0,i.A)(t,["children","classes","className","component","dense","disablePadding","subheader"]),g=o.useMemo((function(){return{dense:f}}),[f]);return o.createElement(Tt.Provider,{value:g},o.createElement(l,(0,r.A)({className:(0,a.A)(s.root,u,f&&s.dense,!p&&s.padding,m&&s.subheader),ref:e},v),m,n))}));const St=(0,h.A)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(At);function _t(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function kt(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Ct(t,e){if(void 0===e)return!0;var n=t.innerText;return void 0===n&&(n=t.textContent),0!==(n=n.trim().toLowerCase()).length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function Nt(t,e,n,r,i,o){for(var a=!1,s=i(t,e,!!e&&n);s;){if(s===t.firstChild){if(a)return;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Ct(s,o)&&!u)return void s.focus();s=i(t,s,n)}}var xt="undefined"==typeof window?o.useEffect:o.useLayoutEffect;const Dt=o.forwardRef((function(t,e){var n=t.actions,a=t.autoFocus,s=void 0!==a&&a,u=t.autoFocusItem,c=void 0!==u&&u,l=t.children,h=t.className,f=t.disabledItemsFocusable,p=void 0!==f&&f,m=t.disableListWrap,v=void 0!==m&&m,g=t.onKeyDown,y=t.variant,b=void 0===y?"selectedMenu":y,w=(0,i.A)(t,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),E=o.useRef(null),I=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xt((function(){s&&E.current.focus()}),[s]),o.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(t,e){var n=!E.current.style.width;if(t.clientHeight<E.current.clientHeight&&n){var r="".concat(it(),"px");E.current.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=r,E.current.style.width="calc(100% + ".concat(r,")")}return E.current}}}),[]);var T=o.useCallback((function(t){E.current=Y.findDOMNode(t)}),[]),A=(0,d.A)(T,e),S=-1;o.Children.forEach(l,(function(t,e){o.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===S)&&(S=e))}));var _=o.Children.map(l,(function(t,e){if(e===S){var n={};return c&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),o.cloneElement(t,n)}return t}));return o.createElement(St,(0,r.A)({role:"menu",ref:A,className:h,onKeyDown:function(t){var e=E.current,n=t.key,r=G(e).activeElement;if("ArrowDown"===n)t.preventDefault(),Nt(e,r,v,p,_t);else if("ArrowUp"===n)t.preventDefault(),Nt(e,r,v,p,kt);else if("Home"===n)t.preventDefault(),Nt(e,null,v,p,_t);else if("End"===n)t.preventDefault(),Nt(e,null,v,p,kt);else if(1===n.length){var i=I.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Ct(r,i);i.previousKeyMatched&&(s||Nt(e,r,!1,p,_t,i))?t.preventDefault():i.previousKeyMatched=!1}g&&g(t)},tabIndex:s?0:-1},w),_)}));var Rt=n(4960),Ot={vertical:"top",horizontal:"right"},Pt={vertical:"top",horizontal:"left"},Lt=o.forwardRef((function(t,e){var n=t.autoFocus,s=void 0===n||n,u=t.children,c=t.classes,l=t.disableAutoFocusItem,h=void 0!==l&&l,f=t.MenuListProps,d=void 0===f?{}:f,p=t.onClose,m=t.onEntering,v=t.open,g=t.PaperProps,y=void 0===g?{}:g,b=t.PopoverClasses,w=t.transitionDuration,E=void 0===w?"auto":w,I=t.TransitionProps,T=(I=void 0===I?{}:I).onEntering,A=(0,i.A)(I,["onEntering"]),S=t.variant,_=void 0===S?"selectedMenu":S,k=(0,i.A)(t,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),C=(0,N.A)(),x=s&&!h&&v,D=o.useRef(null),R=o.useRef(null),O=-1;o.Children.map(u,(function(t,e){o.isValidElement(t)&&(t.props.disabled||("menu"!==_&&t.props.selected||-1===O)&&(O=e))}));var P=o.Children.map(u,(function(t,e){return e===O?o.cloneElement(t,{ref:function(e){R.current=Y.findDOMNode(e),(0,Rt.A)(t.ref,e)}}):t}));return o.createElement(It,(0,r.A)({getContentAnchorEl:function(){return R.current},classes:b,onClose:p,TransitionProps:(0,r.A)({onEntering:function(t,e){D.current&&D.current.adjustStyleForScrollbar(t,C),m&&m(t,e),T&&T(t,e)}},A),anchorOrigin:"rtl"===C.direction?Ot:Pt,transformOrigin:"rtl"===C.direction?Ot:Pt,PaperProps:(0,r.A)({},y,{classes:(0,r.A)({},y.classes,{root:c.paper})}),open:v,ref:e,transitionDuration:E},k),o.createElement(Dt,(0,r.A)({onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),p&&p(t,"tabKeyDown"))},actions:D,autoFocus:s&&(-1===O||h),autoFocusItem:x,variant:_},d,{className:(0,a.A)(c.list,d.className)}),P))}));const Mt=(0,h.A)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Lt);var Ft=n(8060);function Vt(t,e){return"object"===(0,W.A)(e)&&null!==e?t===e:String(t)===String(e)}const Ut=o.forwardRef((function(t,e){var n=t["aria-label"],u=t.autoFocus,c=t.autoWidth,l=t.children,h=t.classes,p=t.className,m=t.defaultValue,v=t.disabled,g=t.displayEmpty,y=t.IconComponent,b=t.inputRef,E=t.labelId,I=t.MenuProps,T=void 0===I?{}:I,A=t.multiple,S=t.name,_=t.onBlur,k=t.onChange,C=t.onClose,N=t.onFocus,x=t.onOpen,D=t.open,R=t.readOnly,O=t.renderValue,P=t.SelectDisplayProps,L=void 0===P?{}:P,M=t.tabIndex,F=(t.type,t.value),V=t.variant,U=void 0===V?"standard":V,j=(0,i.A)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),H=(0,Ft.A)({controlled:F,default:m,name:"Select"}),q=(0,z.A)(H,2),B=q[0],K=q[1],W=o.useRef(null),Y=o.useState(null),X=Y[0],$=Y[1],Q=o.useRef(null!=D).current,J=o.useState(),Z=J[0],tt=J[1],et=o.useState(!1),nt=et[0],rt=et[1],it=(0,d.A)(e,b);o.useImperativeHandle(it,(function(){return{focus:function(){X.focus()},node:W.current,value:B}}),[X,B]),o.useEffect((function(){u&&X&&X.focus()}),[u,X]),o.useEffect((function(){if(X){var t=G(X).getElementById(E);if(t){var e=function(){getSelection().isCollapsed&&X.focus()};return t.addEventListener("click",e),function(){t.removeEventListener("click",e)}}}}),[E,X]);var ot,at,st=function(t,e){t?x&&x(e):C&&C(e),Q||(tt(c?null:X.clientWidth),rt(t))},ut=o.Children.toArray(l),ct=function(t){return function(e){var n;if(A||st(!1,e),A){n=Array.isArray(B)?B.slice():[];var r=B.indexOf(t.props.value);-1===r?n.push(t.props.value):n.splice(r,1)}else n=t.props.value;t.props.onClick&&t.props.onClick(e),B!==n&&(K(n),k&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:n,name:S}}),k(e,t)))}},lt=null!==X&&(Q?D:nt);delete j["aria-invalid"];var ht=[],ft=!1;(w({value:B})||g)&&(O?ot=O(B):ft=!0);var dt=ut.map((function(t){if(!o.isValidElement(t))return null;var e;if(A){if(!Array.isArray(B))throw new Error((0,s.A)(2));(e=B.some((function(e){return Vt(e,t.props.value)})))&&ft&&ht.push(t.props.children)}else(e=Vt(B,t.props.value))&&ft&&(at=t.props.children);return o.cloneElement(t,{"aria-selected":e?"true":void 0,onClick:ct(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));ft&&(ot=A?ht.join(", "):at);var pt,mt=Z;!c&&Q&&X&&(mt=X.clientWidth),pt=void 0!==M?M:v?null:0;var vt=L.id||(S?"mui-component-select-".concat(S):void 0);return o.createElement(o.Fragment,null,o.createElement("div",(0,r.A)({className:(0,a.A)(h.root,h.select,h.selectMenu,h[U],p,v&&h.disabled),ref:$,tabIndex:pt,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":lt?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[E,vt].filter(Boolean).join(" ")||void 0,onKeyDown:function(t){R||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),st(!0,t))},onMouseDown:v||R?null:function(t){0===t.button&&(t.preventDefault(),X.focus(),st(!0,t))},onBlur:function(t){!lt&&_&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:B,name:S}}),_(t))},onFocus:N},L,{id:vt}),function(t){return null==t||"string"==typeof t&&!t.trim()}(ot)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ot),o.createElement("input",(0,r.A)({value:Array.isArray(B)?B.join(","):B,name:S,ref:W,"aria-hidden":!0,onChange:function(t){var e=ut.map((function(t){return t.props.value})).indexOf(t.target.value);if(-1!==e){var n=ut[e];K(n.props.value),k&&k(t,n)}},tabIndex:-1,className:h.nativeInput,autoFocus:u},j)),o.createElement(y,{className:(0,a.A)(h.icon,h["icon".concat((0,f.A)(U))],lt&&h.iconOpen,v&&h.disabled)}),o.createElement(Mt,(0,r.A)({id:"menu-".concat(S||""),anchorEl:X,open:lt,onClose:function(t){st(!1,t)}},T,{MenuListProps:(0,r.A)({"aria-labelledby":E,role:"listbox",disableListWrap:!0},T.MenuListProps),PaperProps:(0,r.A)({},T.PaperProps,{style:(0,r.A)({minWidth:mt},null!=T.PaperProps?T.PaperProps.style:null)})}),dt))})),jt=(0,n(4507).A)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ht=o.forwardRef((function(t,e){var n=t.classes,s=t.className,u=t.disabled,c=t.IconComponent,l=t.inputRef,h=t.variant,d=void 0===h?"standard":h,p=(0,i.A)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",(0,r.A)({className:(0,a.A)(n.root,n.select,n[d],s,u&&n.disabled),disabled:u,ref:l||e},p)),t.multiple?null:o.createElement(c,{className:(0,a.A)(n.icon,n["icon".concat((0,f.A)(d))],u&&n.disabled)}))}));var qt=function(t){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===t.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:t.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:t.palette.action.active,"&$disabled":{color:t.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Bt=o.createElement(S,null),Kt=o.forwardRef((function(t,e){var n=t.children,a=t.classes,s=t.IconComponent,c=void 0===s?jt:s,l=t.input,h=void 0===l?Bt:l,f=t.inputProps,d=(t.variant,(0,i.A)(t,["children","classes","IconComponent","input","inputProps","variant"])),p=u({props:t,muiFormControl:P(),states:["variant"]});return o.cloneElement(h,(0,r.A)({inputComponent:Ht,inputProps:(0,r.A)({children:n,classes:a,IconComponent:c,variant:p.variant,type:void 0},f,h?h.props.inputProps:{}),ref:e},d))}));Kt.muiName="Select",(0,h.A)(qt,{name:"MuiNativeSelect"})(Kt);var zt=qt,Wt=o.createElement(S,null),Gt=o.createElement(k,null),Yt=o.forwardRef((function t(e,n){var a=e.autoWidth,s=void 0!==a&&a,c=e.children,l=e.classes,h=e.displayEmpty,f=void 0!==h&&h,d=e.IconComponent,p=void 0===d?jt:d,m=e.id,v=e.input,g=e.inputProps,y=e.label,b=e.labelId,w=e.labelWidth,E=void 0===w?0:w,I=e.MenuProps,T=e.multiple,A=void 0!==T&&T,S=e.native,_=void 0!==S&&S,k=e.onClose,C=e.onOpen,N=e.open,x=e.renderValue,D=e.SelectDisplayProps,R=e.variant,L=void 0===R?"standard":R,M=(0,i.A)(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),F=_?Ht:Ut,V=u({props:e,muiFormControl:P(),states:["variant"]}).variant||L,U=v||{standard:Wt,outlined:o.createElement(O,{label:y,labelWidth:E}),filled:Gt}[V];return o.cloneElement(U,(0,r.A)({inputComponent:F,inputProps:(0,r.A)({children:c,IconComponent:p,variant:V,type:void 0,multiple:A},_?{id:m}:{autoWidth:s,displayEmpty:f,labelId:b,MenuProps:I,onClose:k,onOpen:C,open:N,renderValue:x,SelectDisplayProps:(0,r.A)({id:m},D)},g,{classes:g?(0,K.A)({baseClasses:l,newClasses:g.classes,Component:t}):l},v?v.props.inputProps:{}),ref:n},M))}));Yt.muiName="Select";const Xt=(0,h.A)(zt,{name:"MuiSelect"})(Yt);var $t={standard:S,filled:k,outlined:O},Qt=o.forwardRef((function(t,e){var n=t.autoComplete,s=t.autoFocus,u=void 0!==s&&s,c=t.children,l=t.classes,h=t.className,f=t.color,d=void 0===f?"primary":f,p=t.defaultValue,m=t.disabled,v=void 0!==m&&m,g=t.error,y=void 0!==g&&g,b=t.FormHelperTextProps,w=t.fullWidth,E=void 0!==w&&w,I=t.helperText,T=t.hiddenLabel,A=t.id,S=t.InputLabelProps,_=t.inputProps,k=t.InputProps,C=t.inputRef,N=t.label,x=t.multiline,D=void 0!==x&&x,R=t.name,O=t.onBlur,P=t.onChange,L=t.onFocus,M=t.placeholder,F=t.required,U=void 0!==F&&F,j=t.rows,q=t.rowsMax,K=t.maxRows,z=t.minRows,W=t.select,G=void 0!==W&&W,Y=t.SelectProps,X=t.type,$=t.value,Q=t.variant,J=void 0===Q?"standard":Q,Z=(0,i.A)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),tt={};if("outlined"===J&&(S&&void 0!==S.shrink&&(tt.notched=S.shrink),N)){var et,nt=null!==(et=null==S?void 0:S.required)&&void 0!==et?et:U;tt.label=o.createElement(o.Fragment,null,N,nt&&"*")}G&&(Y&&Y.native||(tt.id=void 0),tt["aria-describedby"]=void 0);var rt=I&&A?"".concat(A,"-helper-text"):void 0,it=N&&A?"".concat(A,"-label"):void 0,ot=$t[J],at=o.createElement(ot,(0,r.A)({"aria-describedby":rt,autoComplete:n,autoFocus:u,defaultValue:p,fullWidth:E,multiline:D,name:R,rows:j,rowsMax:q,maxRows:K,minRows:z,type:X,value:$,id:A,inputRef:C,onBlur:O,onChange:P,onFocus:L,placeholder:M,inputProps:_},tt,k));return o.createElement(H,(0,r.A)({className:(0,a.A)(l.root,h),disabled:v,error:y,fullWidth:E,hiddenLabel:T,ref:e,required:U,color:d,variant:J},Z),N&&o.createElement(V,(0,r.A)({htmlFor:A,id:it},S),N),G?o.createElement(Xt,(0,r.A)({"aria-describedby":rt,id:A,labelId:it,value:$,input:at},Y),c):at,I&&o.createElement(B,(0,r.A)({id:rt},b),I))}));const Jt=(0,h.A)({root:{}},{name:"MuiTextField"})(Qt)},8826:(t,e,n)=>{n.d(e,{Ay:()=>Rt});var r=n(8168),i=n(296),o=n(45),a=n(4467),s=n(6540),u=n(961),c=n(53),l=n(2851),h=n(9773),f=n(5192),d=n(7515),p=n(8896),m="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,v=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(m&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}(),g=m&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),v))}};function y(t){return t&&"[object Function]"==={}.toString.call(t)}function b(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function w(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function E(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=b(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:E(w(t))}function I(t){return t&&t.referenceNode?t.referenceNode:t}var T=m&&!(!window.MSInputMethodContext||!document.documentMode),A=m&&/MSIE 10/.test(navigator.userAgent);function S(t){return 11===t?T:10===t?A:T||A}function _(t){if(!t)return document.documentElement;for(var e=S(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===b(n,"position")?_(n):n:t?t.ownerDocument.documentElement:document.documentElement}function k(t){return null!==t.parentNode?k(t.parentNode):t}function C(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(t!==u&&e!==u||r.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&_(a.firstElementChild)!==a?_(u):u;var c=k(t);return c.host?C(c.host,e):C(t,k(e).host)}function N(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function x(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function D(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],S(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function R(t){var e=t.body,n=t.documentElement,r=S(10)&&getComputedStyle(n);return{height:D("Height",e,n,r),width:D("Width",e,n,r)}}var O=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function M(t){return L({},t,{right:t.left+t.width,bottom:t.top+t.height})}function F(t){var e={};try{if(S(10)){e=t.getBoundingClientRect();var n=N(t,"top"),r=N(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?R(t.ownerDocument):{},a=o.width||t.clientWidth||i.width,s=o.height||t.clientHeight||i.height,u=t.offsetWidth-a,c=t.offsetHeight-s;if(u||c){var l=b(t);u-=x(l,"x"),c-=x(l,"y"),i.width-=u,i.height-=c}return M(i)}function V(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=S(10),i="HTML"===e.nodeName,o=F(t),a=F(e),s=E(t),u=b(e),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=M({top:o.top-a.top-c,left:o.left-a.left-l,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var f=parseFloat(u.marginTop),d=parseFloat(u.marginLeft);h.top-=c-f,h.bottom-=c-f,h.left-=l-d,h.right-=l-d,h.marginTop=f,h.marginLeft=d}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=N(e,"top"),i=N(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}(h,e)),h}function U(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===b(t,"position"))return!0;var n=w(t);return!!n&&U(n)}function j(t){if(!t||!t.parentElement||S())return document.documentElement;for(var e=t.parentElement;e&&"none"===b(e,"transform");)e=e.parentElement;return e||document.documentElement}function H(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?j(t):C(t,I(e));if("viewport"===r)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=V(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:N(n),s=e?0:N(n,"left");return M({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=E(w(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var u=V(s,a,i);if("HTML"!==s.nodeName||U(a))o=u;else{var c=R(t.ownerDocument),l=c.height,h=c.width;o.top+=u.top-u.marginTop,o.bottom=l+u.top,o.left+=u.left-u.marginLeft,o.right=h+u.left}}var f="number"==typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function q(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=H(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map((function(t){return L({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),c=u.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,h=t.split("-")[1];return l+(h?"-"+h:"")}function B(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return V(n,r?j(e):C(e,I(n)),r)}function K(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function z(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function W(t,e,n){n=n.split("-")[0];var r=K(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=e[a]+e[u]/2-r[u]/2,i[s]=n===s?e[s]-r[c]:e[z(s)],i}function G(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Y(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=G(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&y(n)&&(e.offsets.popper=M(e.offsets.popper),e.offsets.reference=M(e.offsets.reference),e=n(e,t))})),e}function X(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=B(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=q(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=W(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Y(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function $(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function Q(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function J(){return this.state.isDestroyed=!0,$(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Z(t){var e=t.ownerDocument;return e?e.defaultView:window}function tt(t,e,n,r){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||tt(E(o.parentNode),e,n,r),r.push(o)}function et(t,e,n,r){n.updateBound=r,Z(t).addEventListener("resize",n.updateBound,{passive:!0});var i=E(t);return tt(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function nt(){this.state.eventsEnabled||(this.state=et(this.reference,this.options,this.state,this.scheduleUpdate))}function rt(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Z(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function it(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function ot(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&it(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var at=m&&/Firefox/i.test(navigator.userAgent);function st(t,e,n){var r=G(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var ut=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ct=ut.slice(3);function lt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ct.indexOf(t),r=ct.slice(n+1).concat(ct.slice(0,n));return e?r.reverse():r}var ht={shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:P({},u,o[u]),end:P({},u,o[u]+o[c]-a[c])};t.offsets.popper=L({},a,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,r=e.offset,i=t.placement,o=t.offsets,a=o.popper,s=o.reference,u=i.split("-")[0];return n=it(+r)?[+r,0]:function(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(G(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];return o?0===a.indexOf("%")?M("%p"===a?n:r)[e]/100*o:"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o:t}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){it(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}(r,a,s,u),"left"===u?(a.top+=n[0],a.left-=n[1]):"right"===u?(a.top+=n[0],a.left+=n[1]):"top"===u?(a.left+=n[0],a.top-=n[1]):"bottom"===u&&(a.left+=n[0],a.top+=n[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||_(t.instance.popper);t.instance.reference===n&&(n=_(n));var r=Q("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=H(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=u;var c=e.priority,l=t.offsets.popper,h={primary:function(t){var n=l[t];return l[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(l[t],u[t])),P({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(l[n],u[t]-("right"===t?l.width:l.height))),P({},n,r)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=L({},l,h[e](t))})),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(t.offsets.popper[u]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!st(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",l=u?"Top":"Left",h=l.toLowerCase(),f=u?"left":"top",d=u?"bottom":"right",p=K(r)[c];s[d]-p<a[h]&&(t.offsets.popper[h]-=a[h]-(s[d]-p)),s[h]+p>a[d]&&(t.offsets.popper[h]+=s[h]+p-a[d]),t.offsets.popper=M(t.offsets.popper);var m=s[h]+s[c]/2-p/2,v=b(t.instance.popper),g=parseFloat(v["margin"+l]),y=parseFloat(v["border"+l+"Width"]),w=m-t.offsets.popper[h]-g-y;return w=Math.max(Math.min(a[c]-p,w),0),t.arrowElement=r,t.offsets.arrow=(P(n={},h,Math.round(w)),P(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if($(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=H(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=z(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case"flip":a=[r,i];break;case"clockwise":a=lt(r);break;case"counterclockwise":a=lt(r,!0);break;default:a=e.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],i=z(r);var c=t.offsets.popper,l=t.offsets.reference,h=Math.floor,f="left"===r&&h(c.right)>h(l.left)||"right"===r&&h(c.left)<h(l.right)||"top"===r&&h(c.bottom)>h(l.top)||"bottom"===r&&h(c.top)<h(l.bottom),d=h(c.left)<h(n.left),p=h(c.right)>h(n.right),m=h(c.top)<h(n.top),v=h(c.bottom)>h(n.bottom),g="left"===r&&d||"right"===r&&p||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&v),w=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&d||!y&&"start"===o&&v||!y&&"end"===o&&m),E=b||w;(f||g||E)&&(t.flipped=!0,(f||g)&&(r=a[u+1]),E&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=L({},t.offsets.popper,W(t.instance.popper,t.offsets.reference,t.placement)),t=Y(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=z(e),t.offsets.popper=M(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!st(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=G(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=G(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,u=void 0!==o?o:e.gpuAcceleration,c=_(t.instance.popper),l=F(c),h={position:i.position},f=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?l||h||u%2==c%2?o:a:s,d=e?o:s;return{left:f(u%2==1&&c%2==1&&!h&&e?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:f(r.right)}}(t,window.devicePixelRatio<2||!at),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",m=Q("transform");if(s="bottom"===d?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-l.height+f.bottom:f.top,a="right"===p?"HTML"===c.nodeName?-c.clientWidth+f.right:-l.width+f.right:f.left,u&&m)h[m]="translate3d("+a+"px, "+s+"px, 0)",h[d]=0,h[p]=0,h.willChange="transform";else{var v="bottom"===d?-1:1,g="right"===p?-1:1;h[d]=s*v,h[p]=a*g,h.willChange=d+", "+p}var y={"x-placement":t.placement};return t.attributes=L({},y,t.attributes),t.styles=L({},h,t.styles),t.arrowStyles=L({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return ot(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&ot(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=B(i,e,t,n.positionFixed),a=q(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),ot(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},ft={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ht},dt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=g(this.update.bind(this)),this.options=L({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(L({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){r.options.modifiers[e]=L({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return L({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&y(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return O(t,[{key:"update",value:function(){return X.call(this)}},{key:"destroy",value:function(){return J.call(this)}},{key:"enableEventListeners",value:function(){return nt.call(this)}},{key:"disableEventListeners",value:function(){return rt.call(this)}}]),t}();dt.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,dt.placements=ut,dt.Defaults=ft;const pt=dt;var mt=n(2143),vt=n(1846),gt=n(8521),yt=n(4960),bt=n(4801);function wt(t){return"function"==typeof t?t():t}var Et="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,It={},Tt=s.forwardRef((function(t,e){var n=t.anchorEl,i=t.children,a=t.container,u=t.disablePortal,c=void 0!==u&&u,l=t.keepMounted,h=void 0!==l&&l,f=t.modifiers,d=t.open,p=t.placement,m=void 0===p?"bottom":p,v=t.popperOptions,g=void 0===v?It:v,y=t.popperRef,b=t.style,w=t.transition,E=void 0!==w&&w,I=(0,o.A)(t,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),T=s.useRef(null),A=(0,bt.A)(T,e),S=s.useRef(null),_=(0,bt.A)(S,y),k=s.useRef(_);Et((function(){k.current=_}),[_]),s.useImperativeHandle(y,(function(){return S.current}),[]);var C=s.useState(!0),N=C[0],x=C[1],D=function(t,e){if("ltr"===(e&&e.direction||"ltr"))return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(m,(0,mt.A)()),R=s.useState(D),O=R[0],P=R[1];s.useEffect((function(){S.current&&S.current.update()}));var L=s.useCallback((function(){if(T.current&&n&&d){S.current&&(S.current.destroy(),k.current(null));var t=function(t){P(t.placement)},e=(wt(n),new pt(wt(n),T.current,(0,r.A)({placement:D},g,{modifiers:(0,r.A)({},c?{}:{preventOverflow:{boundariesElement:"window"}},f,g.modifiers),onCreate:(0,gt.A)(t,g.onCreate),onUpdate:(0,gt.A)(t,g.onUpdate)})));k.current(e)}}),[n,c,f,d,D,g]),M=s.useCallback((function(t){(0,yt.A)(A,t),L()}),[A,L]),F=function(){S.current&&(S.current.destroy(),k.current(null))};if(s.useEffect((function(){return function(){F()}}),[]),s.useEffect((function(){d||E||F()}),[d,E]),!h&&!d&&(!E||N))return null;var V={placement:O};return E&&(V.TransitionProps={in:d,onEnter:function(){x(!1)},onExited:function(){x(!0),F()}}),s.createElement(vt.A,{disablePortal:c,container:a},s.createElement("div",(0,r.A)({ref:M,role:"tooltip"},I,{style:(0,r.A)({position:"fixed",top:0,left:0,display:d||!h||E?null:"none"},b)}),"function"==typeof i?i(V):i))}));const At=Tt;var St=n(364),_t=n(8060),kt=n(6232);function Ct(t){return Math.round(1e5*t)/1e5}var Nt=!1,xt=null,Dt=s.forwardRef((function(t,e){var n=t.arrow,a=void 0!==n&&n,h=t.children,f=t.classes,m=t.disableFocusListener,v=void 0!==m&&m,g=t.disableHoverListener,y=void 0!==g&&g,b=t.disableTouchListener,w=void 0!==b&&b,E=t.enterDelay,I=void 0===E?100:E,T=t.enterNextDelay,A=void 0===T?0:T,S=t.enterTouchDelay,_=void 0===S?700:S,k=t.id,C=t.interactive,N=void 0!==C&&C,x=t.leaveDelay,D=void 0===x?0:x,R=t.leaveTouchDelay,O=void 0===R?1500:R,P=t.onClose,L=t.onOpen,M=t.open,F=t.placement,V=void 0===F?"bottom":F,U=t.PopperComponent,j=void 0===U?At:U,H=t.PopperProps,q=t.title,B=t.TransitionComponent,K=void 0===B?p.A:B,z=t.TransitionProps,W=(0,o.A)(t,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),G=(0,kt.A)(),Y=s.useState(),X=Y[0],$=Y[1],Q=s.useState(null),J=Q[0],Z=Q[1],tt=s.useRef(!1),et=s.useRef(),nt=s.useRef(),rt=s.useRef(),it=s.useRef(),ot=(0,_t.A)({controlled:M,default:!1,name:"Tooltip",state:"open"}),at=(0,i.A)(ot,2),st=at[0],ut=at[1],ct=st,lt=function(t){var e=s.useState(t),n=e[0],r=e[1],i=t||n;return s.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}(k);s.useEffect((function(){return function(){clearTimeout(et.current),clearTimeout(nt.current),clearTimeout(rt.current),clearTimeout(it.current)}}),[]);var ht=function(t){clearTimeout(xt),Nt=!0,ut(!0),L&&L(t)},ft=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){var n=h.props;"mouseover"===e.type&&n.onMouseOver&&t&&n.onMouseOver(e),tt.current&&"touchstart"!==e.type||(X&&X.removeAttribute("title"),clearTimeout(nt.current),clearTimeout(rt.current),I||Nt&&A?(e.persist(),nt.current=setTimeout((function(){ht(e)}),Nt?A:I)):ht(e))}},dt=(0,St.A)(),pt=dt.isFocusVisible,mt=dt.onBlurVisible,vt=dt.ref,gt=s.useState(!1),wt=gt[0],Et=gt[1],It=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){X||$(e.currentTarget),pt(e)&&(Et(!0),ft()(e));var n=h.props;n.onFocus&&t&&n.onFocus(e)}},Tt=function(t){clearTimeout(xt),xt=setTimeout((function(){Nt=!1}),800+D),ut(!1),P&&P(t),clearTimeout(et.current),et.current=setTimeout((function(){tt.current=!1}),G.transitions.duration.shortest)},Ct=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){var n=h.props;"blur"===e.type&&(n.onBlur&&t&&n.onBlur(e),wt&&(Et(!1),mt())),"mouseleave"===e.type&&n.onMouseLeave&&e.currentTarget===X&&n.onMouseLeave(e),clearTimeout(nt.current),clearTimeout(rt.current),e.persist(),rt.current=setTimeout((function(){Tt(e)}),D)}},Dt=function(t){tt.current=!0;var e=h.props;e.onTouchStart&&e.onTouchStart(t)},Rt=(0,bt.A)($,e),Ot=(0,bt.A)(vt,Rt),Pt=s.useCallback((function(t){(0,yt.A)(Ot,u.findDOMNode(t))}),[Ot]),Lt=(0,bt.A)(h.ref,Pt);""===q&&(ct=!1);var Mt=!ct&&!y,Ft=(0,r.A)({"aria-describedby":ct?lt:null,title:Mt&&"string"==typeof q?q:null},W,h.props,{className:(0,c.A)(W.className,h.props.className),onTouchStart:Dt,ref:Lt}),Vt={};w||(Ft.onTouchStart=function(t){Dt(t),clearTimeout(rt.current),clearTimeout(et.current),clearTimeout(it.current),t.persist(),it.current=setTimeout((function(){ft()(t)}),_)},Ft.onTouchEnd=function(t){h.props.onTouchEnd&&h.props.onTouchEnd(t),clearTimeout(it.current),clearTimeout(rt.current),t.persist(),rt.current=setTimeout((function(){Tt(t)}),O)}),y||(Ft.onMouseOver=ft(),Ft.onMouseLeave=Ct(),N&&(Vt.onMouseOver=ft(!1),Vt.onMouseLeave=Ct(!1))),v||(Ft.onFocus=It(),Ft.onBlur=Ct(),N&&(Vt.onFocus=It(!1),Vt.onBlur=Ct(!1)));var Ut=s.useMemo((function(){return(0,l.A)({popperOptions:{modifiers:{arrow:{enabled:Boolean(J),element:J}}}},H)}),[J,H]);return s.createElement(s.Fragment,null,s.cloneElement(h,Ft),s.createElement(j,(0,r.A)({className:(0,c.A)(f.popper,N&&f.popperInteractive,a&&f.popperArrow),placement:V,anchorEl:X,open:!!X&&ct,id:Ft["aria-describedby"],transition:!0},Vt,Ut),(function(t){var e=t.placement,n=t.TransitionProps;return s.createElement(K,(0,r.A)({timeout:G.transitions.duration.shorter},n,z),s.createElement("div",{className:(0,c.A)(f.tooltip,f["tooltipPlacement".concat((0,d.A)(e.split("-")[0]))],tt.current&&f.touch,a&&f.tooltipArrow)},q,a?s.createElement("span",{className:f.arrow,ref:Z}):null))})))}));const Rt=(0,f.A)((function(t){return{popper:{zIndex:t.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,h.X4)(t.palette.grey[700],.9),borderRadius:t.shape.borderRadius,color:t.palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(10),lineHeight:"".concat(Ct(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,h.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat(Ct(16/14),"em"),fontWeight:t.typography.fontWeightRegular},tooltipPlacementLeft:(0,a.A)({transformOrigin:"right center",margin:"0 24px "},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,a.A)({transformOrigin:"left center",margin:"0 24px"},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,a.A)({transformOrigin:"center bottom",margin:"24px 0"},t.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,a.A)({transformOrigin:"center top",margin:"24px 0"},t.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(Dt)},6232:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(2143),i=(n(6540),n(7114));function o(){return(0,r.A)()||i.A}},3173:(t,e,n)=>{n.d(e,{c:()=>i,q:()=>r});var r=function(t){return t.scrollTop};function i(t,e){var n=t.timeout,r=t.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"==typeof n?n:n[e.mode]||0,delay:i.transitionDelay}}},8521:(t,e,n)=>{function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return null==e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}}),(function(){}))}n.d(e,{A:()=>r})},4507:(t,e,n)=>{n.d(e,{A:()=>h});var r=n(8168),i=n(6540),o=n(45),a=n(53),s=n(5192),u=n(7515),c=i.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,l=t.color,h=void 0===l?"inherit":l,f=t.component,d=void 0===f?"svg":f,p=t.fontSize,m=void 0===p?"medium":p,v=t.htmlColor,g=t.titleAccess,y=t.viewBox,b=void 0===y?"0 0 24 24":y,w=(0,o.A)(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(d,(0,r.A)({className:(0,a.A)(s.root,c,"inherit"!==h&&s["color".concat((0,u.A)(h))],"default"!==m&&"medium"!==m&&s["fontSize".concat((0,u.A)(m))]),focusable:"false",viewBox:b,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:e},w),n,g?i.createElement("title",null,g):null)}));c.muiName="SvgIcon";const l=(0,s.A)((function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c);function h(t,e){var n=function(e,n){return i.createElement(l,(0,r.A)({ref:n},e),t)};return n.muiName=l.muiName,i.memo(i.forwardRef(n))}},4960:(t,e,n)=>{function r(t,e){"function"==typeof t?t(e):t&&(t.current=e)}n.d(e,{A:()=>r})},8060:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(6540);function i(t){var e=t.controlled,n=t.default,i=(t.name,t.state,r.useRef(void 0!==e).current),o=r.useState(n),a=o[0],s=o[1];return[i?e:a,r.useCallback((function(t){i||s(t)}),[])]}},2319:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(6540),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function o(t){var e=r.useRef(t);return i((function(){e.current=t})),r.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}},4801:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(6540),i=n(4960);function o(t,e){return r.useMemo((function(){return null==t&&null==e?null:function(n){(0,i.A)(t,n),(0,i.A)(e,n)}}),[t,e])}},364:(t,e,n)=>{n.d(e,{A:()=>p});var r=n(6540),i=n(961),o=!0,a=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(t){t.metaKey||t.altKey||t.ctrlKey||(o=!0)}function l(){o=!1}function h(){"hidden"===this.visibilityState&&a&&(o=!0)}function f(t){var e,n,r,i=t.target;try{return i.matches(":focus-visible")}catch(t){}return o||(n=(e=i).type,!("INPUT"!==(r=e.tagName)||!u[n]||e.readOnly)||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable)}function d(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function p(){return{isFocusVisible:f,onBlurVisible:d,ref:r.useCallback((function(t){var e,n=i.findDOMNode(t);null!=n&&((e=n.ownerDocument).addEventListener("keydown",c,!0),e.addEventListener("mousedown",l,!0),e.addEventListener("pointerdown",l,!0),e.addEventListener("touchstart",l,!0),e.addEventListener("visibilitychange",h,!0))}),[])}}},7315:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(6540);const i=(0,n(4507).A)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},944:(t,e,n)=>{n.d(e,{A:()=>r.A});var r=n(9998),i="8.10.1";r.A.registerVersion("firebase",i,"app"),r.A.SDK_VERSION=i},8127:(t,e,n)=>{var r=n(9998);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,n){if(n){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[t=t[t.length-1]]))!=o&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:E).apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var A=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(t){return t}function k(t,e,n){this.code=x+t,this.message=e||D[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new k(e.substring(x.length),t.message,t.serverResponse):null}S(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var N,x="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function F(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function V(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}N=O("__EID__")?"__EID__":void 0,S(L,Error),L.prototype.name="CustomError",S(M,L),M.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var H=new V((function(){return new B}),(function(t){t.reset()}));function q(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=H.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=K(t,e)}function $(t,e){var n;return(n=0<=(e=K(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function mt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===At&&e||"",this.b=Tt}function Et(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.ta=!0,wt.prototype.sa=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var It,Tt={},At={};function St(){if(void 0===It){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:_,createScript:_,createScriptURL:_})}catch(t){u.console&&u.console.error(t.message)}It=t}else It=t}return It}function _t(t,e){this.a=e===Dt?t:""}function kt(t){return t instanceof _t&&t.constructor===_t?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=Et(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new _t(t=e?e.createScriptURL(t):t,Dt)}(t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?Et(t):encodeURIComponent(String(t))})))}_t.prototype.ta=!0,_t.prototype.sa=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Dt={};function Rt(t,e){this.a=e===Ut?t:""}function Ot(t){return t instanceof Rt&&t.constructor===Rt?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Rt.prototype.ta=!0,Rt.prototype.sa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t))t=new Rt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Pt.test(e[1])?new Rt(t,Ut):null}return t}function Vt(t){return t instanceof Rt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Ut))}var Ut={},jt=new Rt("about:invalid#zClosurez",Ut);function Ht(t,e,n){this.a=n===qt?t:""}Ht.prototype.ta=!0,Ht.prototype.sa=function(){return this.a.toString()},Ht.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Bt(t,e,n,r){return t=t instanceof Rt?t:Vt(t),e=e||u,n=n instanceof wt?Et(n):n||"",e.open(Ot(t),n,r,void 0)}function Kt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=f;var Gt,Yt,Xt=dt("Opera"),$t=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Jt=Qt||$t,Zt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function ee(){var t=u.document;return t?t.documentMode:void 0}t:{var ne="",re=(Yt=tt,Zt?/rv:([^\);]+)(\)|;)/.exec(Yt):Qt?/Edge\/([\d\.]+)/.exec(Yt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt):te?/WebKit\/(\S+)/.exec(Yt):Xt?/(?:Version)[ \/]?(\S+)/.exec(Yt):void 0);if(re&&(ne=re?re[1]:""),$t){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){Gt=String(ie);break t}}Gt=ne}var oe,ae={};function se(t){return function(t,e){var n=ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=et(String(Gt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}u.document&&$t?oe=ee()||parseInt(Gt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Yt){}var ce=!$t||9<=Number(ue);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function me(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){u.setTimeout((function(){throw t}),0)}function ge(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(we)}}else de=function(){var t=we;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=me(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),ye||(de(),ye=!0),be.add(t,e)}var ye=!1,be=new j;function we(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){ve(t)}U(H,t)}ye=!1}function Ee(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Le(n,Te,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Le(n,Ae,t)}))}catch(t){Le(this,Ae,t)}}var Ie=0,Te=2,Ae=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new V((function(){return new Se}),(function(t){t.reset()}));function ke(t,e,n){var r=_e.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof Ee)return t;var e=new Ee(f);return Le(e,Te,t),e}function Ne(t){return new Ee((function(e,n){n(t)}))}function xe(t,e,n){Me(t,e,n,null)||ge(T(e,t))}function De(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],T(i,o,!0),T(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Ie)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ie&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ve(n),Ue(n,i,Ae,e)))}t.c=null}else Le(t,Ae,e)}function Oe(t,e){t.b||t.a!=Te&&t.a!=Ae||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=ke(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Oe(t,i),i.a}function Le(t,e,n){t.a==Ie&&(t===n&&(e=Ae,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Ae||n instanceof qe||function(t,e){t.g=!0,ge((function(){t.g&&He.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ee)return Oe(t,ke(e||f,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Fe(t){t.h||(t.h=!0,ge(t.gc,t))}function Ve(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Ae&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,r);else try{e.c?e.g.call(e.f):je(e,n,r)}catch(t){He.call(null,t)}U(_e,e)}function je(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Pe(this,m(t)?t:null,m(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(t=Ee.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==Ie){var e=new qe(t);ge((function(){Re(this,e)}),this)}},t.$c=function(t){this.a=Ie,Le(this,Te,t)},t.ad=function(t){this.a=Ie,Le(this,Ae,t)},t.gc=function(){for(var t;t=Ve(this);)Ue(this,t,this.a,this.i);this.h=!1};var He=ve;function qe(t){L.call(this,t)}function Be(){0!=Ke&&(ze[g(this)]=this),this.ya=this.ya,this.pa=this.pa}S(qe,L),qe.prototype.name="cancel";var Ke=0,ze={};function We(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Ke)){var e=g(t);if(0!=Ke&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Ye=!$t||9<=Number(ue),Xe=$t&&!se("9"),$e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Je,Qe);var Ze=Ge({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Je.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++en,this.wa=this.Qa=!1}function rn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function on(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=sn(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new nn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(t,e,n,r,i){if(r&&r.once)fn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=En(n),t&&t[tn]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):hn(t,e,n,!1,r,i)}function hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(t);if(s||(t[un]=s=new on(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=yn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=En(n),t&&t[tn]?An(t,e,n,v(r)?!!r.capture:!!r,i):hn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=En(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[tn])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(an(n,t),0==n.b&&(n.src=null,e[un]=null)):rn(t)}}}function mn(t){return t in cn?cn[t]:cn[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&pn(t),n.call(r,e)}function yn(t,e){if(t.wa)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Je(e,this))}function bn(t){return(t=t[un])instanceof on?t:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return m(t)?t:(t[wn]||(t[wn]=function(e){return t.handleEvent(e)}),t[wn])}function In(){Be.call(this),this.v=new on(this),this.bc=this,this.hb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function An(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(m(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Ee((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Cn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Nn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(In,Be),In.prototype[tn]=!0,In.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},In.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},In.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;yt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Sn(a,r,!0,t)&&i}if(i=Sn(a=t.b=n,r,!0,t)&&i,i=Sn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(a=t.b=e[o],r,!1,t)&&i;return i},In.prototype.Da=function(){if(In.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)rn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=xn.prototype).X=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Fn(this,nr(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Mn(this,n[4]),this.f=qn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Ln(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),er(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Yn)),t.b=new $n(e,t.i))}function Vn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function jn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Hn(t,e,n,r){var i=new Pn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Gn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,Xn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Fn(e,nr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Wn=/[#\?:]/g,Gn=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t){var e=Nn(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Zn(t,e){Qn(t),e=rr(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function tr(t,e){return Qn(t),e=rr(t,e),Rn(t.a.b,e)}function er(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(rr(t,e),Z(n)),t.b+=n.length)}function nr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function rr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ir(t){var e=[];return ar(new or,t,e),e.join("")}function or(){}function ar(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ar(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),cr(r,n),n.push(":"),ar(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":cr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=rr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)tr(this,t)&&(e=J(e,this.a.get(rr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,tr(this,t=rr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(t,e){e.push('"',t.replace(ur,(function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e})),'"')}function lr(){var t=xr();return $t&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(t,e){e=e||u.window;var n="about:blank";t&&(n=Ot(Ft(t)||jt)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function pr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function mr(t){t=t||u.window;try{t.close()}catch(t){}}function vr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),kr(xr())==Sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Ft(void 0!==n.href?n.href:String(n))||jt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=me(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:Vt(e),a.href=Ot(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=Ot(e),a&&(Jt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Ht(t=(r=St())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Ht&&t.constructor===Ht?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},fn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function wr(t){return t=t||xr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Ir(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Tr(){return r.A.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.A.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function Ar(){var t=Tr();return"ReactNative"===t||"Node"===t}var Sr="Firefox",_r="Chrome";function kr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Sr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":_r:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=kr(i=xr()):"Worker"===r&&(r=kr(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return u.navigator&&u.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!u.indexedDB}catch(t){return Ir()&&!!u.indexedDB}return!1}function Or(){return(Pr()||"chrome-extension:"===Lr()||wr())&&!Ar()&&Rr()&&!Ir()}function Pr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Mr(t){return!pr(t=t||xr())&&kr(t)!=Sr}function Fr(t){return void 0===t?null:ir(t)}function Vr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Ur(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Hr(t){return"Safari"!=kr(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Tr(),this.b=pr(t)||"ReactNative"===e}function Kr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Wr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Br.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Lr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Yr={};function Xr(t){Yr[t]||(Yr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==$r.abcd}catch(Yt){Gr=!1}function Qr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Zr(t){var e={};return Jr(e,t),e}function ti(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,ti(t[n]));return e}function ei(t){var e=t&&(t[ai]?"phone":null);if(!(e&&t&&t[oi]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[oi]),Qr(this,"displayName",t[ri]||null);var n=null;t[ii]&&(n=new Date(t[ii]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ni(t){try{var e=new si(t)}catch(t){e=null}return e}ei.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function si(t){ei.call(this,t),Qr(this,"phoneNumber",t[ai])}function ui(t){var e={},n=t[fi],r=t[pi],i=t[mi];if(t=ni(t[di]),!i||i!=li&&i!=hi&&!n||i==hi&&!r||i==ci&&!t)throw Error("Invalid checkActionCode response!");i==hi?(e[gi]=n||null,e[bi]=n||null,e[vi]=r):(e[gi]=r||null,e[bi]=r||null,e[vi]=n||null),e[yi]=t||null,Qr(this,Ei,i),Qr(this,wi,ti(e))}S(si,ei),si.prototype.w=function(){var t=si.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ci="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",fi="email",di="mfaInfo",pi="newEmail",mi="requestType",vi="email",gi="fromEmail",yi="multiFactorInfo",bi="previousEmail",wi="data",Ei="operation";function Ii(t){var e=Un(t=jn(t),Ti)||null,n=Un(t,Ai)||null,r=Un(t,ki)||null;if(r=r&&Ni[r]||null,!e||!n||!r)throw new k("argument-error",Ti+", "+Ai+"and "+ki+" are required in a valid action code URL.");Jr(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,Si)||null,languageCode:Un(t,_i)||null,tenantId:Un(t,Ci)||null})}var Ti="apiKey",Ai="oobCode",Si="continueUrl",_i="languageCode",ki="mode",Ci="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:li,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new Ii(t)}catch(t){return null}}function Di(t){var e=t[Mi];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[Ui];var r=n[Fi];if(n=n[Vi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Vi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Li])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",Li+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new k("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Oi="dynamicLinkDomain",Pi="handleCodeInApp",Li="iOS",Mi="url",Fi="installApp",Vi="minimumVersion",Ui="packageName",ji="bundleId";function Hi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Bi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new Bi(t)}catch(t){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Yi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Wi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Xi(t){for(var e in Yi)if(Yi[e].fa==t)return Yi[e];return null}function $i(t){var e={};e["facebook.com"]=eo,e["google.com"]=ro,e["github.com"]=no,e["twitter.com"]=io;var n=t&&t[Ji];try{if(n)return e[n]?new e[n](t):new to(t);if(void 0!==t[Qi])return new Zi(t)}catch(t){}return null}var Qi="idToken",Ji="providerId";function Zi(t){var e=t[Ji];if(!e&&t[Qi]){var n=Ki(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function to(t){Zi.call(this,t),Qr(this,"profile",ti((t=Ur(t.rawUserInfo||"{}"))||{}))}function eo(t){if(to.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(to.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function ro(t){if(to.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(to.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function oo(t){var e=jn(t),n=Un(e,"link"),r=Un(jn(n),"link");return e=Un(e,"deep_link_id"),Un(jn(e),"link")||e||r||n||t}function ao(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:uo}S(to,Zi),S(eo,to),S(no,to),S(ro,to),S(io,to);var so="enroll",uo="signin";function co(){}function lo(t,e){return t.then((function(t){if(t[Ja]){var n=Ki(t[Ja]);if(!n||e!=n.i)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new k("user-mismatch"):t}))}function ho(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function fo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function po(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(t){}return null}function mo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new mo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function yo(t,e){this.Qc=e||[],Jr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Xi(t)||{}).Ja||null,this.pb=null}function bo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function wo(t){yo.call(this,t,Gi),this.a=[]}function Eo(){wo.call(this,"facebook.com")}function Io(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function To(){wo.call(this,"github.com")}function Ao(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function So(){wo.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function ko(){yo.call(this,"twitter.com",Wi)}function Co(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Do(){Jr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=Oo(e)))throw new k("argument-error","Invalid email link!");return new No(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=xi(t=oo(t)))&&t.operation===li?t:null}function Po(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new k("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Po(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Fo(t){try{this.a=t||r.A.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jr(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new Po({fb:t,eb:e})}function Uo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return Io(n);case"github.com":return Ao(n);case"twitter.com":return Co(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ho(e,a):new mo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new wo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function jo(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function Ho(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Ho(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},ao.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ka=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},ho.prototype.ka=function(t){return bs(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ws(t,n)},ho.prototype.c=function(t,e){return lo(Es(t,fo(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(t){return bs(t,vo(this))},mo.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,ws(t,n)},mo.prototype.c=function(t,e){return lo(Es(t,vo(this)),e)},mo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Jb=vt(t),this},S(bo,yo),S(wo,yo),wo.prototype.Ca=function(t){return X(this.a,t)||this.a.push(t),this},wo.prototype.Rb=function(){return Z(this.a)},wo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},S(Eo,wo),Qr(Eo,"PROVIDER_ID","facebook.com"),Qr(Eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(To,wo),Qr(To,"PROVIDER_ID","github.com"),Qr(To,"GITHUB_SIGN_IN_METHOD","github.com"),S(So,wo),Qr(So,"PROVIDER_ID","google.com"),Qr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),S(ko,yo),Qr(ko,"PROVIDER_ID","twitter.com"),Qr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Ns,{email:this.a,oobCode:this.f}):nu(t,Qs,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,xs,{idToken:e,email:this.a,oobCode:this.f}):nu(t,Bs,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return lo(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jr(Do,{PROVIDER_ID:"password"}),Jr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.gb(Mo(this))},Po.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,nu(t,Zs,n)},Po.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",lo(t=nu(t,tu,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Fo.prototype.gb=function(t,e){var n=this.a.a;return Ce(e.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=v(t)?t.session:null,a=v(t)?t.phoneNumber:t;return i=o&&o.type==so?o.Ha().then((function(t){return function(t,e){return nu(t,zs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==uo?o.Ha().then((function(e){return function(t,e){return nu(t,Ws,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,Hs,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Jr(Fo,{PROVIDER_ID:"phone"}),Jr(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,zo=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Kt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Kt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Go(t,e,n){k.call(this,t,n),(t=e||{}).Kb&&Qr(this,"email",t.Kb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.$b&&Qr(this,"tenantId",t.$b)}function Yo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Uo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Xo(){}function $o(t){return t.c||(t.c=t.b())}function Qo(){}function Jo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zo(){}function ta(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.qc,this),this.a.onerror=I(this.Tb,this),this.a.onprogress=I(this.rc,this),this.a.ontimeout=I(this.vc,this)}function ea(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function na(t,e,n){this.reset(t,e,n,void 0,void 0)}function ra(t){this.f=t,this.b=this.c=this.a=null}function ia(t,e){this.name=t,this.value=e}S(Wo,k),S(Go,k),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Go.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,S(Qo,Xo),Qo.prototype.a=function(){var t=Jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Jo(this)&&(t[0]=!0,t[1]=!0),t},Ko=new Qo,S(Zo,Xo),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ta;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(t=ta.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ea(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ea(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ea(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null,na.prototype.reset=function(t,e,n,r,i){r||A(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ua=new ia("FINE",500);function ca(t){return t.c?t.c:t.a?ca(t.a):(F("Root logger has no level set."),null)}ra.prototype.log=function(t,e,n){if(t.value>=ca(this).value)for(m(e)&&(e=e()),t=new na(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var la={},ha=null;function fa(t){var e;if(ha||(ha=new ra(""),la[""]=ha,ha.c=sa),!(e=la[t])){e=new ra(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=fa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,la[t]=e}return e}function da(t,e){t&&t.log(ua,e,void 0)}function pa(t){this.f=t}function ma(t){In.call(this),this.u=t,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(pa,Xo),pa.prototype.a=function(){return new ma(this.f)},pa.prototype.b=function(t){return function(){return t}}({}),S(ma,In);var va=0;function ga(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ya(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ba(t)}function ba(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function wa(t){In.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ea,this.u=this.S=!1}(t=ma.prototype).open=function(t,e){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ba(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ya(this)),this.readyState=va},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ba(this)),this.a&&(this.readyState=3,ba(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ga(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ya(this):ba(this),3==this.readyState&&ga(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ya(this))},t.sc=function(t){this.a&&(this.response=t,ya(this))},t.Va=function(t){var e=this.i;e&&e.log(aa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ya(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(aa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(wa,In);var Ea="";wa.prototype.b=fa("goog.net.XhrIo");var Ia=/^https?$/i,Ta=["POST","PUT"];function Aa(t){return"content-type"==t.toLowerCase()}function Sa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_a(t),Ca(t)}function _a(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ka(t){if(t.c&&void 0!==s)if(t.C[1]&&4==xa(t)&&2==Da(t))da(t.b,Ra(t,"Local request error detected and ignored"));else if(t.i&&4==xa(t))_n(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==xa(t)){da(t.b,Ra(t,"Request complete")),t.c=!1;try{var e,n=Da(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(On)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ia.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xa(t)?t.a.statusText:""}catch(e){da(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Da(t)+"]",_a(t)}}finally{Ca(t)}}}function Ca(t,e){if(t.a){Na(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(oa,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Na(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function xa(t){return t.a?t.a.readyState:0}function Da(t){try{return 2<xa(t)?t.a.status:-1}catch(t){return-1}}function Ra(t,e){return e+" ["+t.P+" "+t.l+" "+Da(t)+"]"}function Oa(t){var e=Ka;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Pa(t,e,n){t.a=!0,t.c=n,t.f=!e,Va(t)}function La(t){if(t.a){if(!t.v)throw new Ua(t);t.v=!1}}function Ma(t,e,n,r){t.g.push([e,n,r]),t.a&&Va(t)}function Fa(t){return Y(t.g,(function(t){return m(t[1])}))}function Va(t){if(t.h&&t.a&&Fa(t)){var e=t.h,n=qa[e];n&&(u.clearTimeout(n.a),delete qa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(P(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Fa(t)||(n=!0)}}t.c=e,r&&(s=I(t.m,t,!0),r=I(t.m,t,!1),e instanceof Oa?(Ma(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Ha(e),qa[e.a]=e,t.h=e.a)}function Ua(){L.call(this)}function ja(){L.call(this)}function Ha(t){this.a=u.setTimeout(I(this.c,this),0),this.b=t}(t=wa.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",da(this.b,Ra(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(da(this.b,Ra(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),wa.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?ka(this):this.Jc())},t.Jc=function(){ka(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ea:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return da(this.b,"Can not get response: "+t.message),null}},Oa.prototype.cancel=function(t){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new ja(this),La(this),Pa(this,!1,t))}},Oa.prototype.m=function(t,e){this.i=!1,Pa(this,t,e)},Oa.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Ma(this,r,(function(t){t instanceof ja?o.cancel():i(t)})),o.then(t,e,n)},Oa.prototype.$goog_Thenable=!0,S(Ua,L),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",S(ja,L),ja.prototype.message="Deferred was canceled",ja.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete qa[this.a],this.b};var qa={};function Ba(t){var e={},n=e.document||document,r=kt(t).toString(),i=me(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Oa(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){za(i,!0);var t=new Ya(Ga,"Timeout reached for loading script "+r);La(a),Pa(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(za(i,e.xd||!1,s),La(a),Pa(a,!0,null))},i.onerror=function(){za(i,!0,s);var t=new Ya(Wa,"Error while loading script "+r);La(a),Pa(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=kt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ka(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&za(t,!0,this.Ma)}}function za(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Wa=0,Ga=1;function Ya(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Xa(t){this.f=t}function $a(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=vt(t.secureTokenHeaders||ts),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||es,this.a=vt(t.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=u.XMLHttpRequest||n&&r.A.INTERNAL.node&&r.A.INTERNAL.node.XMLHttpRequest)&&!Ir())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new pa(self):Ar()?this.f=new Xa(n):this.f=new Zo,this.b=null}S(Ya,L),S(Xa,Xo),Xa.prototype.a=function(){return new this.f},Xa.prototype.b=function(){return{}};var Qa,Ja="idToken",Za=new Br(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},es=new Br(3e4,6e4),ns={"Content-Type":"application/json"};function rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function is(t,e){e&&(t.l=os("https://securetoken.googleapis.com/v1/token",e),t.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=os("https://identitytoolkit.googleapis.com/v2/",e))}function os(t,e){return t=jn(t),e=jn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function as(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ss(t,e,n,r,i,o,a){(function(){var t=xr();return!((t=kr(t)!=_r?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&ue&&!(9<ue))})()||Ir()?t=I(t.u,t):(Qa||(Qa=new Ee((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[cs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ma(t,null,e,void 0)}(Ba(Ct(us,{onload:cs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=I(t.s,t)),t(e,n,r,i,o,a)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(t,e,n,r,i,o){if(Ir()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new wa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return da(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),An(a,"ready",(function(){s&&clearTimeout(s),We(this)})),An(a,"timeout",(function(){s&&clearTimeout(s),We(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?$o(t.D):$o(Ko),t.a.onreadystatechange=I(t.Wb,t);try{da(t.b,Ra(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return da(t.b,Ra(t,"Error opening Xhr: "+e.message)),void Sa(t,e)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)z(t,e,void 0);else for(var n=Nn(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Aa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!X(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Na(t),0<t.g&&(t.u=function(t){return $t&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),da(t.b,Ra(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ma,t)):t.s=_n(t.Ma,t.g,t)),da(t.b,Ra(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){da(t.b,Ra(t,"Send error: "+e.message)),Sa(t,e)}}(a,t,n,r,i)};var us=new wt(At,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new k("invalid-email")}function hs(t){"email"in t&&ls(t)}function fs(t){if(!t[Ja]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,vt(t));throw new k("internal-error")}}function ds(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}$a.prototype.s=function(t,e,n,r,i){var o=this;Qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.Ab=function(){return nu(this,Ks,{})},$a.prototype.Cb=function(t,e){return nu(this,qs,{idToken:t,email:e})},$a.prototype.Db=function(t,e){return nu(this,Bs,{idToken:t,password:e})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function vs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function gs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&tr(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ys(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Yo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;fs(t)}function bs(t,e){return e.returnIdpCredential=!0,nu(t,Gs,e)}function ws(t,e){return e.returnIdpCredential=!0,nu(t,Xs,e)}function Es(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Ys,e)}function Is(t){if(!t.oobCode)throw new k("invalid-action-code")}(t=$a.prototype).Eb=function(t,e){var n={idToken:t},r=[];return pt(ps,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,qs,n)},t.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,Fs,t)},t.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Ps,t)},t.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,Ls,t)},t.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ms,t)},t.gb=function(t){return nu(this,Js,t)},t.ob=function(t,e){return nu(this,js,{oobCode:t,newPassword:e})},t.Sa=function(t){return nu(this,As,{oobCode:t})},t.kb=function(t){return nu(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},As={endpoint:"resetPassword",A:Is,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},B:!0},Ss={endpoint:"signupNewUser",A:function(t){if(ls(t),!t.password)throw new k("weak-password")},G:fs,V:!0,B:!0},_s={endpoint:"createAuthUri",B:!0},ks={endpoint:"deleteAccount",O:["idToken"]},Cs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new k("internal-error")}},Ns={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},xs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Os={endpoint:"getAccountInfo"},Ps={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");ls(t)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");ls(t)},Z:"email",B:!0},Vs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Us={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},js={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Hs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qs={endpoint:"setAccountInfo",O:["idToken"],A:hs,V:!0},Bs={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(hs(t),!t.password)throw new k("weak-password")},G:fs,V:!0},Ks={endpoint:"signupNewUser",G:fs,V:!0,B:!0},zs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Gs={endpoint:"verifyAssertion",A:vs,Za:gs,G:ys,V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:vs,Za:gs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);fs(t)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(t){if(vs(t),!t.idToken)throw new k("internal-error")},Za:gs,G:ys,V:!0},$s={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:fs,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(ls(t),!t.password)throw new k("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");ds(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Yo(t);fs(t)}},tu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ja]^!!t.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ne(new k("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ce(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=jn(e+n);Vn(s,"key",t.c),a&&Vn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Vn(s,c,i[c]);return new Ee((function(e,n){ss(t,s.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new k("network-request-failed"))}),r,u?void 0:ir(Vr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=Fr(t)),new k("internal-error",e)}function ou(t){this.b=t,this.a=null,this.sb=function(t){return(cu||(cu=new Ee((function(t,e){function n(){qr(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:su.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},Ce(Ba(r=Ct(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new Ee((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new wt(At,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Br(3e4,6e4),uu=new Br(5e3,15e3),cu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Hn((t=jn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Hn("https",this.l,null,"/__/auth/iframe"),this.a=t,Vn(this.a,"apiKey",this.h),Vn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(t){try{return r.A.app(t).auth().Ga()}catch(t){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(t){var e=hr();return function(t){return nu(t,Vs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=jn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Wo(hr())}))}function mu(t){return t.m||(t.m=br().then((function(){if(!t.u){var e=t.c,n=t.i,r=fu(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new ou(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?Nr(t.c,fu(t.b)):null,t.l=new $a(t.g,O(t.i),t.C),t.f&&is(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new hu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.zb(l).toString()}function yu(t){if(this.a=t||r.A.INTERNAL.reactNative&&r.A.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=I(this.c,this)}lu.prototype.toString=function(){return this.f?Vn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Vn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Vn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},hu.prototype.zb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=jn(this.v.url);t=Hn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Hn("https",this.u,null,"/__/auth/handler");if(Vn(t,"apiKey",this.s),Vn(t,"appName",this.c),Vn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.A.app(this.c).auth().la()}catch(t){n=null}for(var i in e.pb=n,Vn(t,"providerId",this.a.providerId),e=Vr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=vt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),mt(e)||Vn(t,"customParameters",Fr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Vn(t,"scopes",n.join(",")),this.l?Vn(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?Vn(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?Vn(t,"v",this.i):Zn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(t,s)&&Vn(t,s,this.b[s]);return this.h?Vn(t,"tid",this.h):Zn(t.b,"tid"),this.f?Vn(t,"eid",this.f):Zn(t.b,"eid"),(s=fu(this.c)).length&&Vn(t,"fw",s.join(",")),t.toString()},(t=du.prototype).Pb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return mu(t).then((function(){return function(t,e){return t.sb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&mr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=xr();return!Mr(t)&&!Hr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new k("popup-blocked"));if(a&&!Mr())return this.ma().o((function(e){mr(t),i(e)})),r(),Ce();this.a||(this.a=pu(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw mr(t),i(e),e}));return r(),e})).then((function(){jo(n),a||fr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=pu(vu(this)));var i=this;return this.a.then((function(){jo(e),fr(gu(i.s,i.g,i.b,t,e,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return mu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new k("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Q(this.h,(function(e){return e==t}))},(t=yu.prototype).get=function(t){return Ce(this.a.getItem(t)).then((function(t){return t&&Ur(t)}))},t.set=function(t,e){return Ce(this.a.setItem(t,Fr(e)))},t.U=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var wu,Eu=[];function Iu(t,e,n){mt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Au(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _u(t,c),e})).o((function(e){throw _u(t,c),e}))}function _u(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(t.a,(function(t){return t==e}))}}function ku(){if(!Du())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Ir()&&self?(this.v=function(){var t=Ir()?self:null;if(z(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);Eu.push(e)}return e}(),Iu(this.v,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:X(e,n.key)}}))})),Iu(this.v,"ping",(function(){return Ce(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ce().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ce(null)}().then((function(e){(t.h=e)&&(t.g=new Au(new Tu(e)),Su(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Cu(t){return new Ee((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Cu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Nu(t){return t.i||(t.i=Cu(t)),t.i}function xu(t,e){var n=0;return new Ee((function r(i,o){Nu(t).then(e).then(i).o((function(e){if(!(3<++n))return Nu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Du(){try{return!!u.indexedDB}catch(t){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Su(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ce()}function Mu(t){return Nu(t).then((function(t){var e=Ru(Ou(t,!1));return e.getAll?Pu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then((function(){if(Du()){var t=jr(),r="__sak"+t;return wu||(wu=new ku),(n=wu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==Tr();if(!(t=Hu()||t&&r.A.INTERNAL.node&&r.A.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Hu()||r.A.INTERNAL.node.localStorage,this.type="localStorage"}function Hu(){try{var t=u.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function qu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==Tr();if(!(t=Ku()||t&&r.A.INTERNAL.node&&r.A.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Ku()||r.A.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=u.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function zu(){var t={};t.Browser=Yu,t.Node=Xu,t.ReactNative=$u,t.Worker=Qu,this.a=t[Tr()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(Ce().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Au.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(t=ku.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Pu((e=Ru(Ou(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Ru(Ou(o,!0)),i)return i.value=e,Pu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Pu(o.add(a))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Pu(Ru(Ou(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Pu(Ru(Ou(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Fu(t),function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.U=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Ce().then((function(){return Ur(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&ln(u.window,"storage",t)},t.ia=function(t){u.window&&dn(u.window,"storage",t)},(t=qu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.U=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Ce().then((function(){return Ur(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,Gu,Yu={F:ju,cb:Bu},Xu={F:ju,cb:Bu},$u={F:yu,cb:qu},Qu={F:ju,cb:qu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var t=!(Hr(xr())||!Er()),e=Mr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new zu),t=Wu;try{this.g=!lr()&&Wr()||!u.indexedDB?new t.a.F:new Vu(Ir()?new Uu:new t.a.F)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new Uu}this.v=new Uu,this.f=I(this.Zb,this),this.b={}}function tc(){return Gu||(Gu=new Zu),Gu}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=nc(e,n),"local"==e.F&&(t.b[n]=null),ec(t,e.F).U(n)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zu.prototype).get=function(t,e){return ec(this,t.F).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=nc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),mt(this.a)&&(ec(this,"local").ca(this.f),this.h||(lr()||!Wr())&&u.indexedDB||!this.l||function(t){ic(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(Q(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),mt(this.a)&&(ec(this,"local").ia(this.f),ic(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ia(this.f):ic(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.nb(e))},$t&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,I(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=tc()}function cc(t,e){this.b=lc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=u.Int32Array?new Int32Array(gc):gc),this.reset()}S(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],dc=0;dc<hc;dc++)fc[dc]=0;var pc=J(128,fc);function mc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(mc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(mc(t),i=0)}}t.c=i,t.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}S(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new k("invalid-cordova-configuration",t)}function Ic(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=oo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=jn(i),"firebaseError")||null))?C(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(t,i)}))}var n=new Ho("unknown",null,null,null,new k("no-auth-event")),r=!1,i=kn(500).then((function(){return Ac(t).then((function(){r||Ic(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},zo||(zo=new Bo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Dr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return qo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=tc()}(t=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",u))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",u))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",u))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",u))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},t.Pb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Ce()},t.Nb=function(){return Ne(new k("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ne(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ce().then((function(){return jo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ho(e,r,null,o,new k("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!=typeof s)throw new k("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",u),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!xr().toLowerCase().match(/android/))return Ne(new k("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(t){var e=new yc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,pc,56-e.c):vc(e,pc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(mc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,a.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){s=function(){var e=Dr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},l=function(){Kr()&&c()},o.addEventListener("resume",c,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ho("unknown",null,null,null,new k("no-auth-event")),t(e))}))},t.Ta=function(t){Q(this.b,(function(e){return e==t}))};var _c={name:"pendingRedirect",F:"session"};function kc(t){return rc(t.b,_c,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=I(this.s,this),this.b=new Bc,this.C=new Yc,this.g=new Sc(Hc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nc(this.D,this.v,this.m,N,this.J)}function Nc(t,e,n,i,o){var a=r.A.SDK_VERSION||null;return wr()?new wc(t,e,n,a,i,o):new du(t,e,n,a,i,o)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Dc(t){t.a.Yb()&&xc(t).o((function(e){var n=new Ho("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Ub()||Kc(t.b)}function Rc(t,e){X(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(_c,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){xc(t).o((function(e){var n=new Ho("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Dc(t)})).o((function(){Dc(t)}))}function Oc(t,e){Q(t.h,(function(t){return t==e}))}Cc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Nc(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Kc(this.b),e};var Pc=new Br(2e3,1e4),Lc=new Br(3e4,6e4);function Mc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Vc(t,e,n,r,i){var o;return function(t){return t.b.set(_c,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Fc(e))throw new k("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Ee((function(){})):kc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Uc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Pc.get())}Cc.prototype.ra=function(){return this.b.ra()};var jc={};function Hc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=Hc(e,n,r);return jc[i]||(jc[i]=new Cc(t,e,n,r)),jc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,Gc(t,!1,null,null))}function zc(t){t.g&&!t.i&&Gc(t,!1,null,null)}function Wc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Gc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Wc(t,n):Wc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Xc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function $c(t,e){this.a=e,Qr(this,"verificationId",t)}function Qc(t,e,n,r){return new Fo(t).gb(e,n).then((function(t){return new $c(t,r)}))}function Jc(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Zc(t,e,n){var r=e&&e[el];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;z(e[tl]||[],(function(t){(t=ni(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Gc(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Gc(t,s,e,null)})).o((function(e){Gc(t,s,null,e)}))}(this,t,e):Ne(new k("invalid-auth-event")):(Gc(this,!1,null,null),Ce())}else Ne(new k("invalid-auth-event"))},Bc.prototype.ra=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=kn(Lc.get()).then((function(){t.b||(t.g=!0,Gc(t,!0,null,e))}))}(t))}))},Yc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new k("invalid-auth-event"))}else Ne(new k("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Vo(this.verificationId,t),this.a(t)};var tl="mfaInfo",el="mfaPendingCredential";function nl(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new Zc(t,e,n),Qr(this,"resolver",this.b)}function rl(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new nl(e,t.serverResponse,n,t.message)}catch(t){}return null}function il(){}function ol(t){Qr(this,"factorId",t.fa),this.a=t}function al(t){if(ol.call(this,t),this.a.fa!=Fo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function ul(t,e){this.a=t,this.b=[],this.c=I(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[oi]=t.uid),t.displayName&&(r[ri]=t.displayName),t.enrollmentTime&&(r[ii]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ai]=t.phoneNumber);try{e=new si(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),cl(this,n)}function cl(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function ll(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(t,e){t.stop(),t.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Kr()||!t?Ce():new Ee((function(n){e=function(){Kr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){hl(t,!0)})).o((function(e){t.i(e)&&hl(t,!1)}))}function fl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function pl(t,e){t.b=Ki(e[Ja]||""),t.a=e.refreshToken,dl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){this.a=t||null,this.b=e||null,Jr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function vl(t,e,n,r,i,o){Jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.A.SDK_VERSION?Nr(r.A.SDK_VERSION):null;this.a=new $a(this.l,O(N),i),(this.u=t.emulatorConfig||null)&&is(this.a,this.u),this.h=new fl(this.a),_l(this,e[Ja]),pl(this.h,e),Qr(this,"refreshToken",this.h.a),Nl(this,n||{}),In.call(this),this.P=!1,this.s&&Or()&&(this.b=qc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new ll((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=I(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){yl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){El(o,t.f)},this.ja=null,this.S=new ul(this,n),Qr(this,"multiFactor",this.S)}function yl(t,e){t.u=e,is(t.a,e),t.b&&(e=t.b,t.b=qc(t.s,t.l,t.m,t.u),t.P&&(Oc(e,t),Rc(t.b,t)))}function bl(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&ln(e,"languageCodeChanged",t.Pa)}function wl(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&ln(e,"emulatorConfigChanged",t.Ba)}function El(t,e){t.aa=e,as(t.a,r.A.SDK_VERSION?Nr(r.A.SDK_VERSION,t.aa):null)}function Il(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&ln(e,"frameworkChanged",t.Oa)}function Tl(t){try{return r.A.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Al(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),ln(t,"tokenChanged",t.ba))}function Sl(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function _l(t,e){t.Aa=e,Qr(t,"_lat",e)}function kl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return De(e).then((function(){return t}))}function Cl(t){t.b&&!t.P&&(t.P=!0,Rc(t.b,t))}function Nl(t,e){Jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ml(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function Dl(t){return Ce().then((function(){if(t.J)throw new k("app-deleted")}))}function Rl(t){return G(t.providerData,(function(t){return t.providerId}))}function Ol(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))}function Pl(t,e){Q(t.providerData,(function(t){return t.providerId==e}))}function Ll(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Ml(t,e){t!=e&&(Jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new ml(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new ml),z(e.providerData,(function(e){Ol(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qr(t,"refreshToken",t.h.a),cl(t.S,e.S.b))}function Fl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Os,{idToken:e}).then(I(t.Kc,t))}(t,e).then((function(){return n||Ll(t,"isAnonymous",!1),e}))}))}function Vl(t,e){e[Ja]&&t.Aa!=e[Ja]&&(pl(t.h,e),t.dispatchEvent(new sl("tokenChanged")),_l(t,e[Ja]),Ll(t,"refreshToken",t.h.a))}function Ul(t,e){return Fl(t).then((function(){if(X(Rl(t),e))return kl(t).then((function(){throw new k("provider-already-linked")}))}))}function jl(t,e,n){return Zr({user:t,credential:Uo(e),additionalUserInfo:e=$i(e),operationType:n})}function Hl(t,e){return Vl(t,e),t.reload().then((function(){return t}))}function ql(t,e,n,i,o){if(!Or())return Ne(new k("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ne(t.i);var a=Xi(n.providerId),s=jr(t.uid+":::"),u=null;(!Mr()||Er())&&t.s&&n.isOAuthProvider&&(u=gu(t.s,t.l,t.m,e,n,null,s,r.A.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=vr(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(Kl(t),!o)return t.I().then((function(){}))})).then((function(){return Mc(t.b,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Ee((function(n,r){t.na(e,null,new k("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Uc(t.b,t,e,c,s)}))})).then((function(t){return c&&mr(c),t?Zr(t):null})).o((function(t){throw c&&mr(c),t})),zl(t,i,o)}function Bl(t,e,n,r,i){if(!Or())return Ne(new k("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=null,a=jr(t.uid+":::");return r=r().then((function(){if(Kl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,kl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return Vc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xl(t.ha);throw o})).then((function(){if(o)throw o})),zl(t,r,i)}function Kl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function zl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ne(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new sl("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){$(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),Tl(t),I(t.jc,t))),n||e}))}function Wl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ja]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gl(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&Ol(i,Zr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Gl(t){this.a=t,this.b=tc()}Zc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[tl],delete n[el],yt(n,t),e.g(n)}))},S(nl,k),il.prototype.tb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Mo(t.a)}),nu(e,Ds,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),nu(e,Rs,n)}))}(this,t,e)},S(ol,il),S(al,ol),S(sl,Qe),(t=ul.prototype).yc=function(t){cl(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=ni(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new ao(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Vl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return cl(e,r),Vl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},ll.prototype.start=function(){this.a=this.c,hl(this,!0)},ll.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new k("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ss(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Jn(e).toString(),t.g,t.m.get()):r(new k("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,dl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(gl,In),gl.prototype.xa=function(t){this.za=t,rs(this.a,t)},gl.prototype.la=function(){return this.za},gl.prototype.Ga=function(){return Z(this.aa)},gl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(gl.prototype,"providerId","firebase"),(t=gl.prototype).reload=function(){var t=this;return zl(this,Dl(this).then((function(){return Fl(t).then((function(){return kl(t)})).then(xl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Jc(t)}))},t.I=function(t){var e=this;return zl(this,Dl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.Aa&&(_l(e,t.accessToken),e.dispatchEvent(new sl("tokenChanged"))),Ll(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");Nl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new vl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Ll(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sl("userReloaded",{hd:t}))},t.Lc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return zl(this,t.c(this.a,this.uid).then((function(t){return Vl(e,t),n=jl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return zl(this,Ul(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=jl(e,t,"link"),Hl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return zl(this,Ul(this,"phone").then((function(){return Qc(Tl(n),t,e,I(n.rb,n))})))},t.Mc=function(t,e){var n=this;return zl(this,Ce().then((function(){return Qc(Tl(n),t,e,I(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return zl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Vl(e,t),e.reload()})))},t.ed=function(t){var e=this;return zl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Vl(e,t),e.reload()})))},t.Db=function(t){var e=this;return zl(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Vl(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dl(this);var e=this;return zl(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Vl(e,t),Ll(e,"displayName",t.displayName||null),Ll(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),kl(e)})).then(xl))},t.cd=function(t){var e=this;return zl(this,Fl(this).then((function(n){return X(Rl(e),t)?function(t,e,n){return nu(t,Cs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(Rl(e),(function(t){n[t]||Pl(e,t)})),n[Fo.PROVIDER_ID]||Qr(e,"phoneNumber",null),kl(e)})):kl(e).then((function(){throw new k("no-such-provider")}))})))},t.delete=function(){var t=this;return zl(this,this.I().then((function(e){return nu(t.a,ks,{idToken:e})})).then((function(){t.dispatchEvent(new sl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");bl(t,null),wl(t,null),Il(t,null),t.N=[],t.J=!0,Sl(t),Qr(t,"refreshToken",null),t.b&&Oc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?I(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?I(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?I(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?I(this.Mb,this):null},t.Ec=function(t){var e=this;return ql(this,"linkViaPopup",t,(function(){return Ul(e,t.providerId).then((function(){return kl(e)}))}),!1)},t.Nc=function(t){return ql(this,"reauthViaPopup",t,(function(){return Ce()}),!0)},t.Fc=function(t){var e=this;return Bl(this,"linkViaRedirect",t,(function(){return Ul(e,t.providerId)}),!1)},t.Oc=function(t){return Bl(this,"reauthViaRedirect",t,(function(){return Ce()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,this.I().then((function(n){return ws(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=jl(i,t,"link"),Hl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,Ce().then((function(){return lo(Es(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=jl(i,t,"reauthenticate"),Vl(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return zl(this,this.I().then((function(e){return n=e,void 0===t||mt(t)?{}:Hi(new Di(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return zl(this,this.I().then((function(t){return r=t,void 0===e||mt(e)?{}:Hi(new Di(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return zl(this,t=lo(Ce(t),n.uid).then((function(t){return e=jl(n,t,"reauthenticate"),Vl(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.S.w()),t};var Yl={name:"redirectUser",F:"session"};function Xl(t){return rc(t.b,Yl,t.a)}function $l(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=Zl("local"),n=Zl("session"),r=Zl("none");return function(t,e,n){var r=nc(e,n),i=ec(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(t){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Jl,t.a).then((function(t){return t?Zl(t):e}))}))}))})).then((function(e){return t.c=e,Ql(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zl("local"),this.a,I(this.g,this))}function Ql(t,e){var n,r=[];for(n in Ju)Ju[n]!==e&&r.push(rc(t.b,Zl(Ju[n]),t.a));return r.push(rc(t.b,Jl,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)xe(t[s],T(o,s),a);else e(i)}))}(r)}$l.prototype.g=function(){var t=this,e=Zl("local");rh(this,(function(){return Ce().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Ql(t,"local").then((function(){t.c=e}))}))}))};var Jl={name:"persistence",F:"session"};function Zl(t){return{name:"authUser",F:t}}function th(t,e){return rh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function eh(t){return rh(t,(function(){return rc(t.b,t.c,t.a)}))}function nh(t,e,n){return rh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Wl(t||{})}))}))}function rh(t,e){return t.f=t.f.then(e,e),t.f}function ih(t){if(this.l=!1,Qr(this,"settings",new Xc),Qr(this,"app",t),!fh(this).options||!fh(this).options.apiKey)throw new k("invalid-api-key");t=r.A.SDK_VERSION?Nr(r.A.SDK_VERSION):null,this.a=new $a(fh(this).options&&fh(this).options.apiKey,O(N),t),this.P=[],this.s=[],this.N=[],this.Pa=r.A.INTERNAL.createSubscribe(I(this.zc,this)),this.W=void 0,this.ib=r.A.INTERNAL.createSubscribe(I(this.Ac,this)),lh(this,null),this.i=new $l(fh(this).options.apiKey+":"+fh(this).name),this.D=new Gl(fh(this).options.apiKey+":"+fh(this).name),this.$=vh(this,function(t){var e=fh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Wl(t||{})}))}(t.D,fh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xl(t.D)}));return vh(t,e)}(t).then((function(){return nh(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return th(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:eh(t.i)}))):null})).then((function(e){lh(t,e||null)}));return vh(t,n)}(this)),this.h=vh(this,function(t){return t.$.then((function(){return ch(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=I(this.Zc,this),this.Ba=I(this.da,this),this.qa=I(this.mc,this),this.za=I(this.wc,this),this.Aa=I(this.xc,this),this.b=null,function(t){var e=fh(t).options.authDomain,n=fh(t).options.apiKey;e&&Or()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=qc(e,n,fh(t).name,t.R),Rc(t.b,t),dh(t)&&Cl(dh(t)),t.m){Cl(t.m);var r=t.m;r.xa(t.la()),bl(r,t),El(r=t.m,t.J),Il(r,t),yl(r=t.m,t.R),wl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Gc,this),this.u=0,In.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=jn(this.R.url);t=Zr({protocol:t.c,host:t.a,port:t.g,options:Zr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function oh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function ah(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function sh(t){Qe.call(this,"frameworkChanged"),this.f=t}function uh(t){return t.Oa||Ne(new k("auth-domain-config-required"))}function ch(t){if(!Or())return Ne(new k("operation-not-supported-in-this-environment"));var e=uh(t).then((function(){return t.b.ra()})).then((function(t){return t?Zr(t):null}));return vh(t,e)}function lh(t,e){dh(t)&&(function(t,e){Q(t.W,(function(t){return t==e}))}(dh(t),t.Ba),dn(dh(t),"tokenChanged",t.qa),dn(dh(t),"userDeleted",t.za),dn(dh(t),"userInvalidated",t.Aa),Sl(dh(t))),e&&(e.W.push(t.Ba),ln(e,"tokenChanged",t.qa),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&Al(e)),Qr(t,"currentUser",e),e&&(e.xa(t.la()),bl(e,t),El(e,t.J),Il(e,t),yl(e,t.R),wl(e,t))}function hh(t,e){var n=null,r=null;return vh(t,e.then((function(e){return n=Uo(e),r=$i(e),function(t,e){var n={};return n.apiKey=fh(t).options.apiKey,n.authDomain=fh(t).options.authDomain,n.appName=fh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new gl(t,e);return n&&(i.ha=n),r&&El(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return dh(t)&&e.uid==dh(t).uid?(Ml(dh(t),e),t.da(e)):(lh(t,e),Cl(e),t.da(e))})).then((function(){mh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),t,I(t.kc,t))),n||e})).then((function(){return Zr({user:dh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function fh(t){return t.app}function dh(t){return t.currentUser}function ph(t){return dh(t)&&dh(t)._lat||null}function mh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ph(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](ph(t))}}function vh(t,e){return t.P.push(e),e.oa((function(){$(t.P,e)})),e}function gh(){}function yh(){this.a={},this.b=1e12}$l.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Ju)if(Ju[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Du()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),rh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Ql(n,t)})).then((function(){if(n.c=Zl(t),e)return n.b.set(n.c,e,n.a)})):Ce()}))},S(ih,In),S(oh,Qe),S(ah,Qe),S(sh,Qe),(t=ih.prototype).yb=function(t){return vh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,rs(this.a,this.aa),this.dispatchEvent(new oh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=u.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&br().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,is(this.a,this.R),this.dispatchEvent(new ah(this.R))}},t.Gc=function(t){this.J.push(t),as(this.a,r.A.SDK_VERSION?Nr(r.A.SDK_VERSION,this.J):null),this.dispatchEvent(new sh(this.J))},t.Ga=function(){return Z(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:fh(this).options.apiKey,authDomain:fh(this).options.authDomain,appName:fh(this).name,currentUser:dh(this)&&dh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?I(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return hh(i,bs(i.a,o))}))},t.Xc=function(t){if(!Or())return Ne(new k("operation-not-supported-in-this-environment"));var e=this,n=Xi(t.providerId),i=jr(),o=null;(!Mr()||Er())&&fh(this).options.authDomain&&t.isOAuthProvider&&(o=gu(fh(this).options.authDomain,fh(this).options.apiKey,fh(this).name,"signInViaPopup",t,null,i,r.A.SDK_VERSION||null,null,null,this.T(),this.R));var a=vr(o,n&&n.va,n&&n.ua);return vh(this,n=uh(this).then((function(n){return Mc(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Ee((function(t,n){e.na("signInViaPopup",null,new k("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Uc(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&mr(a),t?Zr(t):null})).o((function(t){throw a&&mr(a),t})))},t.Yc=function(t){if(!Or())return Ne(new k("operation-not-supported-in-this-environment"));var e=this,n=uh(this).then((function(){return function(t){return rh(t,(function(){return t.b.set(Jl,t.c.F,t.a)}))}(e.i)})).then((function(){return Vc(e.b,"signInViaRedirect",t,void 0,e.T())}));return vh(this,n)},t.ra=function(){var t=this;return ch(this).then((function(e){return t.b&&zc(t.b.b),e})).o((function(e){throw t.b&&zc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new k("null-user"));if(this.S!=t.tenantId)return Ne(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=fh(this).options.apiKey,n.authDomain=fh(this).options.authDomain,n.appName=fh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&El(e,r),Ml(e,t),e}(t,n,e.D,e.Ga());return vh(this,this.h.then((function(){if(fh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return dh(e)&&t.uid==dh(e).uid?(Ml(dh(e),t),e.da(t)):(lh(e,r),Cl(r),e.da(r))})).then((function(){mh(e)})))},t.Bb=function(){var t=this;return vh(this,this.h.then((function(){return t.b&&zc(t.b.b),dh(t)?(lh(t,null),eh(t.i).then((function(){mh(t)}))):Ce()})))},t.Zc=function(){var t=this;return nh(this.i,fh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=dh(t)&&e){n=dh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ml(dh(t),e),dh(t).I();(dh(t)||e)&&(lh(t,e),e&&(Cl(e),e.ha=t.D),t.b&&Rc(t.b,t),mh(t))}}))},t.da=function(t){return th(this.i,t)},t.mc=function(){mh(this),this.da(dh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return hh(e,Ce(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(dh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),vh(t,t.h.then((function(){!t.l&&X(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ph(t)))})))}(this,(function(){t.next(dh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(dh(r)):"function"==typeof t.next&&t.next(dh(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(dh(r)):"function"==typeof t.next&&t.next(dh(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return vh(this,this.h.then((function(){return dh(e)?dh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return hh(e,nu(e.a,$s,{token:t}))})).then((function(t){var n=t.user;return Ll(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return hh(n,nu(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return hh(n,nu(n.a,Ss,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return hh(e,t.ka(e.a))}))},t.Sc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=dh(t);if(e&&e.isAnonymous){var n=Zr({providerId:null,isNewUser:!1});return Zr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return hh(t,t.a.Ab()).then((function(e){var n=e.user;return Ll(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return dh(this)&&dh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&dh(this)&&Al(dh(this))},t.Pc=function(t){var e=this;z(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&dh(this)&&Sl(dh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),vh(this,this.h.then((function(){e.l||X(e.s,t)&&t(ph(e))})))},t.removeAuthTokenListener=function(t){Q(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Zl("local"),t.a,this.ja),this.b&&(Oc(this.b,this),zc(this.b.b)),Promise.resolve()},t.hc=function(t){return vh(this,function(t,e){return nu(t,_s,{identifier:e,continueUri:Pr()?hr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Oo(t)},t.xb=function(t,e){var n=this;return vh(this,Ce().then((function(){var t=new Di(e);if(!t.c)throw new k("argument-error",Pi+" must be true when sending sign in link to email");return Hi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return vh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return vh(this,this.a.Sa(t).then((function(t){return new ui(t)})))},t.kb=function(t){return vh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return vh(this,Ce().then((function(){return void 0===e||mt(e)?{}:Hi(new Di(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return vh(this,Qc(this,t,e,I(this.ab,this)))},t.Vc=function(t,e){var n=this;return vh(this,Ce().then((function(){var r=e||hr(),i=Ro(t,r);if(!(r=Oo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var bh=null;function wh(t,e){return(e=Eh(e))&&t.a[e]||null}function Eh(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ih(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Th(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ah(){}function Sh(){}yh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ih(t,e),this.b++},yh.prototype.reset=function(t){var e=wh(this,t);t=Eh(t),e&&t&&(e.delete(),delete this.a[t])},yh.prototype.getResponse=function(t){return(t=wh(this,t))?t.getResponse():null},yh.prototype.execute=function(t){(t=wh(this,t))&&t.execute()},Ih.prototype.getResponse=function(){return Th(this),this.b},Ih.prototype.execute=function(){Th(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Ih.prototype.delete=function(){Th(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(Ah,"FACTOR_ID","phone"),Sh.prototype.g=function(){return bh||(bh=new yh),Ce(bh)},Sh.prototype.c=function(){};var _h=null;function kh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new wt(At,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nh=new Br(3e4,6e4);kh.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Nh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[e.a]},Ce(Ba(Ct(Ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},kh.prototype.c=function(){this.b--};var xh=null;function Dh(t,e,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(_h||(_h=new Sh),a=_h):(xh||(xh=new kh),a=xh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lh],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Rh];this.a[Rh]=function(t){if(Mh(s,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Dr(c,u);"function"==typeof e&&e(t)}};var l=this.a[Oh];this.a[Oh]=function(){if(Mh(s,null),"function"==typeof l)l();else if("string"==typeof l){var t=Dr(l,u);"function"==typeof t&&t()}}}var Rh="callback",Oh="expired-callback",Ph="sitekey",Lh="size";function Mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fh(t,e){return t.h.push(e),e.oa((function(){$(t.h,e)})),e}function Vh(t){if(t.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Uh(t,e,n){var i=!1;try{this.b=n||r.A.app()}catch(t){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=r.A.SDK_VERSION?Nr(r.A.SDK_VERSION,a):null,Dh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,O(N),i)}function jh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Hh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fh(this,Ce().then((function(){if(Pr()&&!Ir())return br();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,nu(t.s,Us,{})})).then((function(e){t.a[Ph]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Vh(this);var t=this;return Fh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',zt(a.name),'"'),a.type){o.push(' type="',zt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=me(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(m(o)){a="function"==typeof o.item;break t}}a=!1}z(a?Z(o):o,r)}}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Vh(this);var t=this;return Fh(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Vh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Uh,Dh);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function zh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Gh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xh(t){return v(t)&&"string"==typeof t.uid}function $h(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Qh(t,e){for(var n in e){var r=e[n].name;t[r]=tf(r,t[n],e[n].j)}}function Jh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T((function(t){return this[t]}),n),set:T((function(t,e,n,r){jh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function Zh(t,e,n,r){t[e]=tf(e,n,r)}function tf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Qh(ih.prototype,{kb:{name:"applyActionCode",j:[qh("code")]},Sa:{name:"checkActionCode",j:[qh("code")]},ob:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(Kh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(Kh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[qh("email"),$h(Kh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[qh("email"),Kh("actionCodeSettings")]},yb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Gh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Gh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof gl)}},Wh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Kh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Jh(ih.prototype,{lc:{name:"languageCode",lb:$h(qh(),Wh(),"languageCode")},ti:{name:"tenantId",lb:$h(qh(),Wh(),"tenantId")}}),ih.Persistence=Ju,ih.Persistence.LOCAL="local",ih.Persistence.SESSION="session",ih.Persistence.NONE="none",Qh(gl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Bh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Gh()]},rb:{name:"linkWithCredential",j:[Gh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gh()]},ub:{name:"reauthenticateWithCredential",j:[Gh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$h(Kh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Cb:{name:"updateEmail",j:[qh("email")]},Db:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Gh("phone")]},Eb:{name:"updateProfile",j:[Kh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),$h(Kh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jh(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Bh("appVerificationDisabledForTesting")}}),Qh($c.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),Zh(co,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,xo,Lo,po],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$h(qh(),Kh(),"json")]),Zh(Do,"credential",(function(t,e){return new No(t,e)}),[qh("email"),qh("password")]),Qh(No.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Eo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),Zh(Eo,"credential",Io,[$h(qh(),Kh(),"token")]),Zh(Do,"credentialWithLink",Ro,[qh("email"),qh("emailLink")]),Qh(To.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),Zh(To,"credential",Ao,[$h(qh(),Kh(),"token")]),Qh(So.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),Zh(So,"credential",_o,[$h(qh(),$h(Kh(),Wh()),"idToken"),$h(qh(),Wh(),"accessToken",!0)]),Qh(ko.prototype,{Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),Zh(ko,"credential",Co,[$h(qh(),Kh(),"token"),qh("secret",!0)]),Qh(wo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[$h(qh(),$h(Kh(),Wh()),"optionsOrIdToken"),$h(qh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),Qh(mo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(ho.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Zh(Fo,"credential",Vo,[qh("verificationId"),qh("verificationCode")]),Qh(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[$h(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yh(t.session,uo)&&Xh(t.multiFactorHint):t.session&&t.multiFactorUid?Yh(t.session,uo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Qh(Po.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(k.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Go.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Wo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(nl.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Zc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Qh(ul.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xh},qh(),"multiFactorInfoIdentifier")]}}),Qh(Uh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zh(Ii,"parseLink",xi,[qh("link")]),Zh(Ah,"assertion",(function(t){return new al(t)}),[Gh("phone")]),function(){if(void 0===r.A||!r.A.INTERNAL||!r.A.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ih,AuthCredential:co,Error:k};Zh(t,"EmailAuthProvider",Do,[]),Zh(t,"FacebookAuthProvider",Eo,[]),Zh(t,"GithubAuthProvider",To,[]),Zh(t,"GoogleAuthProvider",So,[]),Zh(t,"TwitterAuthProvider",ko,[]),Zh(t,"OAuthProvider",wo,[qh("providerId")]),Zh(t,"SAMLAuthProvider",bo,[qh("providerId")]),Zh(t,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ih)}}]),Zh(t,"RecaptchaVerifier",Uh,[$h(qh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.A.app.App)}}]),Zh(t,"ActionCodeURL",Ii,[]),Zh(t,"PhoneMultiFactorGenerator",Ah,[]),r.A.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ih(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.A.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:I((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:I(t.nc,t),addAuthTokenListener:I(t.cc,t),removeAuthTokenListener:I(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.A.registerVersion("@firebase/auth","0.16.8"),r.A.INTERNAL.extendNamespace({User:gl})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},1392:(t,e,n)=>{var r=n(9998),i=n(1635),o=n(1625),a=n(2477),s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.s=this.s,this.o=this.o}var A={};T.prototype.s=!1,T.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(this);delete A[t]}},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function N(t){return/^[\s\xa0]*$/.test(t)}var x,D=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var P=f.navigator;if(P){var L=P.userAgent;if(L){x=L;break t}}x=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function F(t){var e={};for(var n in t)e[n]=t[n];return e}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=d;var H,q,B=R(x,"Opera"),K=R(x,"Trident")||R(x,"MSIE"),z=R(x,"Edge"),W=z||K,G=R(x,"Gecko")&&!(R(x.toLowerCase(),"webkit")&&!R(x,"Edge"))&&!(R(x,"Trident")||R(x,"MSIE"))&&!R(x,"Edge"),Y=R(x.toLowerCase(),"webkit")&&!R(x,"Edge");function X(){var t=f.document;return t?t.documentMode:void 0}t:{var $="",Q=(q=x,G?/rv:([^\);]+)(\)|;)/.exec(q):z?/Edge\/([\d\.]+)/.exec(q):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):Y?/WebKit\/(\S+)/.exec(q):B?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Q&&($=Q?Q[1]:""),K){var J=X();if(null!=J&&J>parseFloat($)){H=String(J);break t}}H=$}var Z,tt={};function et(){return t=tt,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=D(String(H)).split("."),n=D("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=O(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==o[2].length,0==a[2].length)||O(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}f.document&&K?Z=X()||parseInt(H,10)||void 0:Z=void 0;var nt=Z,rt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(t){}return t}();function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ot(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(G){t:{try{j(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:at[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ot.Z.h.call(this)}}it.prototype.h=function(){this.defaultPrevented=!0},I(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ut,this.ca=this.fa=!1}function lt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ht(t){this.src=t,this.g={},this.h=0}function ft(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new ct(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return yt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.N(e,n,m(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=Tt(t);if(s||(t[pt]=s=new ht(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=It;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Et(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.O(e,n,m(r)?!!r.capture:!!r,i):gt(t,e,n,!0,r,i)}function bt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)bt(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=St(n),t&&t[st]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=dt(o=t.g[e],n,r,i))&&(lt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Tt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,r,i)),(n=-1<t?e[t]:null)&&wt(n))}function wt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[st])ft(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Et(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(ft(n,t),0==n.h&&(n.src=null,e[pt]=null)):lt(t)}}}function Et(t){return t in mt?mt[t]:mt[t]="on"+t}function It(t,e){if(t.ca)t=!0;else{e=new ot(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&wt(t),t=n.call(r,e)}return t}function Tt(t){return(t=t[pt])instanceof ht?t:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==typeof t?t:(t[At]||(t[At]=function(e){return t.handleEvent(e)}),t[At])}function _t(){T.call(this),this.i=new ht(this),this.P=this,this.I=null}function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var i=e;U(e=new it(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Ct(a,r,!0,e)&&i}if(i=Ct(a=e.g=t,r,!0,e)&&i,i=Ct(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ct(a=e.g=n[o],r,!1,e)&&i}function Ct(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ft(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}I(_t,T),_t.prototype[st]=!0,_t.prototype.removeEventListener=function(t,e,n,r){bt(this,t,e,n,r)},_t.prototype.M=function(){if(_t.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)lt(n[r]);delete e.g[t],e.h--}}this.I=null},_t.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Nt=f.JSON.stringify;function xt(){var t=Vt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Dt,Rt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Ot=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Pt}),(function(t){return t.reset()})),Pt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Lt(t){f.setTimeout((function(){throw t}),0)}function Mt(t,e){Dt||function(){var t=f.Promise.resolve(void 0);Dt=function(){t.then(Ut)}}(),Ft||(Dt(),Ft=!0),Vt.add(t,e)}var Ft=!1,Vt=new Rt;function Ut(){for(var t;t=xt();){try{t.h.call(t.g)}catch(t){Lt(t)}var e=Ot;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ft=!1}function jt(t,e){_t.call(this),this.h=t||1,this.g=e||f,this.j=w(this.kb,this),this.l=Date.now()}function Ht(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function qt(t,e,n){if("function"==typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Bt(t){t.g=qt((function(){t.g=null,t.i&&(t.i=!1,Bt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}I(jt,_t),(c=jt.prototype).da=!1,c.S=null,c.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(Ht(this),this.start()))}},c.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.M=function(){jt.Z.M.call(this),Ht(this),delete this.g};var Kt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Bt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(T);function zt(t){T.call(this),this.h=t,this.g={}}I(zt,T);var Wt=[];function Gt(t,e,n,r){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Yt(t){M(t.g,(function(t,e){this.g.hasOwnProperty(e)&&wt(t)}),t),t.g={}}function Xt(){this.g=!0}function $t(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Nt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}zt.prototype.M=function(){zt.Z.M.call(this),Yt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xt.prototype.Aa=function(){this.g=!1},Xt.prototype.info=function(){};var Qt={},Jt=null;function Zt(){return Jt=Jt||new _t}function te(t){it.call(this,Qt.Ma,t)}function ee(t){var e=Zt();kt(e,new te(e,t))}function ne(t,e){it.call(this,Qt.STAT_EVENT,t),this.stat=e}function re(t){var e=Zt();kt(e,new ne(e,t))}function ie(t,e){it.call(this,Qt.Na,t),this.size=e}function oe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}Qt.Ma="serverreachability",I(te,it),Qt.STAT_EVENT="statevent",I(ne,it),Qt.Na="timingevent",I(ie,it);var ae={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ue(){}function ce(t){return t.h||(t.h=t.i())}function le(){}ue.prototype.h=null;var he,fe={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function de(){it.call(this,"d")}function pe(){it.call(this,"c")}function me(){}function ve(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new zt(this),this.P=ye,t=W?125:void 0,this.W=new jt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}I(de,it),I(pe,it),I(me,ue),me.prototype.g=function(){return new XMLHttpRequest},me.prototype.i=function(){return{}},he=new me;var ye=45e3,be={},we={};function Ee(t,e,n){t.K=1,t.v=Ke(Ve(e)),t.s=n,t.U=!0,Ie(t,null)}function Ie(t,e){t.F=Date.now(),_e(t),t.A=Ve(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ge,t.g=or(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Kt(w(t.Ia,t,t.g),t.O)),Gt(t.V,t.g,"readystatechange",t.gb),e=t.H?F(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ee(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Te(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ae(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Se(t,n))==we){4==e&&(t.o=4,re(14),i=!1),$t(t.j,t.m,null,"[Incomplete Response]");break}if(r==be){t.o=4,re(15),$t(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}$t(t.j,t.m,r,null),De(t,r)}Te(t)&&r!=we&&r!=be&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,re(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qn(e),e.L=!0,re(11))):($t(t.j,t.m,n,"[Invalid Chunked Response]"),xe(t),Ne(t))}function Se(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?we:(n=Number(e.substring(n,r)),isNaN(n)?be:(r+=1)+n>e.length?we:(e=e.substr(r,n),t.C=r+n,e))}function _e(t){t.Y=Date.now()+t.P,ke(t,t.P)}function ke(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=oe(w(t.eb,t),e)}function Ce(t){t.B&&(f.clearTimeout(t.B),t.B=null)}function Ne(t){0==t.l.G||t.I||tr(t.l,t)}function xe(t){Ce(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ht(t.W),Yt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function De(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||hn(n.i,t)))if(n.I=t.N,!t.J&&hn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Zn(n),qn(n)}$n(n),re(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oe(w(n.ab,n),6e3));if(1>=ln(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else nr(n,11)}else if((t.J||n.g==t)&&Zn(n),!N(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(R(l,"spdy")||R(l,"quic")||R(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(fn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Be(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=ir(r,r.H?r.la:null,r.W),d.J){dn(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Ce(p),_e(p)),r.g=d}else Xn(r);0<n.l.length&&zn(n)}else"stop"!=o[0]&&"close"!=o[0]||nr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?nr(n,7):Hn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ee(4)}catch(o){}}function Re(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)_(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Oe(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oe)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Le(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Le(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Le(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=ve.prototype).setTimeout=function(t){this.P=t},c.gb=function(t){t=t.target;var e=this.L;e&&3==Mn(t)?e.l():this.Ia(t)},c.Ia=function(t){try{if(t==this.g)t:{var e=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||W||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=e||7==n||ee(8==n||0>=r?3:2),Ce(this);var i=this.g.ba();this.N=i;e:if(Te(this)){var o=Fn(this.g);t="";var a=o.length,s=4==Mn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xe(this),Ne(this);var u="";break e}this.h.i=new f.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,re(12),xe(this),Ne(this);break t}$t(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,De(this,i)}this.U?(Ae(this,e,u),W&&this.i&&3==e&&(Gt(this.V,this.W,"tick",this.fb),this.W.start())):($t(this.j,this.m,u,null),De(this,u)),4==e&&xe(this),this.i&&!this.I&&(4==e?tr(this.l,this):(this.i=!1,_e(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,re(12)):(this.o=0,re(13)),xe(this),Ne(this)}}}catch(e){}},c.fb=function(){if(this.g){var t=Mn(this.g),e=this.g.ga();this.C<e.length&&(Ce(this),Ae(this,t,e),this.i&&4!=t&&_e(this))}},c.cancel=function(){this.I=!0,xe(this)},c.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(ee(3),re(17)),xe(this),this.o=2,Ne(this)):ke(this,this.Y-t)},(c=Oe.prototype).R=function(){Pe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},c.T=function(){return Pe(this),this.g.concat()},c.get=function(t,e){return Le(this.h,t)?this.h[t]:e},c.set=function(t,e){Le(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},c.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Fe){this.g=void 0!==e?e:t.g,Ue(this,t.j),this.s=t.s,je(this,t.i),He(this,t.m),this.l=t.l,e=t.h;var n=new Ze;n.i=e.i,e.g&&(n.g=new Oe(e.g),n.h=e.h),qe(this,n),this.o=t.o}else t&&(n=String(t).match(Me))?(this.g=!!e,Ue(this,n[1]||"",!0),this.s=ze(n[2]||""),je(this,n[3]||"",!0),He(this,n[4]),this.l=ze(n[5]||"",!0),qe(this,n[6]||"",!0),this.o=ze(n[7]||"")):(this.g=!!e,this.h=new Ze(null,this.g))}function Ve(t){return new Fe(t)}function Ue(t,e,n){t.j=n?ze(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function je(t,e,n){t.i=n?ze(e,!0):e}function He(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qe(t,e,n){e instanceof Ze?(t.h=e,function(t,e){e&&!t.j&&(tn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(en(this,e),rn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=We(e,Qe)),t.h=new Ze(e,t.g))}function Be(t,e,n){t.h.set(e,n)}function Ke(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ze(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function We(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(We(e,Ye,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(We(e,Ye,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(We(n,"/"==n.charAt(0)?$e:Xe,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",We(n,Je)),t.join("")};var Ye=/[#\/\?@]/g,Xe=/[#\?:]/g,$e=/[#\?]/g,Qe=/[#\?@]/g,Je=/#/g;function Ze(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function tn(t){t.g||(t.g=new Oe,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function en(t,e){tn(t),e=on(t,e),Le(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Le((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Pe(t)))}function nn(t,e){return tn(t),e=on(t,e),Le(t.g.h,e)}function rn(t,e,n){en(t,e),0<n.length&&(t.i=null,t.g.set(on(t,e),C(n)),t.h+=n.length)}function on(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(c=Ze.prototype).add=function(t,e){tn(this),this.i=null,t=on(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},c.forEach=function(t,e){tn(this),this.g.forEach((function(n,r){_(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.T=function(){tn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.R=function(t){tn(this);var e=[];if("string"==typeof t)nn(this,t)&&(e=k(e,this.g.get(on(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},c.set=function(t,e){return tn(this),this.i=null,nn(this,t=on(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},c.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var an=function(t,e){this.h=t,this.g=e};function sn(t){this.l=t||un,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.g&&f.g.Ea&&f.g.Ea()&&f.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function cn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ln(t){return t.h?1:t.g?t.g.size:0}function hn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fn(t,e){t.g?t.g.add(e):t.h=e}function dn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=u(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return C(t.i)}function mn(){}function vn(){this.g=new mn}function gn(t,e,n){var r=n||"";try{Re(t,(function(t,n){var i=t;m(t)&&(i=Nt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function yn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function bn(t){this.l=t.$b||null,this.j=t.ib||!1}function wn(t,e){_t.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=En,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn.prototype.cancel=function(){var t,e;if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=u(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},mn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},mn.prototype.parse=function(t){return f.JSON.parse(t,void 0)},I(bn,ue),bn.prototype.g=function(){return new wn(this.l,this.j)},bn.prototype.i=function(t){return function(){return t}}({}),I(wn,_t);var En=0;function In(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Tn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,An(t)}function An(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(c=wn.prototype).open=function(t,e){if(this.readyState!=En)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,An(this)},c.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||f).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tn(this)),this.readyState=En},c.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==f.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;In(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},c.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tn(this):An(this),3==this.readyState&&In(this)}},c.Ua=function(t){this.g&&(this.response=this.responseText=t,Tn(this))},c.Ta=function(t){this.g&&(this.response=t,Tn(this))},c.ha=function(){this.g&&Tn(this)},c.setRequestHeader=function(t,e){this.v.append(t,e)},c.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sn=f.JSON.parse;function _n(t){_t.call(this),this.headers=new Oe,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kn,this.K=this.L=!1}I(_n,_t);var kn="",Cn=/^https?$/i,Nn=["POST","PUT"];function xn(t){return"content-type"==t.toLowerCase()}function Dn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Rn(t),Pn(t)}function Rn(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}function On(t){if(t.h&&void 0!==h&&(!t.C[1]||4!=Mn(t)||2!=t.ba()))if(t.v&&4==Mn(t))qt(t.Fa,0,t);else if(kt(t,"readystatechange"),4==Mn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Me)[1]||null;if(!o&&f.self&&f.self.location){var a=f.self.location.protocol;o=a.substr(0,a.length-1)}i=!Cn.test(o?o.toLowerCase():"")}e=i}if(e)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var s=2<Mn(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.ba()+"]",Rn(t)}}finally{Pn(t)}}}function Pn(t,e){if(t.g){Ln(t);var n=t.g,r=t.C[0]?d:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Ln(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(f.clearTimeout(t.A),t.A=null)}function Mn(t){return t.g?t.g.readyState:0}function Fn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case kn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Be(t,e,n))}function Un(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jn(t){this.za=0,this.l=[],this.h=new Xt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,t),this.$a=Un("retryDelaySeedMs",1e4,t),this.Ya=Un("forwardChannelMaxRetries",2,t),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new sn(t&&t.concurrentRequestLimit),this.Ca=new vn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Hn(t){if(Bn(t),3==t.G){var e=t.V++,n=Ve(t.F);Be(n,"SID",t.J),Be(n,"RID",e),Be(n,"TYPE","terminate"),Gn(t,n),(e=new ve(t,t.h,e,void 0)).K=2,e.v=Ke(Ve(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.v.toString(),"")),!n&&f.Image&&((new Image).src=e.v,n=!0),n||(e.g=or(e.l,null),e.g.ea(e.v)),e.F=Date.now(),_e(e)}rr(t)}function qn(t){t.g&&(Qn(t),t.g.cancel(),t.g=null)}function Bn(t){qn(t),t.u&&(f.clearTimeout(t.u),t.u=null),Zn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&f.clearTimeout(t.m),t.m=null)}function Kn(t,e){t.l.push(new an(t.Za++,e)),3==t.G&&zn(t)}function zn(t){cn(t.i)||t.m||(t.m=!0,Mt(t.Ha,t),t.C=0)}function Wn(t,e){var n;n=e?e.m:t.V++;var r=Ve(t.F);Be(r,"SID",t.J),Be(r,"RID",n),Be(r,"AID",t.U),Gn(t,r),t.o&&t.s&&Vn(r,t.o,t.s),n=new ve(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Yn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),fn(t.i,n),Ee(n,r,e)}function Gn(t,e){t.j&&Re({},(function(t,n){Be(e,n,t)}))}function Yn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?w(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{gn(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Xn(t){t.g||t.u||(t.Y=1,Mt(t.Ga,t),t.A=0)}function $n(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=oe(w(t.Ga,t),er(t,t.A)),t.A++,0))}function Qn(t){null!=t.B&&(f.clearTimeout(t.B),t.B=null)}function Jn(t){t.g=new ve(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ve(t.oa);Be(e,"RID","rpc"),Be(e,"SID",t.J),Be(e,"CI",t.N?"0":"1"),Be(e,"AID",t.U),Gn(t,e),Be(e,"TYPE","xmlhttp"),t.o&&t.s&&Vn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ke(Ve(e)),n.s=null,n.U=!0,Ie(n,t)}function Zn(t){null!=t.v&&(f.clearTimeout(t.v),t.v=null)}function tr(t,e){var n=null;if(t.g==e){Zn(t),Qn(t),t.g=null;var r=2}else{if(!hn(t.i,e))return;n=e.D,dn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;kt(r=Zt(),new ie(r,n,e,i)),zn(t)}else Xn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ln(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=oe(w(t.Ha,t,e),er(t,t.C)),t.C++,0)))}(t,e)||2==r&&$n(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:nr(t,5);break;case 4:nr(t,10);break;case 3:nr(t,6);break;default:nr(t,2)}}function er(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function nr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=w(t.jb,t);n||(n=new Fe("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Ue(n,"https"),Ke(n)),function(t,e){var n=new Xt;if(f.Image){var r=new Image;r.onload=E(yn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=E(yn,n,r,"TestLoadImage: error",!1,e),r.onabort=E(yn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=E(yn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else re(2);t.G=0,t.j&&t.j.va(e),rr(t),Bn(t)}function rr(t){t.G=0,t.I=-1,t.j&&(0==pn(t.i).length&&0==t.l.length||(t.i.i.length=0,C(t.l),t.l.length=0),t.j.ua())}function ir(t,e,n){var r=function(t){return t instanceof Fe?Ve(t):new Fe(t,void 0)}(n);if(""!=r.i)e&&je(r,e+"."+r.i),He(r,r.m);else{var i=f.location;r=function(t,e,n,r){var i=new Fe(null,void 0);return t&&Ue(i,t),e&&je(i,e),n&&He(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&M(t.aa,(function(t,e){Be(r,e,t)})),e=t.D,n=t.sa,e&&n&&Be(r,e,n),Be(r,"VER",t.ma),Gn(t,r),r}function or(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new _n(new bn({ib:!0})):new _n(t.qa)).L=t.H,e}function ar(){}function sr(){if(K&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function ur(t,e){_t.call(this),this.g=new jn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!N(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new hr(this)}function cr(t){de.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function lr(){pe.call(this),this.status=1}function hr(t){this.g=t}(c=_n.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():he.g(),this.C=this.u?ce(this.u):ce(he),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void Dn(this,t)}t=n||"";var i=new Oe(this.headers);r&&Re(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=xn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=f.FormData&&t instanceof f.FormData,!(0<=S(Nn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ln(this),0<this.B&&((this.K=function(t){return K&&et()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=qt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Dn(this,t)}},c.pa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},c.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),Pn(this))},c.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),_n.Z.M.call(this)},c.Fa=function(){this.s||(this.F||this.v||this.l?On(this):this.cb())},c.cb=function(){On(this)},c.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(t){return-1}},c.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},c.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},c.Da=function(){return this.m},c.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(c=jn.prototype).ma=8,c.G=1,c.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},c.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ve(this,this.h,t,void 0),n=this.s;if(this.P&&(n?U(n=F(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Yn(this,e,r),Be(i=Ve(this.F),"RID",t),Be(i,"CVER",22),this.D&&Be(i,"X-HTTP-Session-Id",this.D),Gn(this,i),this.o&&n&&Vn(i,this.o,n),fn(this.i,e),this.Ra&&Be(i,"TYPE","init"),this.ja?(Be(i,"$req",r),Be(i,"SID","null"),e.$=!0,Ee(e,i,null)):Ee(e,i,r),this.G=2}}else 3==this.G&&(t?Wn(this,t):0==this.l.length||cn(this.i)||Wn(this))},c.Ga=function(){if(this.u=null,Jn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=oe(w(this.bb,this),t)}},c.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,re(10),qn(this),Jn(this))},c.ab=function(){null!=this.v&&(this.v=null,qn(this),$n(this),re(19))},c.jb=function(t){t?(this.h.info("Successfully pinged google.com"),re(2)):(this.h.info("Failed to ping google.com"),re(1))},(c=ar.prototype).xa=function(){},c.wa=function(){},c.va=function(){},c.ua=function(){},c.Oa=function(){},sr.prototype.g=function(t,e){return new ur(t,e)},I(ur,_t),ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Mt(w(t.hb,t,e))),re(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=ir(t,null,t.W),zn(t)},ur.prototype.close=function(){Hn(this.g)},ur.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Kn(this.g,e)}else this.v?((e={}).__data__=Nt(t),Kn(this.g,e)):Kn(this.g,t)},ur.prototype.M=function(){this.g.j=null,delete this.j,Hn(this.g),delete this.g,ur.Z.M.call(this)},I(cr,de),I(lr,pe),I(hr,ar),hr.prototype.xa=function(){kt(this.g,"a")},hr.prototype.wa=function(t){kt(this.g,new cr(t))},hr.prototype.va=function(t){kt(this.g,new lr(t))},hr.prototype.ua=function(){kt(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,se.COMPLETE="complete",le.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",_t.prototype.listen=_t.prototype.N,_n.prototype.listenOnce=_n.prototype.O,_n.prototype.getLastError=_n.prototype.La,_n.prototype.getLastErrorCode=_n.prototype.Da,_n.prototype.getStatus=_n.prototype.ba,_n.prototype.getResponseJson=_n.prototype.Qa,_n.prototype.getResponseText=_n.prototype.ga,_n.prototype.send=_n.prototype.ea;var fr=ae,dr=se,pr=Qt,mr=10,vr=11,gr=bn,yr=le,br=_n,wr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();wr.o=-1;var Er={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ir=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,i.C6)(e,t),e}(Error),Tr=new a.Vy("@firebase/firestore");function Ar(){return Tr.logLevel}function Sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=a.$b.DEBUG){var r=e.map(Cr);Tr.debug.apply(Tr,(0,i.fX)(["Firestore (8.10.1): "+t],r))}}function _r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=a.$b.ERROR){var r=e.map(Cr);Tr.error.apply(Tr,(0,i.fX)(["Firestore (8.10.1): "+t],r))}}function kr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=a.$b.WARN){var r=e.map(Cr);Tr.warn.apply(Tr,(0,i.fX)(["Firestore (8.10.1): "+t],r))}}function Cr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Nr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw _r(e),new Error(e)}function xr(t,e){t||Nr()}function Dr(t,e){return t}function Rr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Or=function(){function t(){}return t.u=function(){for(var t=62*Math.floor(256/62),e="";e.length<20;)for(var n=Rr(40),r=0;r<n.length;++r)e.length<20&&n[r]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62));return e},t}();function Pr(t,e){return t<e?-1:t>e?1:0}function Lr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Mr(t){return t+"\0"}var Fr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ir(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ir(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ir(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ir(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Pr(this.nanoseconds,t.nanoseconds):Pr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Fr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ur(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Nr(),void 0===n?n=t.length-e:n>t.length-e&&Nr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ir(Er.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(qr),Kr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Kr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ir(Er.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Ir(Er.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ir(Er.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ir(Er.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(qr),Wr=function(){function t(t){this.fields=t,t.sort(zr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Lr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Gr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Pr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Gr.EMPTY_BYTE_STRING=new Gr("");var Yr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(xr(!!t),"string"==typeof t){var e=0,n=Yr.exec(t);if(xr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$r(t.seconds),nanos:$r(t.nanos)}}function $r(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Qr(t){return"string"==typeof t?Gr.fromBase64String(t):Gr.fromUint8Array(t)}function Jr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zr(t){var e=t.mapValue.fields.__previous_value__;return Jr(e)?Zr(e):e}function ti(t){var e=Xr(t.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}function ei(t){return null==t}function ni(t){return 0===t&&1/t==-1/0}function ri(t){return"number"==typeof t&&Number.isInteger(t)&&!ni(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ii=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Br.fromString(e))},t.fromName=function(e){return new t(Br.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Br.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Br.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Br(e.slice()))},t}();function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jr(t)?4:10:Nr()}function ai(t,e){var n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ti(t).isEqual(ti(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xr(t.timestampValue),r=Xr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Qr(t.bytesValue).isEqual(Qr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $r(t.geoPointValue.latitude)===$r(e.geoPointValue.latitude)&&$r(t.geoPointValue.longitude)===$r(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $r(t.integerValue)===$r(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=$r(t.doubleValue),r=$r(e.doubleValue);return n===r?ni(n)===ni(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Lr(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ur(n)!==Ur(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ai(n[i],r[i])))return!1;return!0}(t,e);default:return Nr()}}function si(t,e){return void 0!==(t.values||[]).find((function(t){return ai(t,e)}))}function ui(t,e){var n=oi(t),r=oi(e);if(n!==r)return Pr(n,r);switch(n){case 0:return 0;case 1:return Pr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=$r(t.integerValue||t.doubleValue),r=$r(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ci(t.timestampValue,e.timestampValue);case 4:return ci(ti(t),ti(e));case 5:return Pr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Qr(t),r=Qr(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pr(n[i],r[i]);if(0!==o)return o}return Pr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pr($r(t.latitude),$r(e.latitude));return 0!==n?n:Pr($r(t.longitude),$r(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ui(n[i],r[i]);if(o)return o}return Pr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Pr(r[a],o[a]);if(0!==s)return s;var u=ui(n[r[a]],i[o[a]]);if(0!==u)return u}return Pr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Nr()}}function ci(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pr(t,e);var n=Xr(t),r=Xr(e),i=Pr(n.seconds,r.seconds);return 0!==i?i:Pr(n.nanos,r.nanos)}function li(t){return hi(t)}function hi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Xr(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ii.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=hi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+hi(t.fields[o])}return e+"}"}(t.mapValue):Nr();var e,n}function fi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function di(t){return!!t&&"integerValue"in t}function pi(t){return!!t&&"arrayValue"in t}function mi(t){return!!t&&"nullValue"in t}function vi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gi(t){return!!t&&"mapValue"in t}function yi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return jr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=yi(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=yi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var bi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!gi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yi(e)},t.prototype.setAll=function(t){var e=this,n=zr.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=yi(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());gi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ai(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];gi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){jr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(yi(this.value))},t}();function wi(t){var e=[];return jr(t.fields,(function(t,n){var r=new zr([t]);if(gi(n)){var i=wi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Wr(e)}var Ei=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Vr.min(),bi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,bi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,bi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=bi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=bi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ii=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ti(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ii(t,e,n,r,i,o,a)}function Ai(t){var e=Dr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+li(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),ei(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fi(e.startAt)),e.endAt&&(n+="|ub:",n+=Fi(e.endAt)),e.h=n}return e.h}function Si(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ui(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ai(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hi(t.startAt,e.startAt)&&Hi(t.endAt,e.endAt)}function _i(t){return ii.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ki=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,i.C6)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ci(t,n,r):"array-contains"===n?new Ri(t,r):"in"===n?new Oi(t,r):"not-in"===n?new Pi(t,r):"array-contains-any"===n?new Li(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ni(t,n):new xi(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ui(e,this.value)):null!==e&&oi(this.value)===oi(e)&&this.m(ui(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Nr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ci=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ii.fromName(r.referenceValue),i}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=ii.comparator(t.key,this.key);return this.m(e)},e}(ki),Ni=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Di(0,n),r}return(0,i.C6)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ki),xi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Di(0,n),r}return(0,i.C6)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ki);function Di(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ii.fromName(t.referenceValue)}))}var Ri=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return pi(e)&&si(e.arrayValue,this.value)},e}(ki),Oi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&si(this.value.arrayValue,e)},e}(ki),Pi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){if(si(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!si(this.value.arrayValue,e)},e}(ki),Li=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!pi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return si(e.value.arrayValue,t)}))},e}(ki),Mi=function(t,e){this.position=t,this.before=e};function Fi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return li(t)})).join(",")}var Vi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ui(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ji(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?ii.comparator(ii.fromName(a.referenceValue),n.key):ui(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Hi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}var qi=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Bi(t,e,n,r,i,o,a,s){return new qi(t,e,n,r,i,o,a,s)}function Ki(t){return new qi(t)}function zi(t){return!ei(t.limit)&&"F"===t.limitType}function Wi(t){return!ei(t.limit)&&"L"===t.limitType}function Gi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Yi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Xi(t){return null!==t.collectionGroup}function $i(t){var e=Dr(t);if(null===e.p){e.p=[];var n=Yi(e),r=Gi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Vi(n)),e.p.push(new Vi(zr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Vi(zr.keyField(),u))}}}return e.p}function Qi(t){var e=Dr(t);if(!e.T)if("F"===e.limitType)e.T=Ti(e.path,e.collectionGroup,$i(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=$i(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Vi(o.field,a))}var s=e.endAt?new Mi(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Mi(e.startAt.position,!e.startAt.before):null;e.T=Ti(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Ji(t,e,n){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zi(t,e){return Si(Qi(t),Qi(e))&&t.limitType===e.limitType}function to(t){return Ai(Qi(t))+"|lt:"+t.limitType}function eo(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+li(e.value);var e})).join(", ")+"]"),ei(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Fi(t.startAt)),t.endAt&&(e+=", endAt: "+Fi(t.endAt)),"Target("+e+")"}(Qi(t))+"; limitType="+t.limitType+")"}function no(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ii.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ji(t.startAt,$i(t),e)||t.endAt&&ji(t.endAt,$i(t),e))}(t,e)}function ro(t){return function(e,n){for(var r=!1,i=0,o=$i(t);i<o.length;i++){var a=o[i],s=io(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function io(t,e,n){var r=t.field.isKeyField()?ii.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ui(r,i):Nr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nr()}}function oo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ni(e)?"-0":e}}function ao(t){return{integerValue:""+t}}function so(t,e){return ri(e)?ao(e):oo(t,e)}var uo=function(){this._=void 0};function co(t,e,n){return t instanceof fo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof po?mo(t,e):t instanceof vo?go(t,e):function(t,e){var n=ho(t,e),r=bo(n)+bo(t.A);return di(n)&&di(t.A)?ao(r):oo(t.R,r)}(t,e)}function lo(t,e,n){return t instanceof po?mo(t,e):t instanceof vo?go(t,e):n}function ho(t,e){return t instanceof yo?di(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e}(uo),po=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.C6)(e,t),e}(uo);function mo(t,e){for(var n=wo(e),r=function(t){n.some((function(e){return ai(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.C6)(e,t),e}(uo);function go(t,e){for(var n=wo(e),r=function(t){n=n.filter((function(e){return!ai(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,i.C6)(e,t),e}(uo);function bo(t){return $r(t.integerValue||t.doubleValue)}function wo(t){return pi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Eo=function(t,e){this.field=t,this.transform=e},Io=function(t,e){this.version=t,this.transformResults=e},To=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ao(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var So=function(){};function _o(t,e,n){t instanceof Do?function(t,e,n){var r=t.value.clone(),i=Po(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ro?function(t,e,n){if(Ao(t.precondition,e)){var r=Po(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Oo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ko(t,e,n){t instanceof Do?function(t,e,n){if(Ao(t.precondition,e)){var r=t.value.clone(),i=Lo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(xo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ro?function(t,e,n){if(Ao(t.precondition,e)){var r=Lo(t.fieldTransforms,n,e),i=e.data;i.setAll(Oo(t)),i.setAll(r),e.convertToFoundDocument(xo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ao(t.precondition,e)&&e.convertToNoDocument(Vr.min())}(t,e)}function Co(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=ho(o.transform,a||null);null!=s&&(null==n&&(n=bi.empty()),n.set(o.field,s))}return n||null}function No(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Lr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof po&&e instanceof po||t instanceof vo&&e instanceof vo?Lr(t.elements,e.elements,ai):t instanceof yo&&e instanceof yo?ai(t.A,e.A):t instanceof fo&&e instanceof fo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function xo(t){return t.isFoundDocument()?t.version:Vr.min()}var Do=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,i.C6)(e,t),e}(So),Ro=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,i.C6)(e,t),e}(So);function Oo(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Po(t,e,n){var r=new Map;xr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,lo(a,s,n[i]))}return r}function Lo(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,co(s,u,e))}return r}var Mo,Fo,Vo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,i.C6)(e,t),e}(So),Uo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,i.C6)(e,t),e}(So),jo=function(t){this.count=t};function Ho(t){switch(t){case Er.OK:return Nr();case Er.CANCELLED:case Er.UNKNOWN:case Er.DEADLINE_EXCEEDED:case Er.RESOURCE_EXHAUSTED:case Er.INTERNAL:case Er.UNAVAILABLE:case Er.UNAUTHENTICATED:return!1;case Er.INVALID_ARGUMENT:case Er.NOT_FOUND:case Er.ALREADY_EXISTS:case Er.PERMISSION_DENIED:case Er.FAILED_PRECONDITION:case Er.ABORTED:case Er.OUT_OF_RANGE:case Er.UNIMPLEMENTED:case Er.DATA_LOSS:return!0;default:return Nr()}}function qo(t){if(void 0===t)return _r("GRPC error has no .code"),Er.UNKNOWN;switch(t){case Mo.OK:return Er.OK;case Mo.CANCELLED:return Er.CANCELLED;case Mo.UNKNOWN:return Er.UNKNOWN;case Mo.DEADLINE_EXCEEDED:return Er.DEADLINE_EXCEEDED;case Mo.RESOURCE_EXHAUSTED:return Er.RESOURCE_EXHAUSTED;case Mo.INTERNAL:return Er.INTERNAL;case Mo.UNAVAILABLE:return Er.UNAVAILABLE;case Mo.UNAUTHENTICATED:return Er.UNAUTHENTICATED;case Mo.INVALID_ARGUMENT:return Er.INVALID_ARGUMENT;case Mo.NOT_FOUND:return Er.NOT_FOUND;case Mo.ALREADY_EXISTS:return Er.ALREADY_EXISTS;case Mo.PERMISSION_DENIED:return Er.PERMISSION_DENIED;case Mo.FAILED_PRECONDITION:return Er.FAILED_PRECONDITION;case Mo.ABORTED:return Er.ABORTED;case Mo.OUT_OF_RANGE:return Er.OUT_OF_RANGE;case Mo.UNIMPLEMENTED:return Er.UNIMPLEMENTED;case Mo.DATA_LOSS:return Er.DATA_LOSS;default:return Nr()}}(Fo=Mo||(Mo={}))[Fo.OK=0]="OK",Fo[Fo.CANCELLED=1]="CANCELLED",Fo[Fo.UNKNOWN=2]="UNKNOWN",Fo[Fo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fo[Fo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fo[Fo.NOT_FOUND=5]="NOT_FOUND",Fo[Fo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fo[Fo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fo[Fo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fo[Fo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fo[Fo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fo[Fo.ABORTED=10]="ABORTED",Fo[Fo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fo[Fo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fo[Fo.INTERNAL=13]="INTERNAL",Fo[Fo.UNAVAILABLE=14]="UNAVAILABLE",Fo[Fo.DATA_LOSS=15]="DATA_LOSS";var Bo=function(){function t(t,e){this.comparator=t,this.root=e||zo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ko(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ko(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ko(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ko(this.root,t,this.comparator,!0)},t}(),Ko=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),zo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Nr();if(this.right.isRed())throw Nr();var t=this.left.check();if(t!==this.right.check())throw Nr();return t+(this.isRed()?0:1)},t}();zo.EMPTY=null,zo.RED=!0,zo.BLACK=!1,zo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new zo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Wo=function(){function t(t){this.comparator=t,this.data=new Bo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Go(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Go(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Go=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Yo=new Bo(ii.comparator);function Xo(){return Yo}var $o=new Bo(ii.comparator);function Qo(){return $o}var Jo=new Bo(ii.comparator);function Zo(){return Jo}var ta=new Wo(ii.comparator);function ea(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ta,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var na=new Wo(Pr);function ra(){return na}var ia=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,oa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Vr.min(),r,ra(),Xo(),ea())},t}(),oa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Gr.EMPTY_BYTE_STRING,n,ea(),ea(),ea())},t}(),aa=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},sa=function(t,e){this.targetId=t,this.V=e},ua=function(t,e,n,r){void 0===n&&(n=Gr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ca=function(){function t(){this.S=0,this.D=fa(),this.C=Gr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=ea(),e=ea(),n=ea();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Nr()}})),new oa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=fa()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),la=function(){function t(t){this.W=t,this.G=new Map,this.H=Xo(),this.J=ha(),this.Y=new Wo(Pr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Nr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(_i(i))if(0===n){var o=new ii(i.path);this.tt(e,o,Ei.newNoDocument(o,Vr.min()))}else xr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&_i(o.target)){var a=new ii(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ei.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=ea();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ia(t,n,this.Y,this.H,r);return this.H=Xo(),this.J=ha(),this.Y=new Wo(Pr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ca,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Wo(Pr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Sr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ca),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ha(){return new Bo(ii.comparator)}function fa(){return new Bo(ii.comparator)}var da={asc:"ASCENDING",desc:"DESCENDING"},pa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ma=function(t,e){this.databaseId=t,this.I=e};function va(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ga(t,e){return t.I?e.toBase64():e.toUint8Array()}function ya(t,e){return va(t,e.toTimestamp())}function ba(t){return xr(!!t),Vr.fromTimestamp(function(t){var e=Xr(t);return new Fr(e.seconds,e.nanos)}(t))}function wa(t,e){return function(t){return new Br(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ea(t){var e=Br.fromString(t);return xr(za(e)),e}function Ia(t,e){return wa(t.databaseId,e.path)}function Ta(t,e){var n=Ea(e);if(n.get(1)!==t.databaseId.projectId)throw new Ir(Er.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ir(Er.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ii(ka(n))}function Aa(t,e){return wa(t.databaseId,e)}function Sa(t){var e=Ea(t);return 4===e.length?Br.emptyPath():ka(e)}function _a(t){return new Br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ka(t){return xr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ca(t,e,n){return{name:Ia(t,e),fields:n.value.mapValue.fields}}function Na(t,e,n){var r=Ta(t,e.name),i=ba(e.updateTime),o=new bi({mapValue:{fields:e.fields}}),a=Ei.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function xa(t,e){var n;if(e instanceof Do)n={update:Ca(t,e.key,e.value)};else if(e instanceof Vo)n={delete:Ia(t,e.key)};else if(e instanceof Ro)n={update:Ca(t,e.key,e.data),updateMask:Ka(e.fieldMask)};else{if(!(e instanceof Uo))return Nr();n={verify:Ia(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof fo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof po)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Nr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ya(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Nr()}(t,e.precondition)),n}function Da(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?To.updateTime(ba(t.updateTime)):void 0!==t.exists?To.exists(t.exists):To.none()}(e.currentDocument):To.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)xr("REQUEST_TIME"===e.setToServerValue),n=new fo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new po(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new vo(i)}else"increment"in e?n=new yo(t,e.increment):Nr();var o=zr.fromServerFormat(e.fieldPath);return new Eo(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Ta(t,e.update.name),o=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Wr(e.map((function(t){return zr.fromServerFormat(t)})))}(e.updateMask);return new Ro(i,o,a,n,r)}return new Do(i,o,n,r)}if(e.delete){var s=Ta(t,e.delete);return new Vo(s,n)}if(e.verify){var u=Ta(t,e.verify);return new Uo(u,n)}return Nr()}function Ra(t,e){return{documents:[Aa(t,e.path)]}}function Oa(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Aa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Aa(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(vi(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NAN"}};if(mi(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vi(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NOT_NAN"}};if(mi(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(t.field),op:Ua(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ja(t.field),direction:Va(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||ei(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Ma(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ma(e.endAt)),n}function Pa(t){var e=Sa(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=La(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Vi(Ha(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ei(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Fa(n.startAt));var l=null;return n.endAt&&(l=Fa(n.endAt)),Bi(e,i,s,a,u,"F",c,l)}function La(t){return t?void 0!==t.unaryFilter?[Ba(t)]:void 0!==t.fieldFilter?[qa(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return La(t)})).reduce((function(t,e){return t.concat(e)})):Nr():[]}function Ma(t){return{before:t.before,values:t.position}}function Fa(t){var e=!!t.before,n=t.values||[];return new Mi(n,e)}function Va(t){return da[t]}function Ua(t){return pa[t]}function ja(t){return{fieldPath:t.canonicalString()}}function Ha(t){return zr.fromServerFormat(t.fieldPath)}function qa(t){return ki.create(Ha(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ba(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ha(t.unaryFilter.field);return ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ha(t.unaryFilter.field);return ki.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ha(t.unaryFilter.field);return ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ha(t.unaryFilter.field);return ki.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Nr()}}function Ka(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function za(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Wa(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ya(e)),e=Ga(t.get(n),e);return Ya(e)}function Ga(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ya(t){return t+""}function Xa(t){var e=t.length;if(xr(e>=2),2===e)return xr(""===t.charAt(0)&&""===t.charAt(1)),Br.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Nr(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Nr()}o=a+2}return new Br(r)}var $a=function(t,e){this.seconds=t,this.nanoseconds=e},Qa=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qa.store="owner",Qa.key="owner";var Ja=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ja.store="mutationQueues",Ja.keyPath="userId";var Za=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Za.store="mutations",Za.keyPath="batchId",Za.userMutationsIndex="userMutationsIndex",Za.userMutationsKeyPath=["userId","batchId"];var ts=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wa(e)]},t.key=function(t,e,n){return[t,Wa(e),n]},t}();ts.store="documentMutations",ts.PLACEHOLDER=new ts;var es=function(t,e){this.path=t,this.readTime=e},ns=function(t,e){this.path=t,this.version=e},rs=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rs.store="remoteDocuments",rs.readTimeIndex="readTimeIndex",rs.readTimeIndexPath="readTime",rs.collectionReadTimeIndex="collectionReadTimeIndex",rs.collectionReadTimeIndexPath=["parentPath","readTime"];var is=function(t){this.byteSize=t};is.store="remoteDocumentGlobal",is.key="remoteDocumentGlobalKey";var os=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};os.store="targets",os.keyPath="targetId",os.queryTargetsIndexName="queryTargetsIndex",os.queryTargetsKeyPath=["canonicalId","targetId"];var as=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};as.store="targetDocuments",as.keyPath=["targetId","path"],as.documentTargetsIndex="documentTargetsIndex",as.documentTargetsKeyPath=["path","targetId"];var ss=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ss.key="targetGlobalKey",ss.store="targetGlobal";var us=function(t,e){this.collectionId=t,this.parent=e};us.store="collectionParents",us.keyPath=["collectionId","parent"];var cs=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};cs.store="clientMetadata",cs.keyPath="clientId";var ls=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ls.store="bundles",ls.keyPath="bundleId";var hs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hs.store="namedQueries",hs.keyPath="name";var fs=(0,i.fX)((0,i.fX)([],(0,i.fX)((0,i.fX)([],(0,i.fX)((0,i.fX)([],(0,i.fX)((0,i.fX)([],[Ja.store,Za.store,ts.store,rs.store,os.store,Qa.store,ss.store,as.store]),[cs.store])),[is.store])),[us.store])),[ls.store,hs.store]),ds="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ps=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ms=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vs=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Nr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),gs=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ms,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ws(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ss(e.target.error);n.ft.reject(new ws(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ws(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Sr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Is(e)},t}(),ys=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,o.ZQ)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Sr("SimpleDb","Removing database:",t),Ts(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,o.ZQ)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Sr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ws(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ir(Er.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ws(t,n))},i.onupgradeneeded=function(t){Sr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Sr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,a,s,u,c;return(0,i.YH)(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return(0,i.YH)(this,(function(i){switch(i.label){case 0:++a,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=i.sent(),e=gs.open(u.db,t,o?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),vs.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(i.sent(),s),c)];case 4:return l=i.sent(),h="FirebaseError"!==l.name&&a<3,Sr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bs=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ts(this.Pt.delete())},t}(),ws=function(t){function e(e,n){var r=this;return(r=t.call(this,Er.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,i.C6)(e,t),e}(Ir);function Es(t){return"IndexedDbTransactionError"===t.name}var Is=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Sr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Sr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ts(n)},t.prototype.add=function(t){return Sr("SimpleDb","ADD",this.store.name,t,t),Ts(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ts(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Sr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Sr("SimpleDb","DELETE",this.store.name,t),Ts(this.store.delete(t))},t.prototype.count=function(){return Sr("SimpleDb","COUNT",this.store.name),Ts(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Sr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new vs((function(n,r){e.onerror=function(t){var e=Ss(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new vs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new bs(i),a=e(i.primaryKey,i.value,o);if(a instanceof vs){var s=a.catch((function(t){return o.done(),vs.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return vs.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ts(t){return new vs((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ss(t.target.error);n(e)}}))}var As=!1;function Ss(t){var e=ys._t((0,o.ZQ)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ir("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return As||(As=!0,setTimeout((function(){throw r}),0)),r}}return t}var _s=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,i.C6)(e,t),e}(ps);function ks(t,e){var n=Dr(t);return ys.It(n.Mt,e)}var Cs=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&_o(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ko(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ko(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ea())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Lr(this.mutations,t.mutations,(function(t,e){return No(t,e)}))&&Lr(this.baseMutations,t.baseMutations,(function(t,e){return No(t,e)}))},t}(),Ns=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){xr(e.mutations.length===r.length);for(var i=Zo(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),xs=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Vr.min()),void 0===o&&(o=Vr.min()),void 0===a&&(a=Gr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ds=function(t){this.Lt=t};function Rs(t,e){if(e.document)return Na(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ii.fromSegments(e.noDocument.path),r=Fs(e.noDocument.readTime),i=Ei.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ii.fromSegments(e.unknownDocument.path);return r=Fs(e.unknownDocument.version),Ei.newUnknownDocument(o,r)}return Nr()}function Os(t,e,n){var r=Ps(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ia(t,e.key),fields:e.data.value.mapValue.fields,updateTime:va(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new rs(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Ms(e.version);return a=e.hasCommittedMutations,new rs(null,new es(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ms(e.version);return new rs(new ns(c,l),null,null,!0,r,i)}return Nr()}function Ps(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ls(t){var e=new Fr(t[0],t[1]);return Vr.fromTimestamp(e)}function Ms(t){var e=t.toTimestamp();return new $a(e.seconds,e.nanoseconds)}function Fs(t){var e=new Fr(t.seconds,t.nanoseconds);return Vr.fromTimestamp(e)}function Vs(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Da(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Da(t.Lt,e)})),s=Fr.fromMillis(e.localWriteTimeMs);return new Cs(e.batchId,s,n,a)}function Us(t){var e,n,r=Fs(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Fs(t.lastLimboFreeSnapshotVersion):Vr.min();return void 0!==t.query.documents?(xr(1===(n=t.query).documents.length),e=Qi(Ki(Sa(n.documents[0])))):e=function(t){return Qi(Pa(t))}(t.query),new xs(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Gr.fromBase64String(t.resumeToken))}function js(t,e){var n,r=Ms(e.snapshotVersion),i=Ms(e.lastLimboFreeSnapshotVersion);n=_i(e.target)?Ra(t.Lt,e.target):Oa(t.Lt,e.target);var o=e.resumeToken.toBase64();return new os(e.targetId,Ai(e.target),r,o,e.sequenceNumber,i,n)}function Hs(t){var e=Pa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ji(e,e.limit,"L"):e}var qs=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Bs(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Fs(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Bs(t).put({bundleId:(n=e).id,createTime:Ms(ba(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ks(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Hs(e.bundledQuery),readTime:Fs(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Ks(t).put(function(t){return{name:t.name,readTime:Ms(ba(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Bs(t){return ks(t,ls.store)}function Ks(t){return ks(t,hs.store)}var zs=function(){function t(){this.Bt=new Ws}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),vs.resolve()},t.prototype.getCollectionParents=function(t,e){return vs.resolve(this.Bt.getEntries(e))},t}(),Ws=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Wo(Br.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Wo(Br.comparator)).toArray()},t}(),Gs=function(){function t(){this.qt=new Ws}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Wa(i)};return Ys(t).put(o)}return vs.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Mr(e),""],!1,!0);return Ys(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Xa(o.parent))}return n}))},t}();function Ys(t){return ks(t,us.store)}var Xs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$s=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Qs(t,e,n){var r=t.store(Za.store),i=t.store(ts.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){xr(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ts.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return vs.waitFor(o).next((function(){return c}))}function Js(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nr();e=t.noDocument}return JSON.stringify(e).length}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);var Zs=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return xr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).$t({index:Za.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=nu(t),a=eu(t);return a.add({}).next((function(s){xr("number"==typeof s);for(var u=new Cs(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return xa(t.Lt,e)})),i=n.mutations.map((function(e){return xa(t.Lt,e)}));return new Za(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Wo((function(t,e){return Pr(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=ts.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,ts.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),vs.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return eu(t).get(e).next((function(t){return t?(xr(t.userId===n.userId),Vs(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?vs.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return eu(t).$t({index:Za.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xr(e.batchId>=r),o=Vs(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return eu(t).$t({index:Za.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).Nt(Za.userMutationsIndex,n).next((function(t){return t.map((function(t){return Vs(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ts.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return nu(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Xa(u);if(s===n.userId&&e.path.isEqual(l))return eu(t).get(c).next((function(t){if(!t)throw Nr();xr(t.userId===n.userId),o.push(Vs(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Wo(Pr),i=[];return e.forEach((function(e){var o=ts.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=nu(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Xa(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),vs.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ts.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Wo(Pr);return nu(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Xa(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(eu(t).get(e).next((function(t){if(null===t)throw Nr();xr(t.userId===n.userId),r.push(Vs(n.R,t))})))})),vs.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Qs(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),vs.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return vs.resolve();var r=IDBKeyRange.lowerBound(ts.prefixForUser(e.userId)),i=[];return nu(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Xa(t[1]);i.push(o)}else r.done()})).next((function(){xr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return tu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return ru(t).get(this.userId).next((function(t){return t||new Ja(e.userId,-1,"")}))},t}();function tu(t,e,n){var r=ts.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return nu(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function eu(t){return ks(t,Za.store)}function nu(t){return ks(t,ts.store)}function ru(t){return ks(t,Ja.store)}var iu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ou=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new iu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Vr.fromTimestamp(new Fr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return au(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return xr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return au(t).$t((function(a,s){var u=Us(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return vs.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return au(t).$t((function(t,n){var r=Us(n);e(r)}))},t.prototype.Xt=function(t){return su(t).get(ss.key).next((function(t){return xr(null!==t),t}))},t.prototype.Zt=function(t,e){return su(t).put(ss.key,e)},t.prototype.te=function(t,e){return au(t).put(js(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ai(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return au(t).$t({range:r,index:os.queryTargetsIndexName},(function(t,n,r){var o=Us(n);Si(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=uu(t);return e.forEach((function(e){var a=Wa(e.path);i.push(o.put(new as(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),vs.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=uu(t);return vs.forEach(e,(function(e){var o=Wa(e.path);return vs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=uu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=uu(t),i=ea();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Xa(t[1]),o=new ii(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Wa(e.path),r=IDBKeyRange.bound([n],[Mr(n)],!1,!0),i=0;return uu(t).$t({index:as.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return au(t).get(e).next((function(t){return t?Us(t):null}))},t}();function au(t){return ks(t,os.store)}function su(t){return ks(t,ss.store)}function uu(t){return ks(t,as.store)}function cu(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){if(t.code!==Er.FAILED_PRECONDITION||t.message!==ds)throw t;return Sr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function lu(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Pr(n,i);return 0===a?Pr(r,o):a}var hu=function(){function t(t){this.ne=t,this.buffer=new Wo(lu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();lu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),fu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Sr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Es(e=n.sent())?(Sr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,cu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),du=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return vs.resolve(wr.o);var r=new hu(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Sr("LruGarbageCollector","Garbage collection skipped; disabled"),vs.resolve(Xs)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Sr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Xs):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(Sr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),Ar()<=a.$b.DEBUG&&Sr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),vs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),pu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new du(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return mu(t,n)},t.prototype.removeReference=function(t,e,n){return mu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return mu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return ru(t).Ot((function(r){return tu(t,r,e).next((function(t){return t&&(n=!0),vs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),uu(t).delete([0,Wa(a.path)])}))}));i.push(u)}})).next((function(){return vs.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return mu(t,e)},t.prototype.we=function(t,e){var n,r=uu(t),i=wr.o;return r.$t({index:as.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==wr.o&&e(new ii(Xa(n)),i),i=s,n=a):i=wr.o})).next((function(){i!==wr.o&&e(new ii(Xa(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function mu(t,e){return uu(t).put(function(t,e){return new as(0,Wa(t.path),e)}(e,t.currentSequenceNumber))}var vu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Hr(this.inner)},t}(),gu=function(){function t(){this.changes=new vu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Vr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ei.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?vs.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),yu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Eu(t).put(Iu(e),n)},t.prototype.removeEntry=function(t,e){var n=Eu(t),r=Iu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Eu(t).get(Iu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Eu(t).get(Iu(e)).next((function(t){return{document:n.ye(e,t),size:Js(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Xo();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Xo(),i=new Bo(ii.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Js(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return vs.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Eu(t).$t({range:r},(function(t,e,r){for(var a=ii.fromSegments(t);o&&ii.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Xo(),o=e.path.length+1,a={};if(n.isEqual(Vr.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Ps(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=rs.collectionReadTimeIndex}return Eu(t).$t(a,(function(t,n,a){if(t.length===o){var s=Rs(r.R,n);e.path.isPrefixOf(s.key.path)?no(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new bu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return wu(t).get(is.key).next((function(t){return xr(!!t),t}))},t.prototype.me=function(t,e){return wu(t).put(is.key,e)},t.prototype.ye=function(t,e){if(e){var n=Rs(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Vr.min()))return n}return Ei.newInvalidDocument(t)},t}(),bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new vu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,i.C6)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Wo((function(t,e){return Pr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Os(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Js(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Os(e.Ie.R,Ei.newNoDocument(o,Vr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),vs.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(gu);function wu(t){return ks(t,is.store)}function Eu(t){return ks(t,rs.store)}function Iu(t){return t.path.toArray()}var Tu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;xr(n<r&&n>=0&&r<=11);var o=new gs("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qa.store)}(t),function(t){t.createObjectStore(Ja.store,{keyPath:Ja.keyPath}),t.createObjectStore(Za.store,{keyPath:Za.keyPath,autoIncrement:!0}).createIndex(Za.userMutationsIndex,Za.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ts.store)}(t),Au(t),function(t){t.createObjectStore(rs.store)}(t));var a=vs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(as.store),t.deleteObjectStore(os.store),t.deleteObjectStore(ss.store)}(t),Au(t)),a=a.next((function(){return function(t){var e=t.store(ss.store),n=new ss(0,0,Vr.min().toTimestamp(),0);return e.put(ss.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Za.store).Nt().next((function(n){t.deleteObjectStore(Za.store),t.createObjectStore(Za.store,{keyPath:Za.keyPath,autoIncrement:!0}).createIndex(Za.userMutationsIndex,Za.userMutationsKeyPath,{unique:!0});var r=e.store(Za.store),i=n.map((function(t){return r.put(t)}));return vs.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(cs.store,{keyPath:cs.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(is.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(rs.store);e.createIndex(rs.readTimeIndex,rs.readTimeIndexPath,{unique:!1}),e.createIndex(rs.collectionReadTimeIndex,rs.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(ls.store,{keyPath:ls.keyPath})}(t),function(t){t.createObjectStore(hs.store,{keyPath:hs.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(rs.store).$t((function(t,n){e+=Js(n)})).next((function(){var n=new is(e);return t.store(is.store).put(is.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Ja.store),r=t.store(Za.store);return n.Nt().next((function(n){return vs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Za.userMutationsIndex,i).next((function(r){return vs.forEach(r,(function(r){xr(r.userId===n.userId);var i=Vs(e.R,r);return Qs(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(as.store),n=t.store(rs.store);return t.store(ss.store).get(ss.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Br(n),a=function(t){return[0,Wa(t)]}(o);r.push(e.get(a).next((function(n){return n?vs.resolve():function(n){return e.put(new as(0,Wa(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return vs.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(us.store,{keyPath:us.keyPath});var n=e.store(us.store),r=new Ws,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Wa(i)})}};return e.store(rs.store).$t({Ft:!0},(function(t,e){var n=new Br(t);return i(n.popLast())})).next((function(){return e.store(ts.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Xa(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(os.store);return n.$t((function(t,r){var i=Us(r),o=js(e.R,i);return n.put(o)}))},t}();function Au(t){t.createObjectStore(as.store,{keyPath:as.keyPath}).createIndex(as.documentTargetsIndex,as.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(os.store,{keyPath:os.keyPath}).createIndex(os.queryTargetsIndexName,os.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ss.store)}var Su="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_u=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ir(Er.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pu(this,i),this.Le=n+"main",this.R=new Ds(u),this.Be=new ys(this.Le,11,new Tu(this.R)),this.qe=new ou(this.referenceDelegate,this.R),this.Ut=new Gs,this.Ue=function(t,e){return new yu(t,e)}(this.R,this.Ut),this.Ke=new qs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ir(Er.FAILED_PRECONDITION,Su);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new wr(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Cu(e).put(new cs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Es(e))return Sr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Sr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return ku(t).get(Qa.key).next((function(t){return vs.resolve(e.tn(t))}))},t.prototype.en=function(t){return Cu(t).delete(this.clientId)},t.prototype.nn=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r,o=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ks(t,cs.store);return e.Nt().next((function(t){var n=o.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return vs.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?vs.resolve(!0):ku(t).get(Qa.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ir(Er.FAILED_PRECONDITION,Su);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cu(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Sr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t=this;return(0,i.YH)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qa.store,cs.store],(function(e){var n=new _s(e,wr.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Cu(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Zs.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Sr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,fs,(function(o){return i=new _s(o,r.Ne?r.Ne.next():wr.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw _r("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Ir(Er.FAILED_PRECONDITION,ds);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return ku(t).get(Qa.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ir(Er.FAILED_PRECONDITION,Su)}))},t.prototype.Ze=function(t){var e=new Qa(this.clientId,this.allowTabSynchronization,Date.now());return ku(t).put(Qa.key,e)},t.yt=function(){return ys.yt()},t.prototype.Xe=function(t){var e=this,n=ku(t);return n.get(Qa.key).next((function(t){return e.tn(t)?(Sr("IndexedDbPersistence","Releasing primary lease."),n.delete(Qa.key)):vs.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(_r("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,o.nr)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Sr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return _r("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){_r("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ku(t){return ks(t,Qa.store)}function Cu(t){return ks(t,cs.store)}function Nu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xu=function(t,e){this.progress=t,this.wn=e},Du=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ii.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Xi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ii(e)).next((function(t){var e=Qo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Qo();return this.Ut.getCollectionParents(t,i).next((function(a){return vs.forEach(a,(function(a){var s=function(t,e){return new qi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ei.newInvalidDocument(c),r=r.insert(c,l)),ko(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){no(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ea(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ro&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Ru=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ea(),i=ea(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ou=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Vr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(zi(e)||Wi(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Ar()<=a.$b.DEBUG&&Sr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),eo(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Wo(ro(t));return e.forEach((function(e,r){no(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ar()<=a.$b.DEBUG&&Sr("QueryEngine","Using full collection scan to execute query:",eo(e)),this.Sn.getDocumentsMatchingQuery(t,e,Vr.min())},t}(),Pu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Bo(Pr),this.Fn=new vu((function(t){return Ai(t)}),Si),this.$n=Vr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Du(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Lu(t,e,n,r){return new Pu(t,e,n,r)}function Mu(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Dr(t),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n._n.getAllMutationBatches(t).next((function(a){return i=a,r=n.persistence.getMutationQueue(e),o=new Du(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=ea(),s=0,u=i;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return o.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return a=i.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function Fu(t,e){var n=Dr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=vs.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);xr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Vu(t){var e=Dr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Uu(t,e){var n=Dr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return xr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Xo();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(ju(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Vr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return vs.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function ju(t,e,n,r,i){var o=ea();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Xo();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Vr.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Sr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Hu(t,e){var n=Dr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function qu(t,e){var n=Dr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,vs.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new xs(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Bu(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:r=Dr(t),o=r.kn.get(e),a=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,(function(t){return r.persistence.referenceDelegate.removeTarget(t,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Es(s=i.sent()))throw s;return Sr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(o.target),[2]}}))}))}function Ku(t,e,n){var r=Dr(t),i=Vr.min(),o=ea();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Dr(t),i=r.Fn.get(n);return void 0!==i?vs.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Qi(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Vr.min(),n?o:ea())})).next((function(t){return{documents:t,Bn:o}}))}))}function zu(t,e){var n=Dr(t),r=Dr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Wu(t){var e=Dr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Dr(t),i=Xo(),o=Ps(n),a=Eu(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:rs.readTimeIndex,range:s},(function(t,e){var n=Rs(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Ls(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Gu(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){return[2,(e=Dr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Eu(t),n=Vr.min();return e.$t({index:rs.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ls(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Yu(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f,d,p;return(0,i.YH)(this,(function(i){switch(i.label){case 0:for(o=Dr(t),a=ea(),s=Xo(),u=Zo(),c=0,l=n;c<l.length;c++)h=l[c],f=e.qn(h.metadata.name),h.document&&(a=a.add(f)),s=s.insert(f,e.Un(h)),u=u.insert(f,e.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,qu(o,function(t){return Qi(Ki(Br.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=i.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ju(t,d,s,Vr.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return o.qe.addMatchingKeys(t,a,p.targetId)})).next((function(){return o.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Xu(t,e,n){return void 0===n&&(n=ea()),(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,qu(t,Qi(Hs(e.bundledQuery)))];case 1:return r=i.sent(),[2,(o=Dr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var i=ba(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(Gr.EMPTY_BYTE_STRING,i);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(t,a).next((function(){return o.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return o.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return o.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var $u=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return vs.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ba(n.createTime)}),vs.resolve()},t.prototype.getNamedQuery=function(t,e){return vs.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Hs(t.bundledQuery),readTime:ba(t.readTime)}}(e)),vs.resolve()},t}(),Qu=function(){function t(){this.Wn=new Wo(Ju.Gn),this.zn=new Wo(Ju.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ju(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Ju(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ii(new Br([])),r=new Ju(n,t),i=new Ju(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ii(new Br([])),n=new Ju(e,t),r=new Ju(e,t+1),i=ea();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Ju(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ju=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ii.comparator(t.key,e.key)||Pr(t.ns,e.ns)},t.Hn=function(t,e){return Pr(t.ns,e.ns)||ii.comparator(t.key,e.key)},t}(),Zu=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Wo(Ju.Gn)}return t.prototype.checkEmpty=function(t){return vs.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Cs(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Ju(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return vs.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return vs.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return vs.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return vs.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return vs.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ju(e,0),i=new Ju(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),vs.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Wo(Pr);return e.forEach((function(t){var e=new Ju(t,0),i=new Ju(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),vs.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ii.isDocumentKey(i)||(i=i.child(""));var o=new Ju(new ii(i),0),a=new Wo(Pr);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),vs.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;xr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return vs.forEach(e.mutations,(function(i){var o=new Ju(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ju(e,0),r=this.rs.firstAfterOrEqual(n);return vs.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,vs.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),tc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Bo(ii.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return vs.resolve(n?n.document.clone():Ei.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Xo();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ei.newInvalidDocument(t))})),vs.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Xo(),i=new ii(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||no(e,c)&&(r=r.insert(c.key,c.clone()))}return vs.resolve(r)},t.prototype.fs=function(t,e){return vs.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ec(this)},t.prototype.getSize=function(t){return vs.resolve(this.size)},t}(),ec=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,i.C6)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),vs.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(gu),nc=function(){function t(t){this.persistence=t,this.ds=new vu((function(t){return Ai(t)}),Si),this.lastRemoteSnapshotVersion=Vr.min(),this.highestTargetId=0,this.ws=0,this._s=new Qu,this.targetCount=0,this.ys=iu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),vs.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return vs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return vs.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),vs.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),vs.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new iu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,vs.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),vs.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,vs.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),vs.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return vs.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return vs.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),vs.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),vs.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),vs.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return vs.resolve(n)},t.prototype.containsKey=function(t,e){return vs.resolve(this._s.containsKey(e))},t}(),rc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new wr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new nc(this),this.Ut=new zs,this.Ue=function(t,e){return new tc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Ds(e),this.Ke=new $u(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Zu(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Sr("MemoryPersistence","Starting transaction:",t);var i=new ic(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return vs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ic=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,i.C6)(e,t),e}(ps),oc=function(){function t(t){this.persistence=t,this.As=new Qu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Nr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),vs.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),vs.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),vs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vs.forEach(this.vs,(function(r){var i=ii.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return vs.or([function(){return vs.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ac=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function sc(t,e){return"firestore_clients_"+t+"_"+e}function uc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function cc(t,e){return"firestore_targets_"+t+"_"+e}ac.UNAUTHENTICATED=new ac(null),ac.GOOGLE_CREDENTIALS=new ac("google-credentials-uid"),ac.FIRST_PARTY=new ac("first-party-uid"),ac.MOCK_USER=new ac("mock-user");var lc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ir(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(_r("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ir(i.error.code,i.error.message)),o?new t(e,i.state,r):(_r("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ra(),a=0;i&&a<r.activeTargetIds.length;++a)i=ri(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(_r("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),dc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(_r("SharedClientState","Failed to parse online state: "+e),null)},t}(),pc=function(){function t(){this.activeTargetIds=ra()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),mc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Bo(Pr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=sc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new pc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r,o,a,s,u,c,l,h,f=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(o=this.getItem(sc(this.persistenceKey,r)))&&(a=fc.Vs(r,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(cc(this.persistenceKey,t));if(n){var r=hc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(cc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Sr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Sr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Sr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Sr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,i.sH)(e,void 0,void 0,(function(){var t,e,r,o,a,s;return(0,i.YH)(this,(function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(t){var e=wr.o;if(null!=t)try{var n=JSON.parse(t);xr("number"==typeof n),e=n}catch(t){_r("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==wr.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new lc(this.currentUser,t,e,n),i=uc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=uc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=cc(this.persistenceKey,t),i=new hc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return fc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return lc.Vs(new ac(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return hc.Vs(r,e)},t.prototype.js=function(t){return dc.Vs(t)},t.prototype.ii=function(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Sr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ra();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),vc=function(){function t(){this.li=new pc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new pc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),gc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),yc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Sr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Sr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),bc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ec=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,i.C6)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new br;a.listenOnce(dr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case fr.NO_ERROR:var e=a.getResponseJson();Sr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case fr.TIMEOUT:Sr("Connection",'RPC "'+t+'" timed out'),o(new Ir(Er.DEADLINE_EXCEEDED,"Request time out"));break;case fr.HTTP_ERROR:var n=a.getStatus();if(Sr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Er).indexOf(e)>=0?e:Er.UNKNOWN}(r.status);o(new Ir(s,r.message))}else o(new Ir(Er.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ir(Er.UNAVAILABLE,"Connection failed."));break;default:Nr()}}finally{Sr("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new sr,i=Zt(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new gr({})),this.ki(a.initMessageHeaders,e),(0,o.jZ)()||(0,o.lV)()||(0,o.b8)()||(0,o.lT)()||(0,o.n4)()||(0,o.sr)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Sr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,h=new wc({Ei:function(t){l?Sr("Connection","Not sending because WebChannel is closed:",t):(c||(Sr("Connection","Opening WebChannel transport."),u.open(),c=!0),Sr("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,yr.EventType.OPEN,(function(){l||Sr("Connection","WebChannel transport opened.")})),f(u,yr.EventType.CLOSE,(function(){l||(l=!0,Sr("Connection","WebChannel transport closed"),h.Vi())})),f(u,yr.EventType.ERROR,(function(t){l||(l=!0,kr("Connection","WebChannel transport errored:",t),h.Vi(new Ir(Er.UNAVAILABLE,"The operation could not be completed")))})),f(u,yr.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];xr(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Sr("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Mo[t];if(void 0!==e)return qo(e)}(o),s=i.message;void 0===a&&(a=Er.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new Ir(a,s)),u.close()}else Sr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,pr.STAT_EVENT,(function(t){t.stat===mr?Sr("Connection","Detected buffering proxy"):t.stat===vr&&Sr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Sr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return Sr("RestConnection","Received: ",t),t}),(function(e){throw kr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=bc[t];return this.Di+"/v1/"+e+":"+n},t}());function Ic(){return"undefined"!=typeof window?window:null}function Tc(){return"undefined"!=typeof document?document:null}function Ac(t){return new ma(t,!0)}var Sc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Sr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),_c=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Sc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Er.RESOURCE_EXHAUSTED?(_r(e.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Er.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Ir(Er.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return(0,i.sH)(t,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Sr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Sr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),kc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,i.C6)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Nr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(xr(void 0===e||"string"==typeof e),Gr.fromBase64String(e||"")):(xr(void 0===e||e instanceof Uint8Array),Gr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Er.UNKNOWN:qo(t.code);return new Ir(e,t.message||"")}(s);n=new ua(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Ta(t,r.document.name),o=ba(r.document.updateTime);var s=new bi({mapValue:{fields:r.document.fields}}),u=(a=Ei.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new aa(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Ta(t,r.document),o=r.readTime?ba(r.readTime):Vr.min(),s=Ei.newNoDocument(i,o),a=r.removedTargetIds||[],n=new aa([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Ta(t,r.document),o=r.removedTargetIds||[],n=new aa([],o,i,null);else{if(!("filter"in e))return Nr();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new jo(r),o=l.targetId,n=new sa(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Vr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vr.min():e.readTime?ba(e.readTime):Vr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=_a(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=_i(r)?{documents:Ra(t,r)}:{query:Oa(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ga(t,e.resumeToken):e.snapshotVersion.compareTo(Vr.min())>0&&(n.readTime=va(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=_a(this.R),e.removeTarget=t,this.cr(e)},e}(_c),Cc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(xr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(xr(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ba(t.updateTime):ba(e);return n.isEqual(Vr.min())&&(n=ba(e)),new Io(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ba(t.commitTime);return this.listener.Tr(n,e)}return xr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=_a(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return xa(e.R,t)}))};this.cr(n)},e}(_c),Nc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,i.C6)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ir(Er.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Er.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ir(Er.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Er.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ir(Er.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),xc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(_r(e),this.Vr=!1):Sr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Dc=function(t,e,n,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(t){n.enqueueAndForget((function(){return(0,i.sH)(a,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return jc(this)?(Sr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return(e=Dr(t)).Or.add(4),[4,Oc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Rc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new xc(n,r)};function Rc(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:if(!jc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Oc(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Pc(t,e){var n=Dr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Uc(n)?Vc(n):el(n).er()&&Mc(n,e))}function Lc(t,e){var n=Dr(t),r=el(n);n.$r.delete(e),r.er()&&Fc(n,e),0===n.$r.size&&(r.er()?r.ir():jc(n)&&n.Br.set("Unknown"))}function Mc(t,e){t.qr.U(e.targetId),el(t).mr(e)}function Fc(t,e){t.qr.U(e),el(t).yr(e)}function Vc(t){t.qr=new la({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),el(t).start(),t.Br.Sr()}function Uc(t){return jc(t)&&!el(t).tr()&&t.$r.size>0}function jc(t){return 0===Dr(t).Or.size}function Hc(t){t.qr=void 0}function qc(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return t.$r.forEach((function(e,n){Mc(t,e)})),[2]}))}))}function Bc(t,e){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){return Hc(t),Uc(t)?(t.Br.Nr(e),Vc(t)):t.Br.set("Unknown"),[2]}))}))}function Kc(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a;return(0,i.YH)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ua&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=e.cause,r=0,o=e.targetIds,i.label=1;case 1:return r<o.length?(a=o[r],t.$r.has(a)?[4,t.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:i.sent(),t.$r.delete(a),t.qr.removeTarget(a),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Sr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,zc(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof aa?t.qr.X(e):e instanceof sa?t.qr.rt(e):t.qr.et(e),n.isEqual(Vr.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vu(t.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Gr.EMPTY_BYTE_STRING,n.snapshotVersion)),Fc(t,e);var r=new xs(n.target,e,1,n.sequenceNumber);Mc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Sr("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,zc(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function zc(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r=this;return(0,i.YH)(this,(function(o){switch(o.label){case 0:if(!Es(e))throw e;return t.Or.add(1),[4,Oc(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Vu(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return(0,i.sH)(r,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return Sr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Rc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Wc(t,e){return e().catch((function(n){return zc(t,n,e)}))}function Gc(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n,r,o,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:e=Dr(t),n=nl(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(t){return jc(t)&&t.Fr.length<10}(e))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Hu(e.localStore,r)];case 3:return null===(o=i.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(t,e){t.Fr.push(e);var n=nl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return a=i.sent(),[4,zc(e,a)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return Yc(e)&&Xc(e),[2]}}))}))}function Yc(t){return jc(t)&&!nl(t).tr()&&t.Fr.length>0}function Xc(t){nl(t).start()}function $c(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return nl(t).Ar(),[2]}))}))}function Qc(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n,r,o;return(0,i.YH)(this,(function(i){for(e=nl(t),n=0,r=t.Fr;n<r.length;n++)o=r[n],e.Er(o.mutations);return[2]}))}))}function Jc(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return r=t.Fr.shift(),o=Ns.from(r,e,n),[4,Wc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return i.sent(),[4,Gc(t)];case 2:return i.sent(),[2]}}))}))}function Zc(t,e){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e&&nl(t).pr?[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return Ho(r=e.code)&&r!==Er.ABORTED?(n=t.Fr.shift(),nl(t).sr(),[4,Wc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Gc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Yc(t)&&Xc(t),[2]}}))}))}function tl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return n=Dr(t),e?(n.Or.delete(2),[4,Rc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Oc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function el(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Dr(t);return r.br(),new kc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:qc.bind(null,t),Ri:Bc.bind(null,t),_r:Kc.bind(null,t)}),t.Mr.push((function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Uc(t)?Vc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function nl(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Dr(t);return r.br(),new Cc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:$c.bind(null,t),Ri:Zc.bind(null,t),Ir:Qc.bind(null,t),Tr:Jc.bind(null,t)}),t.Mr.push((function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Gc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Sr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var rl=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ir(Er.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function il(t,e){if(_r("AsyncQueue",e+": "+t),Es(t))return new Ir(Er.UNAVAILABLE,e+": "+t);throw t}var ol=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ii.comparator(e.key,n.key)}:function(t,e){return ii.comparator(t.key,e.key)},this.keyedMap=Qo(),this.sortedSet=new Bo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),al=function(){function t(){this.Qr=new Bo(ii.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Nr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),sl=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ol.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zi(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ul=function(){this.Wr=void 0,this.listeners=[]},cl=function(){this.queries=new vu((function(t){return to(t)}),Zi),this.onlineState="Unknown",this.Gr=new Set};function ll(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c;return(0,i.YH)(this,(function(i){switch(i.label){case 0:if(n=Dr(t),r=e.query,o=!1,(a=n.queries.get(r))||(o=!0,a=new ul),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),s=a,[4,n.onListen(r)];case 2:return s.Wr=i.sent(),[3,4];case 3:return u=i.sent(),c=il(u,"Initialization of query '"+eo(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,a),a.listeners.push(e),e.zr(n.onlineState),a.Wr&&e.Hr(a.Wr)&&pl(n),[2]}}))}))}function hl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.YH)(this,(function(i){return n=Dr(t),r=e.query,o=!1,(a=n.queries.get(r))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function fl(t,e){for(var n=Dr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&pl(n)}function dl(t,e,n){var r=Dr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function pl(t){t.Gr.forEach((function(t){t.next()}))}var ml=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new sl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),vl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),gl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ta(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Na(this.R,t.document,!1):Ei.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ba(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new gl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||ea()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,Yu(this.localStore,new gl(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(o=r[n],[4,Xu(this.localStore,o,e.get(o.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new xu(Object.assign({},this.progress),t))]}}))}))}}();var yl=function(t){this.key=t},bl=function(t){this.key=t},wl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ea(),this.mutatedKeys=ea(),this.lo=ro(t),this.fo=new ol(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new al,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=zi(this.query)&&i.size===this.query.limit?i.last():null,c=Wi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=no(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),zi(this.query)||Wi(this.query))for(;a.size>this.query.limit;){var l=zi(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new sl(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new al,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ea(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new bl(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new yl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ea();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return sl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),El=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Il=function(t){this.key=t,this.bo=!1},Tl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new vu((function(t){return to(t)}),Zi),this.Vo=new Map,this.So=new Set,this.Do=new Bo(ii.comparator),this.Co=new Map,this.No=new Qu,this.xo={},this.ko=new Map,this.Fo=iu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Al(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Zl(t),(a=n.Po.get(e))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,qu(n.localStore,Qi(e))];case 2:return s=i.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Sl(n,e,r,"current"===u)];case 3:o=i.sent(),n.isPrimaryClient&&Pc(n.remoteStore,s),i.label=4;case 4:return[2,o]}}))}))}function Sl(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return(0,i.YH)(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,a,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(o=e.view._o(n)).Nn?[4,Ku(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,o)}))]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return a=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(o,t.isPrimaryClient,a),[2,(Vl(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Ku(t.localStore,e,!0)];case 1:return o=h.sent(),a=new wl(e,o.Bn),s=a._o(o.documents),u=oa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=a.applyChanges(s,t.isPrimaryClient,u),Vl(t,n,c.To),l=new El(e,n,a),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function _l(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Dr(t),r=n.Po.get(e),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter((function(t){return!Zi(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Bu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Lc(n.remoteStore,r.targetId),Ml(n,r.targetId)})).catch(cu)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return Ml(n,r.targetId),[4,Bu(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function kl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:r=th(t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,r=Dr(t),i=Fr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ea());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Co(c,n.get(c.key));null!=l&&a.push(new Ro(c.key,l,wi(l.value.mapValue),To.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return o=i.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Bo(Pr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,o.batchId,n),[4,Hl(r,o.changes)];case 3:return i.sent(),[4,Gc(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return a=i.sent(),s=il(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Cl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Dr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Uu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(xr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?xr(r.bo):t.removedDocuments.size>0&&(xr(r.bo),r.bo=!1))})),[4,Hl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,cu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Nl(t,e,n){var r=Dr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Dr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&pl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a,s,u,c;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(r=Dr(t)).sharedClientState.updateQueryState(e,"rejected",n),o=r.Co.get(e),(a=o&&o.key)?(s=(s=new Bo(ii.comparator)).insert(a,Ei.newNoDocument(a,Vr.min())),u=ea().add(a),c=new ia(Vr.min(),new Map,new Wo(Pr),s,u),[4,Cl(r,c)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(a),r.Co.delete(e),jl(r),[3,4];case 2:return[4,Bu(r.localStore,e,!1).then((function(){return Ml(r,e,n)})).catch(cu)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}function Dl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Dr(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Fu(n.localStore,e)];case 2:return o=i.sent(),Ll(n,r,null),Pl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hl(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,cu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Rl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:r=Dr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=Dr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return xr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return o=i.sent(),Ll(r,e,n),Pl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hl(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,cu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ol(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:jc((n=Dr(t)).remoteStore)||Sr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=Dr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void e.resolve()]:((o=n.ko.get(r)||[]).push(e),n.ko.set(r,o),[3,4]);case 3:return a=i.sent(),s=il(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Pl(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Ll(t,e,n){var r=Dr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ml(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Fl(t,e)}))}function Fl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Lc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),jl(t))}function Vl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof yl?(t.No.addReference(o.key,e),Ul(t,o)):o instanceof bl?(Sr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Fl(t,o.key)):Nr()}}function Ul(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Sr("SyncEngine","New document in limbo: "+n),t.So.add(r),jl(t))}function jl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ii(Br.fromString(e)),r=t.Fo.next();t.Co.set(r,new Il(n)),t.Do=t.Do.insert(n,r),Pc(t.remoteStore,new xs(Qi(Ki(n.path)),r,2,wr.o))}}function Hl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.YH)(this,(function(u){switch(u.label){case 0:return r=Dr(t),o=[],a=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,i){s.push(r.Oo(i,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Ru.Pn(i.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(o),[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Dr(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return vs.forEach(e,(function(e){return vs.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return vs.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!Es(r=i.sent()))throw r;return Sr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,h));return[2]}}))}))}(r.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function ql(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(n=Dr(t)).currentUser.isEqual(e)?[3,3]:(Sr("SyncEngine","User change. New user:",e.toKey()),[4,Mu(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new Ir(Er.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Bl(t,e){var n=Dr(t),r=n.Co.get(e);if(r&&r.bo)return ea().add(r.key);var i=ea(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Kl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,Ku((n=Dr(t)).localStore,e.query,!0)];case 1:return r=i.sent(),o=e.view.Ao(r),[2,(n.isPrimaryClient&&Vl(n,e.targetId,o.To),o)]}}))}))}function zl(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){return[2,Wu((e=Dr(t)).localStore).then((function(t){return Hl(e,t)}))]}))}))}function Wl(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,function(t,e){var n=Dr(t),r=Dr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):vs.resolve(null)}))}))}((o=Dr(t)).localStore,e)];case 1:return null===(a=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gc(o.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ll(o,e,r||null),Pl(o,e),function(t,e){Dr(Dr(t)._n).Gt(e)}(o.localStore,e)):Nr(),i.label=4;case 4:return[4,Hl(o,a)];case 5:return i.sent(),[3,7];case 6:Sr("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function Gl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return Zl(n=Dr(t)),th(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Yl(n,r.toArray())]);case 1:return o=i.sent(),n.$o=!0,[4,tl(n.remoteStore,!0)];case 2:for(i.sent(),a=0,s=o;a<s.length;a++)u=s[a],Pc(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return Ml(n,e),Bu(n.localStore,e,!0)})),Lc(n.remoteStore,e)})),[4,l]);case 4:return i.sent(),[4,Yl(n,c)];case 5:return i.sent(),function(t){var e=Dr(t);e.Co.forEach((function(t,n){Lc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Bo(ii.comparator)}(n),n.$o=!1,[4,tl(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function Yl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h,f,d,p,m,v;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Dr(t),r=[],o=[],a=0,s=e,i.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,qu(n.localStore,Qi(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,Kl(n,p)]):[3,6];case 4:(m=i.sent()).snapshot&&o.push(m.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,zu(n.localStore,u)];case 8:return v=i.sent(),[4,qu(n.localStore,v)];case 9:return c=i.sent(),[4,Sl(n,Xl(v),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),r)]}}))}))}function Xl(t){return Bi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $l(t){var e=Dr(t);return Dr(Dr(e.localStore).persistence).fn()}function Ql(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,a,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(o=Dr(t)).$o?(Sr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wu(o.localStore)];case 3:return a=i.sent(),s=ia.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hl(o,a,s)];case 4:return i.sent(),[3,8];case 5:return[4,Bu(o.localStore,e,!0)];case 6:return i.sent(),Ml(o,e,r),[3,8];case 7:Nr(),i.label=8;case 8:return[2]}}))}))}function Jl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a,s,u,c,l,h,f,d;return(0,i.YH)(this,(function(p){switch(p.label){case 0:if(!(r=Zl(t)).$o)return[3,10];o=0,a=e,p.label=1;case 1:return o<a.length?(s=a[o],r.Vo.has(s)?(Sr("SyncEngine","Adding an already active target "+s),[3,5]):[4,zu(r.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,qu(r.localStore,u)];case 3:return c=p.sent(),[4,Sl(r,Xl(u),c.targetId,!1)];case 4:p.sent(),Pc(r.remoteStore,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(t){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Bu(r.localStore,t,!1).then((function(){Lc(r.remoteStore,t),Ml(r,t)})).catch(cu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(d=f[h],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Zl(t){var e=Dr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xl.bind(null,e),e.vo._r=fl.bind(null,e.eventManager),e.vo.Mo=dl.bind(null,e.eventManager),e}function th(t){var e=Dr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rl.bind(null,e),e}var eh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return this.R=Ac(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Lu(this.persistence,new Ou,t.initialUser,this.R)},t.prototype.qo=function(t){return new rc(oc.bs,this.R)},t.prototype.Bo=function(t){return new vc},t.prototype.terminate=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,i.C6)(e,t),e.prototype.initialize=function(e){return(0,i.sH)(this,void 0,void 0,(function(){var n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Gu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,th(this.Qo.syncEngine)];case 4:return r.sent(),[4,Gc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Lu(this.persistence,new Ou,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new fu(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new _u(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ic(),Tc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new vc},e}(eh),rh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,i.C6)(e,t),e.prototype.initialize=function(e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r=this;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof mc?(this.sharedClientState.syncEngine={ui:Wl.bind(null,n),ai:Ql.bind(null,n),hi:Jl.bind(null,n),fn:$l.bind(null,n),ci:zl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(t){return(0,i.sH)(r,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return[4,Gl(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Ic();if(!mc.yt(e))throw new Ir(Er.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(nh),ih=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Nl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ql.bind(null,this.syncEngine),[4,tl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new cl},t.prototype.createDatastore=function(t){var e,n=Ac(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Ec(e));return function(t,e,n){return new Nc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Nl(a.syncEngine,t,0)},o=yc.yt()?new yc:new gc,new Dc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Tl(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=Dr(t),Sr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Oc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),oh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ah=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ms,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new vl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ir(Er.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Dr(t),r=_a(n.R)+"/documents",o={documents:e.map((function(t){return Ia(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,o)];case 1:return a=i.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){xr(!!e.found),e.found.name,e.found.updateTime;var n=Ta(t,e.found.name),r=ba(e.found.updateTime),i=new bi({mapValue:{fields:e.found.fields}});return Ei.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){xr(!!e.missing),xr(!!e.readTime);var n=Ta(t,e.missing),r=ba(e.readTime);return Ei.newNoDocument(n,r)}(t,e):Nr()}(n.R,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());xr(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Vo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ii.fromPath(n);e.mutations.push(new Uo(r,e.precondition(r)))})),[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Dr(t),r=_a(n.R)+"/documents",o={writes:e.map((function(t){return xa(n.R,t)}))},[4,n.Ni("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Nr();e=Vr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ir(Er.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?To.updateTime(e):To.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Vr.min()))throw new Ir(Er.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return To.updateTime(e)}return To.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),sh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Sc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return(0,i.sH)(t,void 0,void 0,(function(){var t,e,n=this;return(0,i.YH)(this,(function(r){return t=new ah(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ei(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ho(e)}return!1},t}(),uh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ac.UNAUTHENTICATED,this.clientId=Or.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return(0,i.sH)(r,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return Sr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ir(Er.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.sH)(t,void 0,void 0,(function(){var t,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=il(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ch(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o=this;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Sr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=a.sent(),[4,e.initialize(n)];case 2:return a.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return(0,i.sH)(o,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Mu(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function lh(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,hh(t)];case 1:return n=o.sent(),Sr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(n=Dr(t)).asyncQueue.verifyOperationInProgress(),Sr("RemoteStore","RemoteStore received new credentials"),r=jc(n),n.Or.add(3),[4,Oc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Rc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function hh(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Sr("FirestoreClient","Using default OfflineComponentProvider"),[4,ch(t,new eh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function fh(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Sr("FirestoreClient","Using default OnlineComponentProvider"),[4,lh(t,new ih)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function dh(t){return hh(t).then((function(t){return t.persistence}))}function ph(t){return hh(t).then((function(t){return t.localStore}))}function mh(t){return fh(t).then((function(t){return t.remoteStore}))}function vh(t){return fh(t).then((function(t){return t.syncEngine}))}function gh(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,fh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Al.bind(null,e.syncEngine),n.onUnlisten=_l.bind(null,e.syncEngine),n)]}}))}))}function yh(t,e,n){var r=this;void 0===n&&(n={});var o=new ms;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(r,void 0,void 0,(function(){var r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new oh({next:function(o){e.enqueueAndForget((function(){return hl(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ir(Er.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ir(Er.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new ml(Ki(n.path),o,{includeMetadataChanges:!0,so:!0});return ll(t,a)},[4,gh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}function bh(t,e,n){var r=this;void 0===n&&(n={});var o=new ms;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(r,void 0,void 0,(function(){var r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new oh({next:function(n){e.enqueueAndForget((function(){return hl(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Ir(Er.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new ml(n,o,{includeMetadataChanges:!0,so:!0});return ll(t,a)},[4,gh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}var wh=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Eh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ih=new Map,Th=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ah=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(ac.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Sh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_h=function(){function t(t){var e=this;this.currentUser=ac.UNAUTHENTICATED,this.oc=new ms,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Sr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Sr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Sr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xr("string"==typeof n.accessToken),new Th(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return(0,i.sH)(n,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return xr(null===t||"string"==typeof t),new ac(t)},t}(),kh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ac.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Ch=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new kh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(ac.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Nh(t,e,n){if(!n)throw new Ir(Er.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ir(Er.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Dh(t,e,n,r){if(!0===e&&!0===r)throw new Ir(Er.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Rh(t){if(!ii.isDocumentKey(t))throw new Ir(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Oh(t){if(ii.isDocumentKey(t))throw new Ir(Er.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ph(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Nr()}function Lh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ir(Er.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ph(t);throw new Ir(Er.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Mh(t,e){if(e<=0)throw new Ir(Er.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Fh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ir(Er.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ir(Er.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Dh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Vh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fh({}),this._settingsFrozen=!1,t instanceof Eh?(this._databaseId=t,this._credentials=new Ah):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ir(Er.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eh(t.options.projectId)}(t),this._credentials=new _h(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ir(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ir(Er.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ah;switch(t.type){case"gapi":var e=t.client;return xr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ch(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ir(Er.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ih.get(this))&&(Sr("ComponentProvider","Removing Datastore"),Ih.delete(this),t.terminate()),Promise.resolve();var t},t}(),Uh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),jh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ki(r))||this)._path=r,i.type="collection",i}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Uh(this.firestore,null,new ii(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(jh);function qh(t,e){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(t=(0,o.Ku)(t),Nh("collection","path",e),t instanceof Vh)return Oh(n=Br.fromString.apply(Br,(0,i.fX)([e],r))),new Hh(t,null,n);if(!(t instanceof Uh||t instanceof Hh))throw new Ir(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Oh(n=Br.fromString.apply(Br,(0,i.fX)([t.path],r)).child(Br.fromString(e))),new Hh(t.firestore,null,n)}function Bh(t,e){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(t=(0,o.Ku)(t),1===arguments.length&&(e=Or.u()),Nh("doc","path",e),t instanceof Vh)return Rh(n=Br.fromString.apply(Br,(0,i.fX)([e],r))),new Uh(t,null,new ii(n));if(!(t instanceof Uh||t instanceof Hh))throw new Ir(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rh(n=t._path.child(Br.fromString.apply(Br,(0,i.fX)([e],r)))),new Uh(t.firestore,t instanceof Hh?t.converter:null,new ii(n))}function Kh(t,e){return t=(0,o.Ku)(t),e=(0,o.Ku)(e),(t instanceof Uh||t instanceof Hh)&&(e instanceof Uh||e instanceof Hh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zh(t,e){return t=(0,o.Ku)(t),e=(0,o.Ku)(e),t instanceof jh&&e instanceof jh&&t.firestore===e.firestore&&Zi(t._query,e._query)&&t.converter===e.converter}var Wh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Sc(this,"async_queue_retry"),this.Ic=function(){var e=Tc();e&&Sr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Tc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Tc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ms;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Es(t=n.sent()))throw t;return Sr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,_r("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=rl.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Nr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t;return(0,i.YH)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Gh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ms,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Yh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Wh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,i.C6)(e,t),e.prototype._terminate=function(){return this._firestoreClient||$h(this),this._firestoreClient.terminate()},e}(Vh);function Xh(t){return t._firestoreClient||$h(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $h(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new wh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new uh(t._credentials,t._queue,r)}function Qh(t,e,n){var r=this,o=new ms;return t.asyncQueue.enqueue((function(){return(0,i.sH)(r,void 0,void 0,(function(){var r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,ch(t,n)];case 1:return i.sent(),[4,lh(t,e)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Er.FAILED_PRECONDITION||t.code===Er.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Jh(t){if(t._initialized||t._terminated)throw new Ir(Er.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ir(Er.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),tf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Gr.fromBase64String(e))}catch(e){throw new Ir(Er.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Gr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ef=function(t){this._methodName=t},nf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ir(Er.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ir(Er.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Pr(this._lat,t._lat)||Pr(this._long,t._long)},t}(),rf=/^__.*__$/,of=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ro(t,this.data,this.fieldMask,e,this.fieldTransforms):new Do(t,this.data,e,this.fieldTransforms)},t}(),af=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ro(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function sf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nr()}}var uf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Cf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(sf(this.Nc)&&rf.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),cf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ac(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new uf({Nc:t,methodName:e,qc:n,path:zr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function lf(t){var e=t._freezeSettings(),n=Ac(t._databaseId);return new cf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Af("Data must be an object, but it was:",a,r);var s,u,c=If(r,a);if(o.merge)s=new Wr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Sf(e,f[h],n);if(!a.contains(d))throw new Ir(Er.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Nf(l,d)||l.push(d)}s=new Wr(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new of(new bi(c),s,u)}var ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ef);function df(t,e,n){return new uf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){return new Eo(t.path,new fo)},e.prototype.isEqual=function(t){return t instanceof e},e}(ef),mf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){var e=df(this,t,!0),n=this.Kc.map((function(t){return Ef(t,e)})),r=new po(n);return new Eo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ef),vf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){var e=df(this,t,!0),n=this.Kc.map((function(t){return Ef(t,e)})),r=new vo(n);return new Eo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ef),gf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){var e=new yo(t.R,so(t.R,this.Qc));return new Eo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ef);function yf(t,e,n,r){var i=t.Uc(1,e,n);Af("Data must be an object, but it was:",i,r);var a=[],s=bi.empty();jr(r,(function(t,r){var u=kf(e,t,n);r=(0,o.Ku)(r);var c=i.Oc(u);if(r instanceof ff)a.push(u);else{var l=Ef(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new Wr(a);return new af(s,u,i.fieldTransforms)}function bf(t,e,n,r,i,a){var s=t.Uc(1,e,n),u=[Sf(e,r,n)],c=[i];if(a.length%2!=0)throw new Ir(Er.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(Sf(e,a[l])),c.push(a[l+1]);for(var h=[],f=bi.empty(),d=u.length-1;d>=0;--d)if(!Nf(h,u[d])){var p=u[d],m=c[d];m=(0,o.Ku)(m);var v=s.Oc(p);if(m instanceof ff)h.push(p);else{var g=Ef(m,v);null!=g&&(h.push(p),f.set(p,g))}}var y=new Wr(h);return new af(f,y,s.fieldTransforms)}function wf(t,e,n,r){return void 0===r&&(r=!1),Ef(n,t.Uc(r?4:3,e))}function Ef(t,e){if(Tf(t=(0,o.Ku)(t)))return Af("Unsupported field value:",e,t),If(t,e);if(t instanceof ef)return function(t,e){if(!sf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Ef(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,o.Ku)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return so(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Fr.fromDate(t);return{timestampValue:va(e.R,n)}}if(t instanceof Fr)return n=new Fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:va(e.R,n)};if(t instanceof nf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tf)return{bytesValue:ga(e.R,t._byteString)};if(t instanceof Uh){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:wa(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Ph(t))}(t,e)}function If(t,e){var n={};return Hr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(t,(function(t,r){var i=Ef(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Tf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fr||t instanceof nf||t instanceof tf||t instanceof Uh||t instanceof ef)}function Af(t,e,n){if(!Tf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ph(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function Sf(t,e,n){if((e=(0,o.Ku)(e))instanceof Zh)return e._internalPath;if("string"==typeof e)return kf(t,e);throw Cf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _f=new RegExp("[~\\*/\\[\\]]");function kf(t,e,n){if(e.search(_f)>=0)throw Cf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Zh.bind.apply(Zh,(0,i.fX)([void 0],e.split(".")))))._internalPath}catch(r){throw Cf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Cf(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ir(Er.INVALID_ARGUMENT,(s+=". ")+t+u)}function Nf(t,e){return t.some((function(t){return t.isEqual(e)}))}var xf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Uh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Df(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Rf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(xf);function Rf(t,e){return"string"==typeof e?kf(t,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}var Of=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Pf=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,i.C6)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Rf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(xf),Lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Pf),Mf=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Of(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Lf(n._firestore,n._userDataWriter,r.key,r,new Of(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ir(Er.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Lf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Of(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Lf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Of(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ff(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ff(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nr()}}function Vf(t,e){return t instanceof Pf&&e instanceof Pf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Mf&&e instanceof Mf&&t._firestore===e._firestore&&zh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Uf(t){if(Wi(t)&&0===t.explicitOrderBy.length)throw new Ir(Er.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jf=function(){};function Hf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r]._apply(t);return t}var qf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=lf(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ir(Er.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Xf(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Yf(r,t,h))}s={arrayValue:{values:u}}}else s=Yf(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xf(a,o),s=wf(n,"where",a,"in"===o||"not-in"===o);var f=ki.create(i,o,s);return function(t,e){if(e.g()){var n=Yi(t);if(null!==n&&!n.isEqual(e.field))throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Gi(t);null!==r&&$f(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Ir(Er.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ir(Er.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new jh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(jf),Bf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vi(e,n);return function(t,e){if(null===Gi(t)){var n=Yi(t);null!==n&&$f(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new jh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new qi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(jf),Kf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,i.C6)(e,t),e.prototype._apply=function(t){return new jh(t.firestore,t.converter,Ji(t._query,this.Hc,this.Jc))},e}(jf),zf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=Gf(t,this.type,this.Yc,this.Xc);return new jh(t.firestore,t.converter,function(t,e){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(jf),Wf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=Gf(t,this.type,this.Yc,this.Xc);return new jh(t.firestore,t.converter,function(t,e){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(jf);function Gf(t,e,n,r){if(n[0]=(0,o.Ku)(n[0]),n[0]instanceof xf)return function(t,e,n,r,i){if(!r)throw new Ir(Er.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=$i(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(fi(e,r.key));else{var c=r.data.field(u.field);if(Jr(c))throw new Ir(Er.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Mi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=lf(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Ir(Er.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Xi(t)&&-1!==c.indexOf("/"))throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Br.fromString(c));if(!ii.isDocumentKey(l))throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ii(l);s.push(fi(e,h))}else{var f=wf(n,r,c);s.push(f)}}return new Mi(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Yf(t,e,n){if("string"==typeof(n=(0,o.Ku)(n))){if(""===n)throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xi(e)&&-1!==n.indexOf("/"))throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Br.fromString(n));if(!ii.isDocumentKey(r))throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fi(t,new ii(r))}if(n instanceof Uh)return fi(t,n._key);throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ph(n)+".")}function Xf(t,e){if(!Array.isArray(t)||0===t.length)throw new Ir(Er.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ir(Er.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $f(t,e,n){if(!n.isEqual(e))throw new Ir(Er.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Qf=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),oi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $r(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Nr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return jr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new nf($r(t.latitude),$r(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Zr(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ti(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Xr(t);return new Fr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Br.fromString(t);xr(za(n));var r=new Eh(n.get(1),n.get(3)),i=new ii(n.popFirst(5));return r.isEqual(e)||_r("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Jf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.C6)(e,t),e.prototype.convertBytes=function(t){return new tf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uh(this.firestore,null,e)},e}(Qf),td=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ed(t,this._firestore),i=Jf(r.converter,e,n),o=hf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,To.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var a,s=ed(t,this._firestore);return a="string"==typeof(e=(0,o.Ku)(e))||e instanceof Zh?bf(this._dataReader,"WriteBatch.update",s._key,e,n,r):yf(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,To.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ed(t,this._firestore);return this._mutations=this._mutations.concat(new Vo(e._key,To.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ir(Er.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ed(t,e){if((t=(0,o.Ku)(t)).firestore!==e)throw new Ir(Er.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.C6)(e,t),e.prototype.convertBytes=function(t){return new tf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uh(this.firestore,null,e)},e}(Qf);function rd(t,e,n){t=Lh(t,Uh);var r=Lh(t.firestore,Yh),i=Jf(t.converter,e,n);return ad(r,[hf(lf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,To.none())])}function id(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Lh(t,Uh);var a=Lh(t.firestore,Yh),s=lf(a);return ad(a,[("string"==typeof(e=(0,o.Ku)(e))||e instanceof Zh?bf(s,"updateDoc",t._key,e,n,r):yf(s,"updateDoc",t._key,e)).toMutation(t._key,To.exists(!0))])}function od(t){for(var e,n,r,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];t=(0,o.Ku)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Gh(a[c])||(u=a[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(Gh(a[c])){var p=a[c];a[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof Uh)h=Lh(t.firestore,Yh),f=Ki(t._key.path),l={next:function(e){a[c]&&a[c](sd(h,t,e))},error:a[c+1],complete:a[c+2]};else{var m=Lh(t,jh);h=Lh(m.firestore,Yh),f=m._query;var v=new nd(h);l={next:function(t){a[c]&&a[c](new Mf(h,v,m,t))},error:a[c+1],complete:a[c+2]},Uf(t._query)}return function(t,e,n,r){var o=this,a=new oh(r),s=new ml(e,a,n);return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(o,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=ll,[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(o,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=hl,[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Xh(h),f,d,l)}function ad(t,e){return function(t,e){var n=this,r=new ms;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=kl,[4,vh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Xh(t),e)}function sd(t,e,n){var r=n.docs.get(e._key),i=new nd(t);return new Pf(t,i,e._key,r,new Of(n.hasPendingWrites,n.fromCache),e.converter)}var ud=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,i.C6)(e,t),e.prototype.get=function(e){var n=this,r=ed(e,this._firestore),i=new nd(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Pf(n._firestore,i,r._key,t._document,new Of(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=lf(t)}return t.prototype.get=function(t){var e=this,n=ed(t,this._firestore),r=new Zf(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Nr();var i=t[0];if(i.isFoundDocument())return new xf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new xf(e._firestore,r,n._key,null,n.converter);throw Nr()}))},t.prototype.set=function(t,e,n){var r=ed(t,this._firestore),i=Jf(r.converter,e,n),o=hf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a,s=ed(t,this._firestore);return a="string"==typeof(e=(0,o.Ku)(e))||e instanceof Zh?bf(this._dataReader,"Transaction.update",s._key,e,n,r):yf(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this},t.prototype.delete=function(t){var e=ed(t,this._firestore);return this._transaction.delete(e._key),this},t}());function cd(){if("undefined"==typeof Uint8Array)throw new Ir(Er.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ld(){if("undefined"==typeof atob)throw new Ir(Er.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return ld(),new t(tf.fromBase64String(e))},t.fromUint8Array=function(e){return cd(),new t(tf.fromUint8Array(e))},t.prototype.toBase64=function(){return ld(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return cd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),fd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Jh(t=Lh(t,Yh));var n=Xh(t),r=t._freezeSettings(),i=new ih;return Qh(n,i,new nh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Jh(t=Lh(t,Yh));var e=Xh(t),n=t._freezeSettings(),r=new ih;return Qh(e,r,new rh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ir(Er.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ms;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return ys.yt()?(e=t+"main",[4,ys.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Nu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),dd=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Eh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||kr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var a=(t=Lh(t,Vh))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&kr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},a),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=ac.MOCK_USER;else{s=(0,o.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ir(Er.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ac(c)}t._credentials=new Sh(new Th(s,u))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,dh(t)];case 1:return e=r.sent(),[4,mh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Dr(t);return e.Or.delete(0),Rc(e)}(n))]}}))}))}))}(Xh(Lh(this._delegate,Yh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,dh(t)];case 1:return e=r.sent(),[4,mh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return(e=Dr(t)).Or.add(0),[4,Oc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Xh(Lh(this._delegate,Yh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Dh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ms;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return e=Ol,[4,vh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Xh(Lh(this._delegate,Yh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new oh(e);return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Dr(t).Gr.add(e),e.next()},[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Dr(t).Gr.delete(e)},[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Xh(t=Lh(t,Yh)),Gh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ir(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kd(this,qh(this._delegate,t))}catch(t){throw bd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new yd(this,Bh(this._delegate,t))}catch(t){throw bd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Ad(this,function(t,e){if(t=Lh(t,Vh),Nh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ir(Er.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jh(t,null,function(t){return new qi(Br.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw bd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ms;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,function(t){return fh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new sh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Xh(t),(function(n){return e(new ud(t,n))}))}(this._delegate,(function(n){return t(new md(e,n))}))},t.prototype.batch=function(){var t=this;return Xh(this._delegate),new vd(new td(this._delegate,(function(e){return ad(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Ir(Er.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ir(Er.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),pd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.C6)(e,t),e.prototype.convertBytes=function(t){return new hd(new tf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return yd.eu(e,this.firestore,null)},e}(Qf),md=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new pd(t)}return t.prototype.get=function(t){var e=this,n=Cd(t);return this._delegate.get(n).then((function(t){return new Id(e._firestore,new Pf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Cd(t);return n?(xh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Cd(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,i.fX)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Cd(t);return this._delegate.delete(e),this},t}(),vd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Cd(t);return n?(xh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Cd(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,i.fX)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Cd(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),gd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Lf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Td(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new pd(e),n),i.set(n,o)),o},t}();gd.su=new WeakMap;var yd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pd(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Ir(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Uh(n._delegate,r,new ii(e)))},t.eu=function(e,n,r){return new t(n,new Uh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kd(this.firestore,qh(this._delegate,t))}catch(t){throw bd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,o.Ku)(t))instanceof Uh&&Kh(this._delegate,t)},t.prototype.set=function(t,e){e=xh("DocumentReference.set",e);try{return e?rd(this._delegate,t,e):rd(this._delegate,t)}catch(t){throw bd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?id(this._delegate,t):id.apply(void 0,(0,i.fX)([this._delegate,t,e],n))}catch(t){throw bd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ad(Lh((t=this._delegate).firestore,Yh),[new Vo(t._key,To.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wd(e),i=Ed(e,(function(e){return new Id(t.firestore,new Pf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return od(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Lh(t,Uh);var e=Lh(t.firestore,Yh),n=Xh(e),r=new nd(e);return function(t,e){var n=this,r=new ms;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=Dr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(o=i.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new Ir(Er.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=il(r,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,ph(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Pf(e,r,t._key,n,new Of(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Lh(t,Uh);var e=Lh(t.firestore,Yh);return yh(Xh(e),t._key,{source:"server"}).then((function(n){return sd(e,t,n)}))}(this._delegate):function(t){t=Lh(t,Uh);var e=Lh(t.firestore,Yh);return yh(Xh(e),t._key).then((function(n){return sd(e,t,n)}))}(this._delegate)).then((function(t){return new Id(e.firestore,new Pf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(gd.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function bd(t,e,n){return t.message=t.message.replace(e,n),t}function wd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Gh(r))return r}return{}}function Ed(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Gh(t[0])?t[0]:Gh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Id=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new yd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Vf(this._delegate,t._delegate)},t}(),Td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Id),Ad=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Hf(this._delegate,function(t,e,n){var r=e,i=Rf("where",t);return new qf(i,r,n)}(e,n,r)))}catch(e){throw bd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Hf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Rf("orderBy",t);return new Bf(r,n)}(e,n)))}catch(e){throw bd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Mh("limit",t),new Kf("limit",t,"F")}(e)))}catch(e){throw bd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Mh("limitToLast",t),new Kf("limitToLast",t,"L")}(e)))}catch(e){throw bd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zf("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw bd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zf("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw bd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wf("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw bd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wf("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw bd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return zh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Lh(t,jh);var e=Lh(t.firestore,Yh),n=Xh(e),r=new nd(e);return function(t,e){var n=this,r=new ms;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a,s,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Ku(t,e,!0)];case 1:return u=i.sent(),r=new wl(e,u.Bn),o=r._o(u.documents),a=r.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=i.sent(),u=il(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ph(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Mf(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Lh(t,jh);var e=Lh(t.firestore,Yh),n=Xh(e),r=new nd(e);return bh(n,t._query,{source:"server"}).then((function(n){return new Mf(e,r,t,n)}))}(this._delegate):function(t){t=Lh(t,jh);var e=Lh(t.firestore,Yh),n=Xh(e),r=new nd(e);return Uf(t._query),bh(n,t._query).then((function(n){return new Mf(e,r,t,n)}))}(this._delegate)).then((function(t){return new _d(e.firestore,new Mf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wd(e),i=Ed(e,(function(e){return new _d(t.firestore,new Mf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return od(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(gd.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Sd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Td(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),_d=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ad(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Td(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Sd(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Td(n._firestore,r))}))},t.prototype.isEqual=function(t){return Vf(this._delegate,t._delegate)},t}(),kd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new yd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yd(this.firestore,void 0===t?Bh(this._delegate):Bh(this._delegate,t))}catch(t){throw bd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Lh(t.firestore,Yh),r=Bh(t),i=Jf(t.converter,e);return ad(n,[hf(lf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,To.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new yd(e.firestore,t)}))},e.prototype.isEqual=function(t){return Kh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(gd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(Ad);function Cd(t){return Lh(t,Uh)}var Nd,xd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Zh.bind.apply(Zh,(0,i.fX)([void 0],t)))}return t.documentId=function(){return new t(zr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,o.Ku)(t))instanceof Zh&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Dd=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new pf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new ff("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mf("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vf("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new gf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Rd=n(1134),Od={Firestore:dd,GeoPoint:nf,Timestamp:Fr,Blob:hd,Transaction:md,WriteBatch:vd,DocumentReference:yd,DocumentSnapshot:Id,Query:Ad,QueryDocumentSnapshot:Td,QuerySnapshot:_d,CollectionReference:kd,FieldPath:xd,FieldValue:Dd,setLogLevel:function(t){var e;e=t,Tr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Rd.uA("firestore",(function(t){return function(t,e){return new dd(t,new Yh(t,e),new fd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Od)))})(Nd=r.A),Nd.registerVersion("@firebase/firestore","2.4.1")},2799:(t,e)=>{if("function"==typeof Symbol&&Symbol.for){var n=Symbol.for;n("react.element"),n("react.portal"),n("react.fragment"),n("react.strict_mode"),n("react.profiler"),n("react.provider"),n("react.context"),n("react.forward_ref"),n("react.suspense"),n("react.suspense_list"),n("react.memo"),n("react.lazy"),n("react.block"),n("react.server.block"),n("react.fundamental"),n("react.debug_trace_mode"),n("react.legacy_hidden")}},4363:(t,e,n)=>{n(2799)},7353:(t,e,n)=>{n.d(e,{Ay:()=>m});var r=n(8587),i=n(5540),o=n(6540),a=n(961);var s=n(7241),u="unmounted",c="exited",l="entering",h="entered",f="exiting",d=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=c,r.appearStatus=l):i=h:i=e.unmountOnExit||e.mountOnEnter?u:c,r.state={status:i},r.nextCallback=null,r}(0,i.A)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:c}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==h&&(e=l):n!==l&&n!==h||(e=f)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===l){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],u=this.getTimeouts(),c=r?u.appear:u.enter;t||n?(this.props.onEnter(o,s),this.safeSetState({status:l},(function(){e.props.onEntering(o,s),e.onTransitionEnd(c,(function(){e.safeSetState({status:h},(function(){e.props.onEntered(o,s)}))}))}))):this.safeSetState({status:h},(function(){e.props.onEntered(o)}))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);e?(this.props.onExit(r),this.safeSetState({status:f},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,r.A)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(s.A.Provider,{value:null},"function"==typeof n?n(t,i):o.cloneElement(o.Children.only(n),i))},e}(o.Component);function p(){}d.contextType=s.A,d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=u,d.EXITED=c,d.ENTERING=l,d.ENTERED=h,d.EXITING=f;const m=d},7241:(t,e,n)=>{n.d(e,{A:()=>r});const r=n(6540).createContext(null)},1635:(t,e,n)=>{n.d(e,{C6:()=>i,Cl:()=>o,Ju:()=>u,YH:()=>s,fX:()=>l,sH:()=>a,zs:()=>c});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);